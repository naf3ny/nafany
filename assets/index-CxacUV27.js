var ZM=Object.defineProperty;var JM=(n,e,t)=>e in n?ZM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Re=(n,e,t)=>JM(n,typeof e!="symbol"?e+"":e,t);function e4(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function T2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _y={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function t4(){if(E1)return ju;E1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return ju.Fragment=e,ju.jsx=t,ju.jsxs=t,ju}var T1;function n4(){return T1||(T1=1,_y.exports=t4()),_y.exports}var y=n4(),wy={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function r4(){if(S1)return at;S1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function A(P,ee,ce){this.props=P,this.context=ee,this.refs=D,this.updater=ce||w}A.prototype.isReactComponent={},A.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=A.prototype;function U(P,ee,ce){this.props=P,this.context=ee,this.refs=D,this.updater=ce||w}var B=U.prototype=new O;B.constructor=U,E(B,A.prototype),B.isPureReactComponent=!0;var $=Array.isArray,k={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function I(P,ee,ce,de,_e,ze){return ce=ze.ref,{$$typeof:n,type:P,key:ee,ref:ce!==void 0?ce:null,props:ze}}function R(P,ee){return I(P.type,ee,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function N(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return ee[ce]})}var L=/\/+/g;function H(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):ee.toString(36)}function F(){}function Te(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(F,F):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function xe(P,ee,ce,de,_e){var ze=typeof P;(ze==="undefined"||ze==="boolean")&&(P=null);var Ge=!1;if(P===null)Ge=!0;else switch(ze){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(P.$$typeof){case n:case e:Ge=!0;break;case g:return Ge=P._init,xe(Ge(P._payload),ee,ce,de,_e)}}if(Ge)return _e=_e(P),Ge=de===""?"."+H(P,0):de,$(_e)?(ce="",Ge!=null&&(ce=Ge.replace(L,"$&/")+"/"),xe(_e,ee,ce,"",function(He){return He})):_e!=null&&(C(_e)&&(_e=R(_e,ce+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+Ge)),ee.push(_e)),1;Ge=0;var Ut=de===""?".":de+":";if($(P))for(var it=0;it<P.length;it++)de=P[it],ze=Ut+H(de,it),Ge+=xe(de,ee,ce,ze,_e);else if(it=x(P),typeof it=="function")for(P=it.call(P),it=0;!(de=P.next()).done;)de=de.value,ze=Ut+H(de,it++),Ge+=xe(de,ee,ce,ze,_e);else if(ze==="object"){if(typeof P.then=="function")return xe(Te(P),ee,ce,de,_e);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function K(P,ee,ce){if(P==null)return P;var de=[],_e=0;return xe(P,de,"","",function(ze){return ee.call(ce,ze,_e++)}),de}function ne(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var se=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function be(){}return at.Children={map:K,forEach:function(P,ee,ce){K(P,function(){ee.apply(this,arguments)},ce)},count:function(P){var ee=0;return K(P,function(){ee++}),ee},toArray:function(P){return K(P,function(ee){return ee})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},at.Component=A,at.Fragment=t,at.Profiler=a,at.PureComponent=U,at.StrictMode=r,at.Suspense=f,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,at.act=function(){throw Error("act(...) is not supported in production builds of React.")},at.cache=function(P){return function(){return P.apply(null,arguments)}},at.cloneElement=function(P,ee,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=E({},P.props),_e=P.key,ze=void 0;if(ee!=null)for(Ge in ee.ref!==void 0&&(ze=void 0),ee.key!==void 0&&(_e=""+ee.key),ee)!Y.call(ee,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ee.ref===void 0||(de[Ge]=ee[Ge]);var Ge=arguments.length-2;if(Ge===1)de.children=ce;else if(1<Ge){for(var Ut=Array(Ge),it=0;it<Ge;it++)Ut[it]=arguments[it+2];de.children=Ut}return I(P.type,_e,void 0,void 0,ze,de)},at.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},at.createElement=function(P,ee,ce){var de,_e={},ze=null;if(ee!=null)for(de in ee.key!==void 0&&(ze=""+ee.key),ee)Y.call(ee,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=ee[de]);var Ge=arguments.length-2;if(Ge===1)_e.children=ce;else if(1<Ge){for(var Ut=Array(Ge),it=0;it<Ge;it++)Ut[it]=arguments[it+2];_e.children=Ut}if(P&&P.defaultProps)for(de in Ge=P.defaultProps,Ge)_e[de]===void 0&&(_e[de]=Ge[de]);return I(P,ze,void 0,void 0,null,_e)},at.createRef=function(){return{current:null}},at.forwardRef=function(P){return{$$typeof:u,render:P}},at.isValidElement=C,at.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ne}},at.memo=function(P,ee){return{$$typeof:h,type:P,compare:ee===void 0?null:ee}},at.startTransition=function(P){var ee=k.T,ce={};k.T=ce;try{var de=P(),_e=k.S;_e!==null&&_e(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(be,se)}catch(ze){se(ze)}finally{k.T=ee}},at.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},at.use=function(P){return k.H.use(P)},at.useActionState=function(P,ee,ce){return k.H.useActionState(P,ee,ce)},at.useCallback=function(P,ee){return k.H.useCallback(P,ee)},at.useContext=function(P){return k.H.useContext(P)},at.useDebugValue=function(){},at.useDeferredValue=function(P,ee){return k.H.useDeferredValue(P,ee)},at.useEffect=function(P,ee){return k.H.useEffect(P,ee)},at.useId=function(){return k.H.useId()},at.useImperativeHandle=function(P,ee,ce){return k.H.useImperativeHandle(P,ee,ce)},at.useInsertionEffect=function(P,ee){return k.H.useInsertionEffect(P,ee)},at.useLayoutEffect=function(P,ee){return k.H.useLayoutEffect(P,ee)},at.useMemo=function(P,ee){return k.H.useMemo(P,ee)},at.useOptimistic=function(P,ee){return k.H.useOptimistic(P,ee)},at.useReducer=function(P,ee,ce){return k.H.useReducer(P,ee,ce)},at.useRef=function(P){return k.H.useRef(P)},at.useState=function(P){return k.H.useState(P)},at.useSyncExternalStore=function(P,ee,ce){return k.H.useSyncExternalStore(P,ee,ce)},at.useTransition=function(){return k.H.useTransition()},at.version="19.0.0",at}var D1;function wv(){return D1||(D1=1,wy.exports=r4()),wy.exports}var M=wv();const X=T2(M),a4=e4({__proto__:null,default:X},[M]);var Ey={exports:{}},Vu={},Ty={exports:{}},Sy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function i4(){return A1||(A1=1,function(n){function e(K,ne){var se=K.length;K.push(ne);e:for(;0<se;){var be=se-1>>>1,P=K[be];if(0<a(P,ne))K[be]=ne,K[se]=P,se=be;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],se=K.pop();if(se!==ne){K[0]=se;e:for(var be=0,P=K.length,ee=P>>>1;be<ee;){var ce=2*(be+1)-1,de=K[ce],_e=ce+1,ze=K[_e];if(0>a(de,se))_e<P&&0>a(ze,de)?(K[be]=ze,K[_e]=se,be=_e):(K[be]=de,K[ce]=se,be=ce);else if(_e<P&&0>a(ze,se))K[be]=ze,K[_e]=se,be=_e;else break e}}return ne}function a(K,ne){var se=K.sortIndex-ne.sortIndex;return se!==0?se:K.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],g=1,v=null,x=3,w=!1,E=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=K)r(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(h)}}function $(K){if(D=!1,B(K),!E)if(t(f)!==null)E=!0,Te();else{var ne=t(h);ne!==null&&xe($,ne.startTime-K)}}var k=!1,Y=-1,I=5,R=-1;function C(){return!(n.unstable_now()-R<I)}function N(){if(k){var K=n.unstable_now();R=K;var ne=!0;try{e:{E=!1,D&&(D=!1,O(Y),Y=-1),w=!0;var se=x;try{t:{for(B(K),v=t(f);v!==null&&!(v.expirationTime>K&&C());){var be=v.callback;if(typeof be=="function"){v.callback=null,x=v.priorityLevel;var P=be(v.expirationTime<=K);if(K=n.unstable_now(),typeof P=="function"){v.callback=P,B(K),ne=!0;break t}v===t(f)&&r(f),B(K)}else r(f);v=t(f)}if(v!==null)ne=!0;else{var ee=t(h);ee!==null&&xe($,ee.startTime-K),ne=!1}}break e}finally{v=null,x=se,w=!1}ne=void 0}}finally{ne?L():k=!1}}}var L;if(typeof U=="function")L=function(){U(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=N,L=function(){F.postMessage(null)}}else L=function(){A(N,0)};function Te(){k||(k=!0,L())}function xe(K,ne){Y=A(function(){K(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,Te())},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var se=x;x=ne;try{return K()}finally{x=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=x;x=K;try{return ne()}finally{x=se}},n.unstable_scheduleCallback=function(K,ne,se){var be=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,K){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=se+P,K={id:g++,callback:ne,priorityLevel:K,startTime:se,expirationTime:P,sortIndex:-1},se>be?(K.sortIndex=se,e(h,K),t(f)===null&&K===t(h)&&(D?(O(Y),Y=-1):D=!0,xe($,se-be))):(K.sortIndex=P,e(f,K),E||w||(E=!0,Te())),K},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(K){var ne=x;return function(){var se=x;x=ne;try{return K.apply(this,arguments)}finally{x=se}}}}(Sy)),Sy}var R1;function s4(){return R1||(R1=1,Ty.exports=i4()),Ty.exports}var Dy={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function o4(){if(C1)return cr;C1=1;var n=wv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},cr.flushSync=function(f){var h=l.T,g=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=g,r.d.f()}},cr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},cr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},cr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},cr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},cr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},cr.requestFormReset=function(f){r.d.r(f)},cr.unstable_batchedUpdates=function(f,h){return f(h)},cr.useFormState=function(f,h,g){return l.H.useFormState(f,h,g)},cr.useFormStatus=function(){return l.H.useHostTransitionStatus()},cr.version="19.0.0",cr}var N1;function S2(){if(N1)return Dy.exports;N1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dy.exports=o4(),Dy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function l4(){if(M1)return Vu;M1=1;var n=s4(),e=wv(),t=S2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case u:return"Portal";case g:return"Profiler";case h:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case x:return(i._context.displayName||"Context")+".Consumer";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:R(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return R(i(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,L,H;function F(i){if(L===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+H}var Te=!1;function xe(i,s){if(!i||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(oe){var re=oe}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(oe){re=oe}i.call(ye.prototype)}}else{try{throw Error()}catch(oe){re=oe}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),S=b[0],j=b[1];if(S&&j){var z=S.split(`
`),Q=j.split(`
`);for(p=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(d===z.length||p===Q.length)for(d=z.length-1,p=Q.length-1;1<=d&&0<=p&&z[d]!==Q[p];)p--;for(;1<=d&&0<=p;d--,p--)if(z[d]!==Q[p]){if(d!==1||p!==1)do if(d--,p--,0>p||z[d]!==Q[p]){var le=`
`+z[d].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=d&&0<=p);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?F(c):""}function K(i){switch(i.tag){case 26:case 27:case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function ne(i){try{var s="";do s+=K(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function se(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function be(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function P(i){if(se(i)!==i)throw Error(r(188))}function ee(i){var s=i.alternate;if(!s){if(s=se(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var p=c.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===c)return P(p),i;if(b===d)return P(p),s;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=b;else{for(var S=!1,j=p.child;j;){if(j===c){S=!0,c=p,d=b;break}if(j===d){S=!0,d=p,c=b;break}j=j.sibling}if(!S){for(j=b.child;j;){if(j===c){S=!0,c=b,d=p;break}if(j===d){S=!0,d=b,c=p;break}j=j.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function ce(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=ce(i),s!==null)return s;i=i.sibling}return null}var de=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze={pending:!1,data:null,method:null,action:null},Ge=[],Ut=-1;function it(i){return{current:i}}function He(i){0>Ut||(i.current=Ge[Ut],Ge[Ut]=null,Ut--)}function ge(i,s){Ut++,Ge[Ut]=i.current,i.current=s}var pe=it(null),ke=it(null),Me=it(null),Ze=it(null);function zt(i,s){switch(ge(Me,s),ge(ke,i),ge(pe,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Zw(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Zw(i),s=Jw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}He(pe),ge(pe,s)}function we(){He(pe),He(ke),He(Me)}function Ie(i){i.memoizedState!==null&&ge(Ze,i);var s=pe.current,c=Jw(s,i.type);s!==c&&(ge(ke,i),ge(pe,c))}function nt(i){ke.current===i&&(He(pe),He(ke)),Ze.current===i&&(He(Ze),Mu._currentValue=ze)}var ot=Object.prototype.hasOwnProperty,Jt=n.unstable_scheduleCallback,sn=n.unstable_cancelCallback,sr=n.unstable_shouldYield,En=n.unstable_requestPaint,Ht=n.unstable_now,pn=n.unstable_getCurrentPriorityLevel,Ot=n.unstable_ImmediatePriority,gn=n.unstable_UserBlockingPriority,Lr=n.unstable_NormalPriority,dl=n.unstable_LowPriority,Nr=n.unstable_IdlePriority,fl=n.log,ja=n.unstable_setDisableYieldValue,Ea=null,Ln=null;function ns(i){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Ea,i,void 0,(i.current.flags&128)===128)}catch{}}function vr(i){if(typeof fl=="function"&&ja(i),Ln&&typeof Ln.setStrictMode=="function")try{Ln.setStrictMode(Ea,i)}catch{}}var Un=Math.clz32?Math.clz32:io,gi=Math.log,hl=Math.LN2;function io(i){return i>>>=0,i===0?32:31-(gi(i)/hl|0)|0}var Wr=128,Ta=4194304;function or(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qn(i,s){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,b=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var j=c&134217727;return j!==0?(c=j&~p,c!==0?d=or(c):(b&=j,b!==0?d=or(b):i||(S=j&~S,S!==0&&(d=or(S))))):(j=c&~p,j!==0?d=or(j):b!==0?d=or(b):i||(S=c&~S,S!==0&&(d=or(S)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,S=s&-s,p>=S||p===32&&(S&4194176)!==0)?s:d}function Va(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function rs(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q(){var i=Wr;return Wr<<=1,(Wr&4194176)===0&&(Wr=128),i}function W(){var i=Ta;return Ta<<=1,(Ta&62914560)===0&&(Ta=4194304),i}function ae(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function ue(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Se(i,s,c,d,p,b){var S=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var j=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(c=S&~c;0<c;){var le=31-Un(c),ye=1<<le;j[le]=0,z[le]=-1;var re=Q[le];if(re!==null)for(Q[le]=null,le=0;le<re.length;le++){var oe=re[le];oe!==null&&(oe.lane&=-536870913)}c&=~ye}d!==0&&Ye(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(S&~s))}function Ye(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-Un(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Fe(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-Un(c),p=1<<d;p&s|i[d]&s&&(i[d]|=s),c&=~p}}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ue(){var i=_e.p;return i!==0?i:(i=window.event,i===void 0?32:y1(i.type))}function De(i,s){var c=_e.p;try{return _e.p=i,s()}finally{_e.p=c}}var Pe=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Pe,Qe="__reactProps$"+Pe,Tt="__reactContainer$"+Pe,Wt="__reactEvents$"+Pe,Bt="__reactListeners$"+Pe,_t="__reactHandles$"+Pe,Qt="__reactResources$"+Pe,br="__reactMarker$"+Pe;function Ur(i){delete i[Oe],delete i[Qe],delete i[Wt],delete i[Bt],delete i[_t]}function yn(i){var s=i[Oe];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Tt]||c[Oe]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=n1(i);i!==null;){if(c=i[Oe])return c;i=n1(i)}return s}i=c,c=i.parentNode}return null}function Tn(i){if(i=i[Oe]||i[Tt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Xr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mr(i){var s=i[Qt];return s||(s=i[Qt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(i){i[br]=!0}var La=new Set,Sa={};function st(i,s){Ct(i,s),Ct(i+"Capture",s)}function Ct(i,s){for(Sa[i]=s,i=0;i<s.length;i++)La.add(s[i])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yt={},Zr={};function so(i){return ot.call(Zr,i)?!0:ot.call(Yt,i)?!1:yi.test(i)?Zr[i]=!0:(Yt[i]=!0,!1)}function Ua(i,s,c){if(so(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function as(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Jr(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}function xr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dp(i){var s=Zd(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,b=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,b.call(this,S)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function oo(i){i._valueTracker||(i._valueTracker=Dp(i))}function Fc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=Zd(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function ml(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vi=/[\n"\\]/g;function on(i){return i.replace(vi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function is(i,s,c,d,p,b,S,j){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+xr(s)):i.value!==""+xr(s)&&(i.value=""+xr(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?pl(i,S,xr(s)):c!=null?pl(i,S,xr(c)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+xr(j):i.removeAttribute("name")}function lo(i,s,c,d,p,b,S,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+xr(c):"",s=s!=null?""+xr(s):c,j||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=j?i.checked:!!d,i.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function pl(i,s,c){s==="number"&&ml(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function St(i,s,c,d){if(i=i.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<i.length;c++)p=s.hasOwnProperty("$"+i[c].value),i[c].selected!==p&&(i[c].selected=p),p&&d&&(i[c].defaultSelected=!0)}else{for(c=""+xr(c),s=null,p=0;p<i.length;p++){if(i[p].value===c){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function co(i,s,c){if(s!=null&&(s=""+xr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+xr(c):""}function ss(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(de(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=xr(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function ea(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Ap=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||Ap.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Jd(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&c[p]!==d&&zc(i,p,d)}else for(var b in s)s.hasOwnProperty(b)&&zc(i,b,s[b])}function Hc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(i){return Cp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ta=null;function gl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bi=null,xi=null;function _i(i){var s=Tn(i);if(s&&(i=s.stateNode)){var c=i[Qe]||null;e:switch(i=s.stateNode,s.type){case"input":if(is(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var p=d[Qe]||null;if(!p)throw Error(r(90));is(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&Fc(d)}break e;case"textarea":co(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&St(i,!!c.multiple,s,!1)}}}var Yc=!1;function ef(i,s,c){if(Yc)return i(s,c);Yc=!0;try{var d=i(s);return d}finally{if(Yc=!1,(bi!==null||xi!==null)&&($f(),bi&&(s=bi,i=xi,xi=bi=null,_i(s),i)))for(s=0;s<i.length;s++)_i(i[s])}}function uo(i,s){var c=i.stateNode;if(c===null)return null;var d=c[Qe]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var na=!1;if(Bn)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){na=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{na=!1}var Fa=null,os=null,wi=null;function qc(){if(wi)return wi;var i,s=os,c=s.length,d,p="value"in Fa?Fa.value:Fa.textContent,b=p.length;for(i=0;i<c&&s[i]===p[i];i++);var S=c-i;for(d=1;d<=S&&s[c-d]===p[b-d];d++);return wi=p.slice(i,1<d?1-d:void 0)}function za(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ha(){return!0}function $c(){return!1}function Fn(i){function s(c,d,p,b,S){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(c=i[j],this[j]=c?c(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ha:$c,this.isPropagationStopped=$c,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),s}var Mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=Fn(Mt),ho=N({},Mt,{view:0,detail:0}),tf=Fn(ho),vl,bl,Ya,mo=N({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ya&&(Ya&&i.type==="mousemove"?(vl=i.screenX-Ya.screenX,bl=i.screenY-Ya.screenY):bl=vl=0,Ya=i),vl)},movementY:function(i){return"movementY"in i?i.movementY:bl}}),ra=Fn(mo),nf=N({},mo,{dataTransfer:0}),Np=Fn(nf),po=N({},ho,{relatedTarget:0}),xl=Fn(po),Gc=N({},Mt,{animationName:0,elapsedTime:0,pseudoElement:0}),_l=Fn(Gc),rf=N({},Mt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wl=Fn(rf),Mp=N({},Mt,{data:0}),Qc=Fn(Mp),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=sf[i])?!!s[i]:!1}function yo(){return Kc}var of=N({},ho,{key:function(i){if(i.key){var s=go[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=za(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?af[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(i){return i.type==="keypress"?za(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?za(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),El=Fn(of),lf=N({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=Fn(lf),Ei=N({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),cf=Fn(Ei),uf=N({},Mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),df=Fn(uf),ff=N({},mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=Fn(ff),_r=N({},Mt,{newState:0,oldState:0}),hf=Fn(_r),mf=[9,13,27,32],qa=Bn&&"CompositionEvent"in window,m=null;Bn&&"documentMode"in document&&(m=document.documentMode);var _=Bn&&"TextEvent"in window&&!m,T=Bn&&(!qa||m&&8<m&&11>=m),V=" ",J=!1;function ie(i,s){switch(i){case"keyup":return mf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gt=!1;function Nn(i,s){switch(i){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(J=!0,V);case"textInput":return i=s.data,i===V&&J?null:i;default:return null}}function yt(i,s){if(gt)return i==="compositionend"||!qa&&ie(i,s)?(i=qc(),wi=os=Fa=null,gt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!zn[i.type]:s==="textarea"}function Ti(i,s,c,d){bi?xi?xi.push(d):xi=[d]:bi=d,s=Xf(s,"onChange"),0<s.length&&(c=new yl("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var Kn=null,$a=null;function Xc(i){Gw(i,0)}function pf(i){var s=Xr(i);if(Fc(s))return i}function wx(i,s){if(i==="change")return s}var Ex=!1;if(Bn){var kp;if(Bn){var Pp="oninput"in document;if(!Pp){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),Pp=typeof Tx.oninput=="function"}kp=Pp}else kp=!1;Ex=kp&&(!document.documentMode||9<document.documentMode)}function Sx(){Kn&&(Kn.detachEvent("onpropertychange",Dx),$a=Kn=null)}function Dx(i){if(i.propertyName==="value"&&pf($a)){var s=[];Ti(s,$a,i,gl(i)),ef(Xc,s)}}function RN(i,s,c){i==="focusin"?(Sx(),Kn=s,$a=c,Kn.attachEvent("onpropertychange",Dx)):i==="focusout"&&Sx()}function CN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pf($a)}function NN(i,s){if(i==="click")return pf(s)}function MN(i,s){if(i==="input"||i==="change")return pf(s)}function kN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Br=typeof Object.is=="function"?Object.is:kN;function Zc(i,s){if(Br(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!ot.call(s,p)||!Br(i[p],s[p]))return!1}return!0}function Ax(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rx(i,s){var c=Ax(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Ax(c)}}function Cx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Nx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ml(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ml(i.document)}return s}function Op(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function PN(i,s){var c=Nx(s);s=i.focusedElem;var d=i.selectionRange;if(c!==s&&s&&s.ownerDocument&&Cx(s.ownerDocument.documentElement,s)){if(d!==null&&Op(s)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(c,s.value.length);else if(c=(i=s.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var p=s.textContent.length,b=Math.min(d.start,p);d=d.end===void 0?b:Math.min(d.end,p),!c.extend&&b>d&&(p=d,d=b,b=p),p=Rx(s,b);var S=Rx(s,d);p&&S&&(c.rangeCount!==1||c.anchorNode!==p.node||c.anchorOffset!==p.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),c.removeAllRanges(),b>d?(c.addRange(i),c.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),c.addRange(i)))}}for(i=[],c=s;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)c=i[s],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var ON=Bn&&"documentMode"in document&&11>=document.documentMode,Sl=null,Ip=null,Jc=null,jp=!1;function Mx(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;jp||Sl==null||Sl!==ml(d)||(d=Sl,"selectionStart"in d&&Op(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Jc&&Zc(Jc,d)||(Jc=d,d=Xf(Ip,"onSelect"),0<d.length&&(s=new yl("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=Sl)))}function vo(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Dl={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionrun:vo("Transition","TransitionRun"),transitionstart:vo("Transition","TransitionStart"),transitioncancel:vo("Transition","TransitionCancel"),transitionend:vo("Transition","TransitionEnd")},Vp={},kx={};Bn&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function bo(i){if(Vp[i])return Vp[i];if(!Dl[i])return i;var s=Dl[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in kx)return Vp[i]=s[c];return i}var Px=bo("animationend"),Ox=bo("animationiteration"),Ix=bo("animationstart"),IN=bo("transitionrun"),jN=bo("transitionstart"),VN=bo("transitioncancel"),jx=bo("transitionend"),Vx=new Map,Lx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Da(i,s){Vx.set(i,s),st(s,[i])}var aa=[],Al=0,Lp=0;function gf(){for(var i=Al,s=Lp=Al=0;s<i;){var c=aa[s];aa[s++]=null;var d=aa[s];aa[s++]=null;var p=aa[s];aa[s++]=null;var b=aa[s];if(aa[s++]=null,d!==null&&p!==null){var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}b!==0&&Ux(c,p,b)}}function yf(i,s,c,d){aa[Al++]=i,aa[Al++]=s,aa[Al++]=c,aa[Al++]=d,Lp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Up(i,s,c,d){return yf(i,s,c,d),vf(i)}function ls(i,s){return yf(i,null,null,s),vf(i)}function Ux(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var p=!1,b=i.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;p&&s!==null&&i.tag===3&&(b=i.stateNode,p=31-Un(c),b=b.hiddenUpdates,i=b[p],i===null?b[p]=[s]:i.push(s),s.lane=c|536870912)}function vf(i){if(50<Tu)throw Tu=0,qg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Rl={},Bx=new WeakMap;function ia(i,s){if(typeof i=="object"&&i!==null){var c=Bx.get(i);return c!==void 0?c:(s={value:i,source:s,stack:ne(s)},Bx.set(i,s),s)}return{value:i,source:s,stack:ne(s)}}var Cl=[],Nl=0,bf=null,xf=0,sa=[],oa=0,xo=null,Si=1,Di="";function _o(i,s){Cl[Nl++]=xf,Cl[Nl++]=bf,bf=i,xf=s}function Fx(i,s,c){sa[oa++]=Si,sa[oa++]=Di,sa[oa++]=xo,xo=i;var d=Si;i=Di;var p=32-Un(d)-1;d&=~(1<<p),c+=1;var b=32-Un(s)+p;if(30<b){var S=p-p%5;b=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Si=1<<32-Un(s)+p|c<<p|d,Di=b+i}else Si=1<<b|c<<p|d,Di=i}function Bp(i){i.return!==null&&(_o(i,1),Fx(i,1,0))}function Fp(i){for(;i===bf;)bf=Cl[--Nl],Cl[Nl]=null,xf=Cl[--Nl],Cl[Nl]=null;for(;i===xo;)xo=sa[--oa],sa[oa]=null,Di=sa[--oa],sa[oa]=null,Si=sa[--oa],sa[oa]=null}var wr=null,Wn=null,Dt=!1,Aa=null,Ga=!1,zp=Error(r(519));function wo(i){var s=Error(r(418,""));throw nu(ia(s,i)),zp}function zx(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[Oe]=i,s[Qe]=d,c){case"dialog":pt("cancel",s),pt("close",s);break;case"iframe":case"object":case"embed":pt("load",s);break;case"video":case"audio":for(c=0;c<Du.length;c++)pt(Du[c],s);break;case"source":pt("error",s);break;case"img":case"image":case"link":pt("error",s),pt("load",s);break;case"details":pt("toggle",s);break;case"input":pt("invalid",s),lo(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),oo(s);break;case"select":pt("invalid",s);break;case"textarea":pt("invalid",s),ss(s,d.value,d.defaultValue,d.children),oo(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||Xw(s.textContent,c)?(d.popover!=null&&(pt("beforetoggle",s),pt("toggle",s)),d.onScroll!=null&&pt("scroll",s),d.onScrollEnd!=null&&pt("scrollend",s),d.onClick!=null&&(s.onclick=Zf),s=!0):s=!1,s||wo(i)}function Hx(i){for(wr=i.return;wr;)switch(wr.tag){case 3:case 27:Ga=!0;return;case 5:case 13:Ga=!1;return;default:wr=wr.return}}function eu(i){if(i!==wr)return!1;if(!Dt)return Hx(i),Dt=!0,!1;var s=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ly(i.type,i.memoizedProps)),c=!c),c&&(s=!0),s&&Wn&&wo(i),Hx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){Wn=Ca(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}Wn=null}}else Wn=wr?Ca(i.stateNode.nextSibling):null;return!0}function tu(){Wn=wr=null,Dt=!1}function nu(i){Aa===null?Aa=[i]:Aa.push(i)}var ru=Error(r(460)),Yx=Error(r(474)),Hp={then:function(){}};function qx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _f(){}function $x(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(_f,_f),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===ru?Error(r(483)):i;default:if(typeof s.status=="string")s.then(_f,_f);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===ru?Error(r(483)):i}throw au=s,ru}}var au=null;function Gx(){if(au===null)throw Error(r(459));var i=au;return au=null,i}var Ml=null,iu=0;function wf(i){var s=iu;return iu+=1,Ml===null&&(Ml=[]),$x(Ml,i,s)}function su(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ef(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qx(i){var s=i._init;return s(i._payload)}function Kx(i){function s(Z,G){if(i){var te=Z.deletions;te===null?(Z.deletions=[G],Z.flags|=16):te.push(G)}}function c(Z,G){if(!i)return null;for(;G!==null;)s(Z,G),G=G.sibling;return null}function d(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function p(Z,G){return Z=xs(Z,G),Z.index=0,Z.sibling=null,Z}function b(Z,G,te){return Z.index=te,i?(te=Z.alternate,te!==null?(te=te.index,te<G?(Z.flags|=33554434,G):te):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function S(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function j(Z,G,te,fe){return G===null||G.tag!==6?(G=Vg(te,Z.mode,fe),G.return=Z,G):(G=p(G,te),G.return=Z,G)}function z(Z,G,te,fe){var je=te.type;return je===f?le(Z,G,te.props.children,fe,te.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Qx(je)===G.type)?(G=p(G,te.props),su(G,te),G.return=Z,G):(G=Ff(te.type,te.key,te.props,null,Z.mode,fe),su(G,te),G.return=Z,G)}function Q(Z,G,te,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=Lg(te,Z.mode,fe),G.return=Z,G):(G=p(G,te.children||[]),G.return=Z,G)}function le(Z,G,te,fe,je){return G===null||G.tag!==7?(G=ko(te,Z.mode,fe,je),G.return=Z,G):(G=p(G,te),G.return=Z,G)}function ye(Z,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Vg(""+G,Z.mode,te),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return te=Ff(G.type,G.key,G.props,null,Z.mode,te),su(te,G),te.return=Z,te;case u:return G=Lg(G,Z.mode,te),G.return=Z,G;case U:var fe=G._init;return G=fe(G._payload),ye(Z,G,te)}if(de(G)||Y(G))return G=ko(G,Z.mode,te,null),G.return=Z,G;if(typeof G.then=="function")return ye(Z,wf(G),te);if(G.$$typeof===w)return ye(Z,Lf(Z,G),te);Ef(Z,G)}return null}function re(Z,G,te,fe){var je=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return je!==null?null:j(Z,G,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return te.key===je?z(Z,G,te,fe):null;case u:return te.key===je?Q(Z,G,te,fe):null;case U:return je=te._init,te=je(te._payload),re(Z,G,te,fe)}if(de(te)||Y(te))return je!==null?null:le(Z,G,te,fe,null);if(typeof te.then=="function")return re(Z,G,wf(te),fe);if(te.$$typeof===w)return re(Z,G,Lf(Z,te),fe);Ef(Z,te)}return null}function oe(Z,G,te,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(te)||null,j(G,Z,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return Z=Z.get(fe.key===null?te:fe.key)||null,z(G,Z,fe,je);case u:return Z=Z.get(fe.key===null?te:fe.key)||null,Q(G,Z,fe,je);case U:var ut=fe._init;return fe=ut(fe._payload),oe(Z,G,te,fe,je)}if(de(fe)||Y(fe))return Z=Z.get(te)||null,le(G,Z,fe,je,null);if(typeof fe.then=="function")return oe(Z,G,te,wf(fe),je);if(fe.$$typeof===w)return oe(Z,G,te,Lf(G,fe),je);Ef(G,fe)}return null}function Be(Z,G,te,fe){for(var je=null,ut=null,qe=G,Ke=G=0,qn=null;qe!==null&&Ke<te.length;Ke++){qe.index>Ke?(qn=qe,qe=null):qn=qe.sibling;var At=re(Z,qe,te[Ke],fe);if(At===null){qe===null&&(qe=qn);break}i&&qe&&At.alternate===null&&s(Z,qe),G=b(At,G,Ke),ut===null?je=At:ut.sibling=At,ut=At,qe=qn}if(Ke===te.length)return c(Z,qe),Dt&&_o(Z,Ke),je;if(qe===null){for(;Ke<te.length;Ke++)qe=ye(Z,te[Ke],fe),qe!==null&&(G=b(qe,G,Ke),ut===null?je=qe:ut.sibling=qe,ut=qe);return Dt&&_o(Z,Ke),je}for(qe=d(qe);Ke<te.length;Ke++)qn=oe(qe,Z,Ke,te[Ke],fe),qn!==null&&(i&&qn.alternate!==null&&qe.delete(qn.key===null?Ke:qn.key),G=b(qn,G,Ke),ut===null?je=qn:ut.sibling=qn,ut=qn);return i&&qe.forEach(function(As){return s(Z,As)}),Dt&&_o(Z,Ke),je}function et(Z,G,te,fe){if(te==null)throw Error(r(151));for(var je=null,ut=null,qe=G,Ke=G=0,qn=null,At=te.next();qe!==null&&!At.done;Ke++,At=te.next()){qe.index>Ke?(qn=qe,qe=null):qn=qe.sibling;var As=re(Z,qe,At.value,fe);if(As===null){qe===null&&(qe=qn);break}i&&qe&&As.alternate===null&&s(Z,qe),G=b(As,G,Ke),ut===null?je=As:ut.sibling=As,ut=As,qe=qn}if(At.done)return c(Z,qe),Dt&&_o(Z,Ke),je;if(qe===null){for(;!At.done;Ke++,At=te.next())At=ye(Z,At.value,fe),At!==null&&(G=b(At,G,Ke),ut===null?je=At:ut.sibling=At,ut=At);return Dt&&_o(Z,Ke),je}for(qe=d(qe);!At.done;Ke++,At=te.next())At=oe(qe,Z,Ke,At.value,fe),At!==null&&(i&&At.alternate!==null&&qe.delete(At.key===null?Ke:At.key),G=b(At,G,Ke),ut===null?je=At:ut.sibling=At,ut=At);return i&&qe.forEach(function(XM){return s(Z,XM)}),Dt&&_o(Z,Ke),je}function un(Z,G,te,fe){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case l:e:{for(var je=te.key;G!==null;){if(G.key===je){if(je=te.type,je===f){if(G.tag===7){c(Z,G.sibling),fe=p(G,te.props.children),fe.return=Z,Z=fe;break e}}else if(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Qx(je)===G.type){c(Z,G.sibling),fe=p(G,te.props),su(fe,te),fe.return=Z,Z=fe;break e}c(Z,G);break}else s(Z,G);G=G.sibling}te.type===f?(fe=ko(te.props.children,Z.mode,fe,te.key),fe.return=Z,Z=fe):(fe=Ff(te.type,te.key,te.props,null,Z.mode,fe),su(fe,te),fe.return=Z,Z=fe)}return S(Z);case u:e:{for(je=te.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){c(Z,G.sibling),fe=p(G,te.children||[]),fe.return=Z,Z=fe;break e}else{c(Z,G);break}else s(Z,G);G=G.sibling}fe=Lg(te,Z.mode,fe),fe.return=Z,Z=fe}return S(Z);case U:return je=te._init,te=je(te._payload),un(Z,G,te,fe)}if(de(te))return Be(Z,G,te,fe);if(Y(te)){if(je=Y(te),typeof je!="function")throw Error(r(150));return te=je.call(te),et(Z,G,te,fe)}if(typeof te.then=="function")return un(Z,G,wf(te),fe);if(te.$$typeof===w)return un(Z,G,Lf(Z,te),fe);Ef(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(c(Z,G.sibling),fe=p(G,te),fe.return=Z,Z=fe):(c(Z,G),fe=Vg(te,Z.mode,fe),fe.return=Z,Z=fe),S(Z)):c(Z,G)}return function(Z,G,te,fe){try{iu=0;var je=un(Z,G,te,fe);return Ml=null,je}catch(qe){if(qe===ru)throw qe;var ut=da(29,qe,null,Z.mode);return ut.lanes=fe,ut.return=Z,ut}finally{}}}var Eo=Kx(!0),Wx=Kx(!1),kl=it(null),Tf=it(0);function Xx(i,s){i=Vi,ge(Tf,i),ge(kl,s),Vi=i|s.baseLanes}function Yp(){ge(Tf,Vi),ge(kl,kl.current)}function qp(){Vi=Tf.current,He(kl),He(Tf)}var la=it(null),Qa=null;function cs(i){var s=i.alternate;ge(kn,kn.current&1),ge(la,i),Qa===null&&(s===null||kl.current!==null||s.memoizedState!==null)&&(Qa=i)}function Zx(i){if(i.tag===22){if(ge(kn,kn.current),ge(la,i),Qa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Qa=i)}}else us()}function us(){ge(kn,kn.current),ge(la,la.current)}function Ai(i){He(la),Qa===i&&(Qa=null),He(kn)}var kn=it(0);function Sf(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var LN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},UN=n.unstable_scheduleCallback,BN=n.unstable_NormalPriority,Pn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $p(){return{controller:new LN,data:new Map,refCount:0}}function ou(i){i.refCount--,i.refCount===0&&UN(BN,function(){i.controller.abort()})}var lu=null,Gp=0,Pl=0,Ol=null;function FN(i,s){if(lu===null){var c=lu=[];Gp=0,Pl=Jg(),Ol={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Gp++,s.then(Jx,Jx),s}function Jx(){if(--Gp===0&&lu!==null){Ol!==null&&(Ol.status="fulfilled");var i=lu;lu=null,Pl=0,Ol=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function zN(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<c.length;p++)(0,c[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var e_=C.S;C.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&FN(i,s),e_!==null&&e_(i,s)};var To=it(null);function Qp(){var i=To.current;return i!==null?i:qt.pooledCache}function Df(i,s){s===null?ge(To,To.current):ge(To,s.pool)}function t_(){var i=Qp();return i===null?null:{parent:Pn._currentValue,pool:i}}var ds=0,lt=null,Vt=null,Sn=null,Af=!1,Il=!1,So=!1,Rf=0,cu=0,jl=null,HN=0;function vn(){throw Error(r(321))}function Kp(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!Br(i[c],s[c]))return!1;return!0}function Wp(i,s,c,d,p,b){return ds=b,lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=i===null||i.memoizedState===null?Do:fs,So=!1,b=c(d,p),So=!1,Il&&(b=r_(s,c,d,p)),n_(i),b}function n_(i){C.H=Ka;var s=Vt!==null&&Vt.next!==null;if(ds=0,Sn=Vt=lt=null,Af=!1,cu=0,jl=null,s)throw Error(r(300));i===null||Hn||(i=i.dependencies,i!==null&&Vf(i)&&(Hn=!0))}function r_(i,s,c,d){lt=i;var p=0;do{if(Il&&(jl=null),cu=0,Il=!1,25<=p)throw Error(r(301));if(p+=1,Sn=Vt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}C.H=Ao,b=s(c,d)}while(Il);return b}function YN(){var i=C.H,s=i.useState()[0];return s=typeof s.then=="function"?uu(s):s,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(lt.flags|=1024),s}function Xp(){var i=Rf!==0;return Rf=0,i}function Zp(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Jp(i){if(Af){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Af=!1}ds=0,Sn=Vt=lt=null,Il=!1,cu=Rf=0,jl=null}function kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?lt.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function Dn(){if(Vt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var s=Sn===null?lt.memoizedState:Sn.next;if(s!==null)Sn=s,Vt=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Sn===null?lt.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}var Cf;Cf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function uu(i){var s=cu;return cu+=1,jl===null&&(jl=[]),i=$x(jl,i,s),s=lt,(Sn===null?s.memoizedState:Sn.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?Do:fs),i}function Nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return uu(i);if(i.$$typeof===w)return lr(i)}throw Error(r(438,String(i)))}function eg(i){var s=null,c=lt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=lt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Cf(),lt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=$;return s.index++,c}function Ri(i,s){return typeof s=="function"?s(i):s}function Mf(i){var s=Dn();return tg(s,Vt,i)}function tg(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var S=p.next;p.next=b.next,b.next=S}s.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var j=S=null,z=null,Q=s,le=!1;do{var ye=Q.lane&-536870913;if(ye!==Q.lane?(vt&ye)===ye:(ds&ye)===ye){var re=Q.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ye===Pl&&(le=!0);else if((ds&re)===re){Q=Q.next,re===Pl&&(le=!0);continue}else ye={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(j=z=ye,S=b):z=z.next=ye,lt.lanes|=re,_s|=re;ye=Q.action,So&&c(b,ye),b=Q.hasEagerState?Q.eagerState:c(b,ye)}else re={lane:ye,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(j=z=re,S=b):z=z.next=re,lt.lanes|=ye,_s|=ye;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?S=b:z.next=j,!Br(b,i.memoizedState)&&(Hn=!0,le&&(c=Ol,c!==null)))throw c;i.memoizedState=b,i.baseState=S,i.baseQueue=z,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function ng(i){var s=Dn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,p=c.pending,b=s.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do b=i(b,S.action),S=S.next;while(S!==p);Br(b,s.memoizedState)||(Hn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,d]}function a_(i,s,c){var d=lt,p=Dn(),b=Dt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var S=!Br((Vt||p).memoizedState,c);if(S&&(p.memoizedState=c,Hn=!0),p=p.queue,ig(o_.bind(null,d,p,i),[i]),p.getSnapshot!==s||S||Sn!==null&&Sn.memoizedState.tag&1){if(d.flags|=2048,Vl(9,s_.bind(null,d,p,c,s),{destroy:void 0},null),qt===null)throw Error(r(349));b||(ds&60)!==0||i_(d,s,c)}return c}function i_(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=lt.updateQueue,s===null?(s=Cf(),lt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function s_(i,s,c,d){s.value=c,s.getSnapshot=d,l_(s)&&c_(i)}function o_(i,s,c){return c(function(){l_(s)&&c_(i)})}function l_(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!Br(i,c)}catch{return!0}}function c_(i){var s=ls(i,2);s!==null&&Er(s,i,2)}function rg(i){var s=kr();if(typeof i=="function"){var c=i;if(i=c(),So){vr(!0);try{c()}finally{vr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:i},s}function u_(i,s,c,d){return i.baseState=c,tg(i,Vt,typeof d=="function"?d:Ri)}function qN(i,s,c,d,p){if(Of(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};C.T!==null?c(!0):b.isTransition=!1,d(b),c=s.pending,c===null?(b.next=s.pending=b,d_(s,b)):(b.next=c.next,s.pending=c.next=b)}}function d_(i,s){var c=s.action,d=s.payload,p=i.state;if(s.isTransition){var b=C.T,S={};C.T=S;try{var j=c(p,d),z=C.S;z!==null&&z(S,j),f_(i,s,j)}catch(Q){ag(i,s,Q)}finally{C.T=b}}else try{b=c(p,d),f_(i,s,b)}catch(Q){ag(i,s,Q)}}function f_(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){h_(i,s,d)},function(d){return ag(i,s,d)}):h_(i,s,c)}function h_(i,s,c){s.status="fulfilled",s.value=c,m_(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,d_(i,c)))}function ag(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,m_(s),s=s.next;while(s!==d)}i.action=null}function m_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function p_(i,s){return s}function g_(i,s){if(Dt){var c=qt.formState;if(c!==null){e:{var d=lt;if(Dt){if(Wn){t:{for(var p=Wn,b=Ga;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ca(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){Wn=Ca(p.nextSibling),d=p.data==="F!";break e}}wo(d)}d=!1}d&&(s=c[0])}}return c=kr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:s},c.queue=d,c=O_.bind(null,lt,d),d.dispatch=c,d=rg(!1),b=ug.bind(null,lt,!1,d.queue),d=kr(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,c=qN.bind(null,lt,p,b,c),p.dispatch=c,d.memoizedState=i,[s,c,!1]}function y_(i){var s=Dn();return v_(s,Vt,i)}function v_(i,s,c){s=tg(i,s,p_)[0],i=Mf(Ri)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?uu(s):s;var d=Dn(),p=d.queue,b=p.dispatch;return c!==d.memoizedState&&(lt.flags|=2048,Vl(9,$N.bind(null,p,c),{destroy:void 0},null)),[s,b,i]}function $N(i,s){i.action=s}function b_(i){var s=Dn(),c=Vt;if(c!==null)return v_(s,c,i);Dn(),s=s.memoizedState,c=Dn();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function Vl(i,s,c,d){return i={tag:i,create:s,inst:c,deps:d,next:null},s=lt.updateQueue,s===null&&(s=Cf(),lt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function x_(){return Dn().memoizedState}function kf(i,s,c,d){var p=kr();lt.flags|=i,p.memoizedState=Vl(1|s,c,{destroy:void 0},d===void 0?null:d)}function Pf(i,s,c,d){var p=Dn();d=d===void 0?null:d;var b=p.memoizedState.inst;Vt!==null&&d!==null&&Kp(d,Vt.memoizedState.deps)?p.memoizedState=Vl(s,c,b,d):(lt.flags|=i,p.memoizedState=Vl(1|s,c,b,d))}function __(i,s){kf(8390656,8,i,s)}function ig(i,s){Pf(2048,8,i,s)}function w_(i,s){return Pf(4,2,i,s)}function E_(i,s){return Pf(4,4,i,s)}function T_(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function S_(i,s,c){c=c!=null?c.concat([i]):null,Pf(4,4,T_.bind(null,s,i),c)}function sg(){}function D_(i,s){var c=Dn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&Kp(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function A_(i,s){var c=Dn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&Kp(s,d[1]))return d[0];if(d=i(),So){vr(!0);try{i()}finally{vr(!1)}}return c.memoizedState=[d,s],d}function og(i,s,c){return c===void 0||(ds&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=Cw(),lt.lanes|=i,_s|=i,c)}function R_(i,s,c,d){return Br(c,s)?c:kl.current!==null?(i=og(i,c,d),Br(i,s)||(Hn=!0),i):(ds&42)===0?(Hn=!0,i.memoizedState=c):(i=Cw(),lt.lanes|=i,_s|=i,s)}function C_(i,s,c,d,p){var b=_e.p;_e.p=b!==0&&8>b?b:8;var S=C.T,j={};C.T=j,ug(i,!1,s,c);try{var z=p(),Q=C.S;if(Q!==null&&Q(j,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=zN(z,d);du(i,s,le,Yr(i))}else du(i,s,d,Yr(i))}catch(ye){du(i,s,{then:function(){},status:"rejected",reason:ye},Yr())}finally{_e.p=b,C.T=S}}function GN(){}function lg(i,s,c,d){if(i.tag!==5)throw Error(r(476));var p=N_(i).queue;C_(i,p,s,ze,c===null?GN:function(){return M_(i),c(d)})}function N_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ze},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function M_(i){var s=N_(i).next.queue;du(i,s,{},Yr())}function cg(){return lr(Mu)}function k_(){return Dn().memoizedState}function P_(){return Dn().memoizedState}function QN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Yr();i=ps(c);var d=gs(s,i,c);d!==null&&(Er(d,s,c),mu(d,s,c)),s={cache:$p()},i.payload=s;return}s=s.return}}function KN(i,s,c){var d=Yr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Of(i)?I_(s,c):(c=Up(i,s,c,d),c!==null&&(Er(c,i,d),j_(c,s,d)))}function O_(i,s,c){var d=Yr();du(i,s,c,d)}function du(i,s,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Of(i))I_(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var S=s.lastRenderedState,j=b(S,c);if(p.hasEagerState=!0,p.eagerState=j,Br(j,S))return yf(i,s,p,0),qt===null&&gf(),!1}catch{}finally{}if(c=Up(i,s,p,d),c!==null)return Er(c,i,d),j_(c,s,d),!0}return!1}function ug(i,s,c,d){if(d={lane:2,revertLane:Jg(),action:d,hasEagerState:!1,eagerState:null,next:null},Of(i)){if(s)throw Error(r(479))}else s=Up(i,c,d,2),s!==null&&Er(s,i,2)}function Of(i){var s=i.alternate;return i===lt||s!==null&&s===lt}function I_(i,s){Il=Af=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function j_(i,s,c){if((c&4194176)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}var Ka={readContext:lr,use:Nf,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn};Ka.useCacheRefresh=vn,Ka.useMemoCache=vn,Ka.useHostTransitionStatus=vn,Ka.useFormState=vn,Ka.useActionState=vn,Ka.useOptimistic=vn;var Do={readContext:lr,use:Nf,useCallback:function(i,s){return kr().memoizedState=[i,s===void 0?null:s],i},useContext:lr,useEffect:__,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,kf(4194308,4,T_.bind(null,s,i),c)},useLayoutEffect:function(i,s){return kf(4194308,4,i,s)},useInsertionEffect:function(i,s){kf(4,2,i,s)},useMemo:function(i,s){var c=kr();s=s===void 0?null:s;var d=i();if(So){vr(!0);try{i()}finally{vr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=kr();if(c!==void 0){var p=c(s);if(So){vr(!0);try{c(s)}finally{vr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=KN.bind(null,lt,i),[d.memoizedState,i]},useRef:function(i){var s=kr();return i={current:i},s.memoizedState=i},useState:function(i){i=rg(i);var s=i.queue,c=O_.bind(null,lt,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:sg,useDeferredValue:function(i,s){var c=kr();return og(c,i,s)},useTransition:function(){var i=rg(!1);return i=C_.bind(null,lt,i.queue,!0,!1),kr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=lt,p=kr();if(Dt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),qt===null)throw Error(r(349));(vt&60)!==0||i_(d,s,c)}p.memoizedState=c;var b={value:c,getSnapshot:s};return p.queue=b,__(o_.bind(null,d,b,i),[i]),d.flags|=2048,Vl(9,s_.bind(null,d,b,c,s),{destroy:void 0},null),c},useId:function(){var i=kr(),s=qt.identifierPrefix;if(Dt){var c=Di,d=Si;c=(d&~(1<<32-Un(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Rf++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=HN++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return kr().memoizedState=QN.bind(null,lt)}};Do.useMemoCache=eg,Do.useHostTransitionStatus=cg,Do.useFormState=g_,Do.useActionState=g_,Do.useOptimistic=function(i){var s=kr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=ug.bind(null,lt,!0,c),c.dispatch=s,[i,s]};var fs={readContext:lr,use:Nf,useCallback:D_,useContext:lr,useEffect:ig,useImperativeHandle:S_,useInsertionEffect:w_,useLayoutEffect:E_,useMemo:A_,useReducer:Mf,useRef:x_,useState:function(){return Mf(Ri)},useDebugValue:sg,useDeferredValue:function(i,s){var c=Dn();return R_(c,Vt.memoizedState,i,s)},useTransition:function(){var i=Mf(Ri)[0],s=Dn().memoizedState;return[typeof i=="boolean"?i:uu(i),s]},useSyncExternalStore:a_,useId:k_};fs.useCacheRefresh=P_,fs.useMemoCache=eg,fs.useHostTransitionStatus=cg,fs.useFormState=y_,fs.useActionState=y_,fs.useOptimistic=function(i,s){var c=Dn();return u_(c,Vt,i,s)};var Ao={readContext:lr,use:Nf,useCallback:D_,useContext:lr,useEffect:ig,useImperativeHandle:S_,useInsertionEffect:w_,useLayoutEffect:E_,useMemo:A_,useReducer:ng,useRef:x_,useState:function(){return ng(Ri)},useDebugValue:sg,useDeferredValue:function(i,s){var c=Dn();return Vt===null?og(c,i,s):R_(c,Vt.memoizedState,i,s)},useTransition:function(){var i=ng(Ri)[0],s=Dn().memoizedState;return[typeof i=="boolean"?i:uu(i),s]},useSyncExternalStore:a_,useId:k_};Ao.useCacheRefresh=P_,Ao.useMemoCache=eg,Ao.useHostTransitionStatus=cg,Ao.useFormState=b_,Ao.useActionState=b_,Ao.useOptimistic=function(i,s){var c=Dn();return Vt!==null?u_(c,Vt,i,s):(c.baseState=i,[i,c.queue.dispatch])};function dg(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:N({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var fg={isMounted:function(i){return(i=i._reactInternals)?se(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var d=Yr(),p=ps(d);p.payload=s,c!=null&&(p.callback=c),s=gs(i,p,d),s!==null&&(Er(s,i,d),mu(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=Yr(),p=ps(d);p.tag=1,p.payload=s,c!=null&&(p.callback=c),s=gs(i,p,d),s!==null&&(Er(s,i,d),mu(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Yr(),d=ps(c);d.tag=2,s!=null&&(d.callback=s),s=gs(i,d,c),s!==null&&(Er(s,i,c),mu(s,i,c))}};function V_(i,s,c,d,p,b,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,S):s.prototype&&s.prototype.isPureReactComponent?!Zc(c,d)||!Zc(p,b):!0}function L_(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&fg.enqueueReplaceState(s,s.state,null)}function Ro(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=N({},c));for(var p in i)c[p]===void 0&&(c[p]=i[p])}return c}var If=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function U_(i){If(i)}function B_(i){console.error(i)}function F_(i){If(i)}function jf(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function z_(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function hg(i,s,c){return c=ps(c),c.tag=3,c.payload={element:null},c.callback=function(){jf(i,s)},c}function H_(i){return i=ps(i),i.tag=3,i}function Y_(i,s,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){z_(s,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){z_(s,c,d),typeof p!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var j=d.stack;this.componentDidCatch(d.value,{componentStack:j!==null?j:""})})}function WN(i,s,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&hu(s,c,p,!0),c=la.current,c!==null){switch(c.tag){case 13:return Qa===null?Qg():c.alternate===null&&cn===0&&(cn=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===Hp?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Wg(i,d,p)),!1;case 22:return c.flags|=65536,d===Hp?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Wg(i,d,p)),!1}throw Error(r(435,c.tag))}return Wg(i,d,p),Qg(),!1}if(Dt)return s=la.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==zp&&(i=Error(r(422),{cause:d}),nu(ia(i,c)))):(d!==zp&&(s=Error(r(423),{cause:d}),nu(ia(s,c))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=ia(d,c),p=hg(i.stateNode,d,p),Rg(i,p),cn!==4&&(cn=2)),!1;var b=Error(r(520),{cause:d});if(b=ia(b,c),wu===null?wu=[b]:wu.push(b),cn!==4&&(cn=2),s===null)return!0;d=ia(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=p&-p,c.lanes|=i,i=hg(c.stateNode,d,i),Rg(c,i),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ws===null||!ws.has(b))))return c.flags|=65536,p&=-p,c.lanes|=p,p=H_(p),Y_(p,i,c,d),Rg(c,p),!1}c=c.return}while(c!==null);return!1}var q_=Error(r(461)),Hn=!1;function Xn(i,s,c,d){s.child=i===null?Wx(s,null,c,d):Eo(s,i.child,c,d)}function $_(i,s,c,d,p){c=c.render;var b=s.ref;if("ref"in d){var S={};for(var j in d)j!=="ref"&&(S[j]=d[j])}else S=d;return No(s),d=Wp(i,s,c,S,b,p),j=Xp(),i!==null&&!Hn?(Zp(i,s,p),Ci(i,s,p)):(Dt&&j&&Bp(s),s.flags|=1,Xn(i,s,d,p),s.child)}function G_(i,s,c,d,p){if(i===null){var b=c.type;return typeof b=="function"&&!jg(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,Q_(i,s,b,d,p)):(i=Ff(c.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!wg(i,p)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Zc,c(S,d)&&i.ref===s.ref)return Ci(i,s,p)}return s.flags|=1,i=xs(b,d),i.ref=s.ref,i.return=s,s.child=i}function Q_(i,s,c,d,p){if(i!==null){var b=i.memoizedProps;if(Zc(b,d)&&i.ref===s.ref)if(Hn=!1,s.pendingProps=d=b,wg(i,p))(i.flags&131072)!==0&&(Hn=!0);else return s.lanes=i.lanes,Ci(i,s,p)}return mg(i,s,c,d,p)}function K_(i,s,c){var d=s.pendingProps,p=d.children,b=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(fu(i,s),d.mode==="hidden"||b){if((s.flags&128)!==0){if(d=S!==null?S.baseLanes|c:c,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return W_(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Df(s,S!==null?S.cachePool:null),S!==null?Xx(s,S):Yp(),Zx(s);else return s.lanes=s.childLanes=536870912,W_(i,s,S!==null?S.baseLanes|c:c,c)}else S!==null?(Df(s,S.cachePool),Xx(s,S),us(),s.memoizedState=null):(i!==null&&Df(s,null),Yp(),us());return Xn(i,s,p,c),s.child}function W_(i,s,c,d){var p=Qp();return p=p===null?null:{parent:Pn._currentValue,pool:p},s.memoizedState={baseLanes:c,cachePool:p},i!==null&&Df(s,null),Yp(),Zx(s),i!==null&&hu(i,s,d,!0),null}function fu(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=2097664)}}function mg(i,s,c,d,p){return No(s),c=Wp(i,s,c,d,void 0,p),d=Xp(),i!==null&&!Hn?(Zp(i,s,p),Ci(i,s,p)):(Dt&&d&&Bp(s),s.flags|=1,Xn(i,s,c,p),s.child)}function X_(i,s,c,d,p,b){return No(s),s.updateQueue=null,c=r_(s,d,c,p),n_(i),d=Xp(),i!==null&&!Hn?(Zp(i,s,b),Ci(i,s,b)):(Dt&&d&&Bp(s),s.flags|=1,Xn(i,s,c,b),s.child)}function Z_(i,s,c,d,p){if(No(s),s.stateNode===null){var b=Rl,S=c.contextType;typeof S=="object"&&S!==null&&(b=lr(S)),b=new c(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=fg,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},Dg(s),S=c.contextType,b.context=typeof S=="object"&&S!==null?lr(S):Rl,b.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(dg(s,c,S,d),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&fg.enqueueReplaceState(b,b.state,null),gu(s,d,b,p),pu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){b=s.stateNode;var j=s.memoizedProps,z=Ro(c,j);b.props=z;var Q=b.context,le=c.contextType;S=Rl,typeof le=="object"&&le!==null&&(S=lr(le));var ye=c.getDerivedStateFromProps;le=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,le||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||Q!==S)&&L_(s,b,d,S),ms=!1;var re=s.memoizedState;b.state=re,gu(s,d,b,p),pu(),Q=s.memoizedState,j||re!==Q||ms?(typeof ye=="function"&&(dg(s,c,ye,d),Q=s.memoizedState),(z=ms||V_(s,c,z,d,re,Q,S))?(le||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Q),b.props=d,b.state=Q,b.context=S,d=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Ag(i,s),S=s.memoizedProps,le=Ro(c,S),b.props=le,ye=s.pendingProps,re=b.context,Q=c.contextType,z=Rl,typeof Q=="object"&&Q!==null&&(z=lr(Q)),j=c.getDerivedStateFromProps,(Q=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==ye||re!==z)&&L_(s,b,d,z),ms=!1,re=s.memoizedState,b.state=re,gu(s,d,b,p),pu();var oe=s.memoizedState;S!==ye||re!==oe||ms||i!==null&&i.dependencies!==null&&Vf(i.dependencies)?(typeof j=="function"&&(dg(s,c,j,d),oe=s.memoizedState),(le=ms||V_(s,c,le,d,re,oe,z)||i!==null&&i.dependencies!==null&&Vf(i.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,oe,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,oe,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=oe),b.props=d,b.state=oe,b.context=z,d=le):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return b=d,fu(i,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&d?(s.child=Eo(s,i.child,null,p),s.child=Eo(s,null,c,p)):Xn(i,s,c,p),s.memoizedState=b.state,i=s.child):i=Ci(i,s,p),i}function J_(i,s,c,d){return tu(),s.flags|=256,Xn(i,s,c,d),s.child}var pg={dehydrated:null,treeContext:null,retryLane:0};function gg(i){return{baseLanes:i,cachePool:t_()}}function yg(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=fa),i}function ew(i,s,c){var d=s.pendingProps,p=!1,b=(s.flags&128)!==0,S;if((S=b)||(S=i!==null&&i.memoizedState===null?!1:(kn.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Dt){if(p?cs(s):us(),Dt){var j=Wn,z;if(z=j){e:{for(z=j,j=Ga;z.nodeType!==8;){if(!j){j=null;break e}if(z=Ca(z.nextSibling),z===null){j=null;break e}}j=z}j!==null?(s.memoizedState={dehydrated:j,treeContext:xo!==null?{id:Si,overflow:Di}:null,retryLane:536870912},z=da(18,null,null,0),z.stateNode=j,z.return=s,s.child=z,wr=s,Wn=null,z=!0):z=!1}z||wo(s)}if(j=s.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return j.data==="$!"?s.lanes=16:s.lanes=536870912,null;Ai(s)}return j=d.children,d=d.fallback,p?(us(),p=s.mode,j=bg({mode:"hidden",children:j},p),d=ko(d,p,c,null),j.return=s,d.return=s,j.sibling=d,s.child=j,p=s.child,p.memoizedState=gg(c),p.childLanes=yg(i,S,c),s.memoizedState=pg,d):(cs(s),vg(s,j))}if(z=i.memoizedState,z!==null&&(j=z.dehydrated,j!==null)){if(b)s.flags&256?(cs(s),s.flags&=-257,s=xg(i,s,c)):s.memoizedState!==null?(us(),s.child=i.child,s.flags|=128,s=null):(us(),p=d.fallback,j=s.mode,d=bg({mode:"visible",children:d.children},j),p=ko(p,j,c,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,Eo(s,i.child,null,c),d=s.child,d.memoizedState=gg(c),d.childLanes=yg(i,S,c),s.memoizedState=pg,s=p);else if(cs(s),j.data==="$!"){if(S=j.nextSibling&&j.nextSibling.dataset,S)var Q=S.dgst;S=Q,d=Error(r(419)),d.stack="",d.digest=S,nu({value:d,source:null,stack:null}),s=xg(i,s,c)}else if(Hn||hu(i,s,c,!1),S=(c&i.childLanes)!==0,Hn||S){if(S=qt,S!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane)throw z.retryLane=d,ls(i,d),Er(S,i,d),q_}j.data==="$?"||Qg(),s=xg(i,s,c)}else j.data==="$?"?(s.flags|=128,s.child=i.child,s=dM.bind(null,i),j._reactRetry=s,s=null):(i=z.treeContext,Wn=Ca(j.nextSibling),wr=s,Dt=!0,Aa=null,Ga=!1,i!==null&&(sa[oa++]=Si,sa[oa++]=Di,sa[oa++]=xo,Si=i.id,Di=i.overflow,xo=s),s=vg(s,d.children),s.flags|=4096);return s}return p?(us(),p=d.fallback,j=s.mode,z=i.child,Q=z.sibling,d=xs(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&31457280,Q!==null?p=xs(Q,p):(p=ko(p,j,c,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,j=i.child.memoizedState,j===null?j=gg(c):(z=j.cachePool,z!==null?(Q=Pn._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=t_(),j={baseLanes:j.baseLanes|c,cachePool:z}),p.memoizedState=j,p.childLanes=yg(i,S,c),s.memoizedState=pg,d):(cs(s),c=i.child,i=c.sibling,c=xs(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=c,s.memoizedState=null,c)}function vg(i,s){return s=bg({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function bg(i,s){return Dw(i,s,0,null)}function xg(i,s,c){return Eo(s,i.child,null,c),i=vg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function tw(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Tg(i.return,s,c)}function _g(i,s,c,d,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=p)}function nw(i,s,c){var d=s.pendingProps,p=d.revealOrder,b=d.tail;if(Xn(i,s,d.children,c),d=kn.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&tw(i,c,s);else if(i.tag===19)tw(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ge(kn,d),p){case"forwards":for(c=s.child,p=null;c!==null;)i=c.alternate,i!==null&&Sf(i)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),_g(s,!1,p,c,b);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Sf(i)===null){s.child=p;break}i=p.sibling,p.sibling=c,c=p,p=i}_g(s,!0,c,null,b);break;case"together":_g(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ci(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(hu(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=xs(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=xs(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function wg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vf(i)))}function XN(i,s,c){switch(s.tag){case 3:zt(s,s.stateNode.containerInfo),hs(s,Pn,i.memoizedState.cache),tu();break;case 27:case 5:Ie(s);break;case 4:zt(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(cs(s),s.flags|=128,null):(c&s.child.childLanes)!==0?ew(i,s,c):(cs(s),i=Ci(i,s,c),i!==null?i.sibling:null);cs(s);break;case 19:var p=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(hu(i,s,c,!1),d=(c&s.childLanes)!==0),p){if(d)return nw(i,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(kn,kn.current),d)break;return null;case 22:case 23:return s.lanes=0,K_(i,s,c);case 24:hs(s,Pn,i.memoizedState.cache)}return Ci(i,s,c)}function rw(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Hn=!0;else{if(!wg(i,c)&&(s.flags&128)===0)return Hn=!1,XN(i,s,c);Hn=(i.flags&131072)!==0}else Hn=!1,Dt&&(s.flags&1048576)!==0&&Fx(s,xf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")jg(d)?(i=Ro(d,i),s.tag=1,s=Z_(null,s,d,i,c)):(s.tag=0,s=mg(null,s,d,i,c));else{if(d!=null){if(p=d.$$typeof,p===E){s.tag=11,s=$_(null,s,d,i,c);break e}else if(p===O){s.tag=14,s=G_(null,s,d,i,c);break e}}throw s=R(d)||d,Error(r(306,s,""))}}return s;case 0:return mg(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,p=Ro(d,s.pendingProps),Z_(i,s,d,p,c);case 3:e:{if(zt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var b=s.pendingProps;p=s.memoizedState,d=p.element,Ag(i,s),gu(s,b,null,c);var S=s.memoizedState;if(b=S.cache,hs(s,Pn,b),b!==p.cache&&Sg(s,[Pn],c,!0),pu(),b=S.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=J_(i,s,b,c);break e}else if(b!==d){d=ia(Error(r(424)),s),nu(d),s=J_(i,s,b,c);break e}else for(Wn=Ca(s.stateNode.containerInfo.firstChild),wr=s,Dt=!0,Aa=null,Ga=!0,c=Wx(s,null,b,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(tu(),b===d){s=Ci(i,s,c);break e}Xn(i,s,b,c)}s=s.child}return s;case 26:return fu(i,s),i===null?(c=s1(s.type,null,s.pendingProps,null))?s.memoizedState=c:Dt||(c=s.type,i=s.pendingProps,d=Jf(Me.current).createElement(c),d[Oe]=s,d[Qe]=i,Zn(d,c,i),Rt(d),s.stateNode=d):s.memoizedState=s1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ie(s),i===null&&Dt&&(d=s.stateNode=r1(s.type,s.pendingProps,Me.current),wr=s,Ga=!0,Wn=Ca(d.firstChild)),d=s.pendingProps.children,i!==null||Dt?Xn(i,s,d,c):s.child=Eo(s,null,d,c),fu(i,s),s.child;case 5:return i===null&&Dt&&((p=d=Wn)&&(d=AM(d,s.type,s.pendingProps,Ga),d!==null?(s.stateNode=d,wr=s,Wn=Ca(d.firstChild),Ga=!1,p=!0):p=!1),p||wo(s)),Ie(s),p=s.type,b=s.pendingProps,S=i!==null?i.memoizedProps:null,d=b.children,ly(p,b)?d=null:S!==null&&ly(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Wp(i,s,YN,null,null,c),Mu._currentValue=p),fu(i,s),Xn(i,s,d,c),s.child;case 6:return i===null&&Dt&&((i=c=Wn)&&(c=RM(c,s.pendingProps,Ga),c!==null?(s.stateNode=c,wr=s,Wn=null,i=!0):i=!1),i||wo(s)),null;case 13:return ew(i,s,c);case 4:return zt(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Eo(s,null,d,c):Xn(i,s,d,c),s.child;case 11:return $_(i,s,s.type,s.pendingProps,c);case 7:return Xn(i,s,s.pendingProps,c),s.child;case 8:return Xn(i,s,s.pendingProps.children,c),s.child;case 12:return Xn(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,hs(s,s.type,d.value),Xn(i,s,d.children,c),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,No(s),p=lr(p),d=d(p),s.flags|=1,Xn(i,s,d,c),s.child;case 14:return G_(i,s,s.type,s.pendingProps,c);case 15:return Q_(i,s,s.type,s.pendingProps,c);case 19:return nw(i,s,c);case 22:return K_(i,s,c);case 24:return No(s),d=lr(Pn),i===null?(p=Qp(),p===null&&(p=qt,b=$p(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=c),p=b),s.memoizedState={parent:d,cache:p},Dg(s),hs(s,Pn,p)):((i.lanes&c)!==0&&(Ag(i,s),gu(s,null,null,c),pu()),p=i.memoizedState,b=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),hs(s,Pn,d)):(d=b.cache,hs(s,Pn,d),d!==p.cache&&Sg(s,[Pn],c,!0))),Xn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var Eg=it(null),Co=null,Ni=null;function hs(i,s,c){ge(Eg,s._currentValue),s._currentValue=c}function Mi(i){i._currentValue=Eg.current,He(Eg)}function Tg(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function Sg(i,s,c,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var S=p.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=p;for(var z=0;z<s.length;z++)if(j.context===s[z]){b.lanes|=c,j=b.alternate,j!==null&&(j.lanes|=c),Tg(b.return,c,i),d||(S=null);break e}b=j.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),Tg(S,c,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function hu(i,s,c,d){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var j=p.type;Br(p.pendingProps.value,S.value)||(i!==null?i.push(j):i=[j])}}else if(p===Ze.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Mu):i=[Mu])}p=p.return}i!==null&&Sg(s,i,c,d),s.flags|=262144}function Vf(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function No(i){Co=i,Ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function lr(i){return aw(Co,i)}function Lf(i,s){return Co===null&&No(i),aw(i,s)}function aw(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Ni===null){if(i===null)throw Error(r(308));Ni=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ni=Ni.next=s;return c}var ms=!1;function Dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ag(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gs(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(tn&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=vf(i),Ux(i,null,c),s}return yf(i,d,s,c),vf(i)}function mu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194176)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}function Rg(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?p=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?p=b=s:b=b.next=s}else p=b=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var Cg=!1;function pu(){if(Cg){var i=Ol;if(i!==null)throw i}}function gu(i,s,c,d){Cg=!1;var p=i.updateQueue;ms=!1;var b=p.firstBaseUpdate,S=p.lastBaseUpdate,j=p.shared.pending;if(j!==null){p.shared.pending=null;var z=j,Q=z.next;z.next=null,S===null?b=Q:S.next=Q,S=z;var le=i.alternate;le!==null&&(le=le.updateQueue,j=le.lastBaseUpdate,j!==S&&(j===null?le.firstBaseUpdate=Q:j.next=Q,le.lastBaseUpdate=z))}if(b!==null){var ye=p.baseState;S=0,le=Q=z=null,j=b;do{var re=j.lane&-536870913,oe=re!==j.lane;if(oe?(vt&re)===re:(d&re)===re){re!==0&&re===Pl&&(Cg=!0),le!==null&&(le=le.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Be=i,et=j;re=s;var un=c;switch(et.tag){case 1:if(Be=et.payload,typeof Be=="function"){ye=Be.call(un,ye,re);break e}ye=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=et.payload,re=typeof Be=="function"?Be.call(un,ye,re):Be,re==null)break e;ye=N({},ye,re);break e;case 2:ms=!0}}re=j.callback,re!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=p.callbacks,oe===null?p.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},le===null?(Q=le=oe,z=ye):le=le.next=oe,S|=re;if(j=j.next,j===null){if(j=p.shared.pending,j===null)break;oe=j,j=oe.next,oe.next=null,p.lastBaseUpdate=oe,p.shared.pending=null}}while(!0);le===null&&(z=ye),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=le,b===null&&(p.shared.lanes=0),_s|=S,i.lanes=S,i.memoizedState=ye}}function iw(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function sw(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)iw(c[i],s)}function yu(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){d=void 0;var b=c.create,S=c.inst;d=b(),S.destroy=d}c=c.next}while(c!==p)}}catch(j){Ft(s,s.return,j)}}function ys(i,s,c){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var S=d.inst,j=S.destroy;if(j!==void 0){S.destroy=void 0,p=s;var z=c;try{j()}catch(Q){Ft(p,z,Q)}}}d=d.next}while(d!==b)}}catch(Q){Ft(s,s.return,Q)}}function ow(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{sw(s,c)}catch(d){Ft(i,i.return,d)}}}function lw(i,s,c){c.props=Ro(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Ft(i,s,d)}}function Mo(i,s){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=d;break;default:p=d}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){Ft(i,s,b)}}function Fr(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){Ft(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Ft(i,s,p)}else c.current=null}function cw(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){Ft(i,i.return,p)}}function uw(i,s,c){try{var d=i.stateNode;wM(d,i.type,c,s),d[Qe]=s}catch(p){Ft(i,i.return,p)}}function dw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Ng(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mg(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Zf));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Mg(i,s,c),i=i.sibling;i!==null;)Mg(i,s,c),i=i.sibling}function Uf(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Uf(i,s,c),i=i.sibling;i!==null;)Uf(i,s,c),i=i.sibling}var ki=!1,ln=!1,kg=!1,fw=typeof WeakSet=="function"?WeakSet:Set,Yn=null,hw=!1;function ZN(i,s){if(i=i.containerInfo,sy=ih,i=Nx(i),Op(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,j=-1,z=-1,Q=0,le=0,ye=i,re=null;t:for(;;){for(var oe;ye!==c||p!==0&&ye.nodeType!==3||(j=S+p),ye!==b||d!==0&&ye.nodeType!==3||(z=S+d),ye.nodeType===3&&(S+=ye.nodeValue.length),(oe=ye.firstChild)!==null;)re=ye,ye=oe;for(;;){if(ye===i)break t;if(re===c&&++Q===p&&(j=S),re===b&&++le===d&&(z=S),(oe=ye.nextSibling)!==null)break;ye=re,re=ye.parentNode}ye=oe}c=j===-1||z===-1?null:{start:j,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(oy={focusedElem:i,selectionRange:c},ih=!1,Yn=s;Yn!==null;)if(s=Yn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Yn=i;else for(;Yn!==null;){switch(s=Yn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=s,p=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var Be=Ro(c.type,p,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Be,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(et){Ft(c,c.return,et)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)dy(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yn=i;break}Yn=s.return}return Be=hw,hw=!1,Be}function mw(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Oi(i,c),d&4&&yu(5,c);break;case 1:if(Oi(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(j){Ft(c,c.return,j)}else{var p=Ro(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(j){Ft(c,c.return,j)}}d&64&&ow(c),d&512&&Mo(c,c.return);break;case 3:if(Oi(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{sw(d,i)}catch(j){Ft(c,c.return,j)}}break;case 26:Oi(i,c),d&512&&Mo(c,c.return);break;case 27:case 5:Oi(i,c),s===null&&d&4&&cw(c),d&512&&Mo(c,c.return);break;case 12:Oi(i,c);break;case 13:Oi(i,c),d&4&&yw(i,c);break;case 22:if(p=c.memoizedState!==null||ki,!p){s=s!==null&&s.memoizedState!==null||ln;var b=ki,S=ln;ki=p,(ln=s)&&!S?vs(i,c,(c.subtreeFlags&8772)!==0):Oi(i,c),ki=b,ln=S}d&512&&(c.memoizedProps.mode==="manual"?Mo(c,c.return):Fr(c,c.return));break;default:Oi(i,c)}}function pw(i){var s=i.alternate;s!==null&&(i.alternate=null,pw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ur(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var An=null,zr=!1;function Pi(i,s,c){for(c=c.child;c!==null;)gw(i,s,c),c=c.sibling}function gw(i,s,c){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Ea,c)}catch{}switch(c.tag){case 26:ln||Fr(c,s),Pi(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ln||Fr(c,s);var d=An,p=zr;for(An=c.stateNode,Pi(i,s,c),c=c.stateNode,s=c.attributes;s.length;)c.removeAttributeNode(s[0]);Ur(c),An=d,zr=p;break;case 5:ln||Fr(c,s);case 6:p=An;var b=zr;if(An=null,Pi(i,s,c),An=p,zr=b,An!==null)if(zr)try{i=An,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(S){Ft(c,s,S)}else try{An.removeChild(c.stateNode)}catch(S){Ft(c,s,S)}break;case 18:An!==null&&(zr?(s=An,c=c.stateNode,s.nodeType===8?uy(s.parentNode,c):s.nodeType===1&&uy(s,c),Iu(s)):uy(An,c.stateNode));break;case 4:d=An,p=zr,An=c.stateNode.containerInfo,zr=!0,Pi(i,s,c),An=d,zr=p;break;case 0:case 11:case 14:case 15:ln||ys(2,c,s),ln||ys(4,c,s),Pi(i,s,c);break;case 1:ln||(Fr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&lw(c,s,d)),Pi(i,s,c);break;case 21:Pi(i,s,c);break;case 22:ln||Fr(c,s),ln=(d=ln)||c.memoizedState!==null,Pi(i,s,c),ln=d;break;default:Pi(i,s,c)}}function yw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Iu(i)}catch(c){Ft(s,s.return,c)}}function JN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new fw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new fw),s;default:throw Error(r(435,i.tag))}}function Pg(i,s){var c=JN(i);s.forEach(function(d){var p=fM.bind(null,i,d);c.has(d)||(c.add(d),d.then(p,p))})}function ca(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],b=i,S=s,j=S;e:for(;j!==null;){switch(j.tag){case 27:case 5:An=j.stateNode,zr=!1;break e;case 3:An=j.stateNode.containerInfo,zr=!0;break e;case 4:An=j.stateNode.containerInfo,zr=!0;break e}j=j.return}if(An===null)throw Error(r(160));gw(b,S,p),An=null,zr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vw(s,i),s=s.sibling}var Ra=null;function vw(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ca(s,i),ua(i),d&4&&(ys(3,i,i.return),yu(3,i),ys(5,i,i.return));break;case 1:ca(s,i),ua(i),d&512&&(ln||c===null||Fr(c,c.return)),d&64&&ki&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Ra;if(ca(s,i),ua(i),d&512&&(ln||c===null||Fr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[br]||b[Oe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Zn(b,d,c),b[Oe]=i,Rt(b),d=b;break e;case"link":var S=c1("link","href",p).get(d+(c.href||""));if(S){for(var j=0;j<S.length;j++)if(b=S[j],b.getAttribute("href")===(c.href==null?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(j,1);break t}}b=p.createElement(d),Zn(b,d,c),p.head.appendChild(b);break;case"meta":if(S=c1("meta","content",p).get(d+(c.content||""))){for(j=0;j<S.length;j++)if(b=S[j],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(j,1);break t}}b=p.createElement(d),Zn(b,d,c),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Oe]=i,Rt(b),d=b}i.stateNode=d}else u1(p,i.type,i.stateNode);else i.stateNode=l1(p,d,i.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?u1(p,i.type,i.stateNode):l1(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&uw(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){p=i.stateNode,b=i.memoizedProps;try{for(var z=p.firstChild;z;){var Q=z.nextSibling,le=z.nodeName;z[br]||le==="HEAD"||le==="BODY"||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&z.rel.toLowerCase()==="stylesheet"||p.removeChild(z),z=Q}for(var ye=i.type,re=p.attributes;re.length;)p.removeAttributeNode(re[0]);Zn(p,ye,b),p[Oe]=i,p[Qe]=b}catch(Be){Ft(i,i.return,Be)}}case 5:if(ca(s,i),ua(i),d&512&&(ln||c===null||Fr(c,c.return)),i.flags&32){p=i.stateNode;try{ea(p,"")}catch(Be){Ft(i,i.return,Be)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,uw(i,p,c!==null?c.memoizedProps:p)),d&1024&&(kg=!0);break;case 6:if(ca(s,i),ua(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Be){Ft(i,i.return,Be)}}break;case 3:if(nh=null,p=Ra,Ra=eh(s.containerInfo),ca(s,i),Ra=p,ua(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Iu(s.containerInfo)}catch(Be){Ft(i,i.return,Be)}kg&&(kg=!1,bw(i));break;case 4:d=Ra,Ra=eh(i.stateNode.containerInfo),ca(s,i),ua(i),Ra=d;break;case 12:ca(s,i),ua(i);break;case 13:ca(s,i),ua(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zg=Ht()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pg(i,d)));break;case 22:if(d&512&&(ln||c===null||Fr(c,c.return)),z=i.memoizedState!==null,Q=c!==null&&c.memoizedState!==null,le=ki,ye=ln,ki=le||z,ln=ye||Q,ca(s,i),ln=ye,ki=le,ua(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,d&8192&&(s._visibility=z?s._visibility&-2:s._visibility|1,z&&(s=ki||ln,c===null||Q||s||Ll(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(c=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(c===null){Q=c=s;try{if(p=Q.stateNode,z)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=Q.stateNode,j=Q.memoizedProps.style;var oe=j!=null&&j.hasOwnProperty("display")?j.display:null;S.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Be){Ft(Q,Q.return,Be)}}}else if(s.tag===6){if(c===null){Q=s;try{Q.stateNode.nodeValue=z?"":Q.memoizedProps}catch(Be){Ft(Q,Q.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Pg(i,c))));break;case 19:ca(s,i),ua(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pg(i,d)));break;case 21:break;default:ca(s,i),ua(i)}}function ua(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var c=i.return;c!==null;){if(dw(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var p=d.stateNode,b=Ng(i);Uf(i,b,p);break;case 5:var S=d.stateNode;d.flags&32&&(ea(S,""),d.flags&=-33);var j=Ng(i);Uf(i,j,S);break;case 3:case 4:var z=d.stateNode.containerInfo,Q=Ng(i);Mg(i,Q,z);break;default:throw Error(r(161))}}}catch(le){Ft(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function bw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;bw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mw(i,s.alternate,s),s=s.sibling}function Ll(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ys(4,s,s.return),Ll(s);break;case 1:Fr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&lw(s,s.return,c),Ll(s);break;case 26:case 27:case 5:Fr(s,s.return),Ll(s);break;case 22:Fr(s,s.return),s.memoizedState===null&&Ll(s);break;default:Ll(s)}i=i.sibling}}function vs(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,b=s,S=b.flags;switch(b.tag){case 0:case 11:case 15:vs(p,b,c),yu(4,b);break;case 1:if(vs(p,b,c),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ft(d,d.return,Q)}if(d=b,p=d.updateQueue,p!==null){var j=d.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)iw(z[p],j)}catch(Q){Ft(d,d.return,Q)}}c&&S&64&&ow(b),Mo(b,b.return);break;case 26:case 27:case 5:vs(p,b,c),c&&d===null&&S&4&&cw(b),Mo(b,b.return);break;case 12:vs(p,b,c);break;case 13:vs(p,b,c),c&&S&4&&yw(p,b);break;case 22:b.memoizedState===null&&vs(p,b,c),Mo(b,b.return);break;default:vs(p,b,c)}s=s.sibling}}function Og(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&ou(c))}function Ig(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i))}function bs(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xw(i,s,c,d),s=s.sibling}function xw(i,s,c,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:bs(i,s,c,d),p&2048&&yu(9,s);break;case 3:bs(i,s,c,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i)));break;case 12:if(p&2048){bs(i,s,c,d),i=s.stateNode;try{var b=s.memoizedProps,S=b.id,j=b.onPostCommit;typeof j=="function"&&j(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ft(s,s.return,z)}}else bs(i,s,c,d);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?bs(i,s,c,d):vu(i,s):b._visibility&4?bs(i,s,c,d):(b._visibility|=4,Ul(i,s,c,d,(s.subtreeFlags&10256)!==0)),p&2048&&Og(s.alternate,s);break;case 24:bs(i,s,c,d),p&2048&&Ig(s.alternate,s);break;default:bs(i,s,c,d)}}function Ul(i,s,c,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,S=s,j=c,z=d,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Ul(b,S,j,z,p),yu(8,S);break;case 23:break;case 22:var le=S.stateNode;S.memoizedState!==null?le._visibility&4?Ul(b,S,j,z,p):vu(b,S):(le._visibility|=4,Ul(b,S,j,z,p)),p&&Q&2048&&Og(S.alternate,S);break;case 24:Ul(b,S,j,z,p),p&&Q&2048&&Ig(S.alternate,S);break;default:Ul(b,S,j,z,p)}s=s.sibling}}function vu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,p=d.flags;switch(d.tag){case 22:vu(c,d),p&2048&&Og(d.alternate,d);break;case 24:vu(c,d),p&2048&&Ig(d.alternate,d);break;default:vu(c,d)}s=s.sibling}}var bu=8192;function Bl(i){if(i.subtreeFlags&bu)for(i=i.child;i!==null;)_w(i),i=i.sibling}function _w(i){switch(i.tag){case 26:Bl(i),i.flags&bu&&i.memoizedState!==null&&FM(Ra,i.memoizedState,i.memoizedProps);break;case 5:Bl(i);break;case 3:case 4:var s=Ra;Ra=eh(i.stateNode.containerInfo),Bl(i),Ra=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=bu,bu=16777216,Bl(i),bu=s):Bl(i));break;default:Bl(i)}}function ww(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Yn=d,Tw(d,i)}ww(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ew(i),i=i.sibling}function Ew(i){switch(i.tag){case 0:case 11:case 15:xu(i),i.flags&2048&&ys(9,i,i.return);break;case 3:xu(i);break;case 12:xu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Bf(i)):xu(i);break;default:xu(i)}}function Bf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Yn=d,Tw(d,i)}ww(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ys(8,s,s.return),Bf(s);break;case 22:c=s.stateNode,c._visibility&4&&(c._visibility&=-5,Bf(s));break;default:Bf(s)}i=i.sibling}}function Tw(i,s){for(;Yn!==null;){var c=Yn;switch(c.tag){case 0:case 11:case 15:ys(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ou(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Yn=d;else e:for(c=i;Yn!==null;){d=Yn;var p=d.sibling,b=d.return;if(pw(d),d===c){Yn=null;break e}if(p!==null){p.return=b,Yn=p;break e}Yn=b}}}function eM(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(i,s,c,d){return new eM(i,s,c,d)}function jg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,s){var c=i.alternate;return c===null?(c=da(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Sw(i,s){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ff(i,s,c,d,p,b){var S=0;if(d=i,typeof i=="function")jg(i)&&(S=1);else if(typeof i=="string")S=UM(i,c,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return ko(c.children,p,b,s);case h:S=8,p|=24;break;case g:return i=da(12,c,s,p|2),i.elementType=g,i.lanes=b,i;case D:return i=da(13,c,s,p),i.elementType=D,i.lanes=b,i;case A:return i=da(19,c,s,p),i.elementType=A,i.lanes=b,i;case B:return Dw(c,p,b,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case w:S=10;break e;case x:S=9;break e;case E:S=11;break e;case O:S=14;break e;case U:S=16,d=null;break e}S=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=da(S,c,s,p),s.elementType=i,s.type=d,s.lanes=b,s}function ko(i,s,c,d){return i=da(7,i,d,s),i.lanes=c,i}function Dw(i,s,c,d){i=da(22,i,d,s),i.elementType=B,i.lanes=c;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var S=ls(b,2);S!==null&&(p._pendingVisibility|=2,Er(S,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var S=ls(b,2);S!==null&&(p._pendingVisibility&=-3,Er(S,b,2))}}};return i.stateNode=p,i}function Vg(i,s,c){return i=da(6,i,null,s),i.lanes=c,i}function Lg(i,s,c){return s=da(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Ii(i){i.flags|=4}function Aw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!d1(s)){if(s=la.current,s!==null&&((vt&4194176)===vt?Qa!==null:(vt&62914560)!==vt&&(vt&536870912)===0||s!==Qa))throw au=Hp,Yx;i.flags|=8192}}function zf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?W():536870912,i.lanes|=s,zl|=s)}function _u(i,s){if(!Dt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function en(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&31457280,d|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function tM(i,s,c){var d=s.pendingProps;switch(Fp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return en(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Mi(Pn),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(eu(s)?Ii(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Aa!==null&&($g(Aa),Aa=null))),en(s),null;case 26:return c=s.memoizedState,i===null?(Ii(s),c!==null?(en(s),Aw(s,c)):(en(s),s.flags&=-16777217)):c?c!==i.memoizedState?(Ii(s),en(s),Aw(s,c)):(en(s),s.flags&=-16777217):(i.memoizedProps!==d&&Ii(s),en(s),s.flags&=-16777217),null;case 27:nt(s),c=Me.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}i=pe.current,eu(s)?zx(s):(i=r1(p,d,c),s.stateNode=i,Ii(s))}return en(s),null;case 5:if(nt(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}if(i=pe.current,eu(s))zx(s);else{switch(p=Jf(Me.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}i[Oe]=s,i[Qe]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Zn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ii(s)}}return en(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Ii(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Me.current,eu(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,p=wr,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Oe]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Xw(i.nodeValue,c)),i||wo(s)}else i=Jf(i).createTextNode(d),i[Oe]=s,s.stateNode=i}return en(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=eu(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Oe]=s}else tu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),p=!1}else Aa!==null&&($g(Aa),Aa=null),p=!0;if(!p)return s.flags&256?(Ai(s),s):(Ai(s),null)}if(Ai(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),zf(s,s.updateQueue),en(s),null;case 4:return we(),i===null&&ry(s.stateNode.containerInfo),en(s),null;case 10:return Mi(s.type),en(s),null;case 19:if(He(kn),p=s.memoizedState,p===null)return en(s),null;if(d=(s.flags&128)!==0,b=p.rendering,b===null)if(d)_u(p,!1);else{if(cn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Sf(i),b!==null){for(s.flags|=128,_u(p,!1),i=b.updateQueue,s.updateQueue=i,zf(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Sw(c,i),c=c.sibling;return ge(kn,kn.current&1|2),s.child}i=i.sibling}p.tail!==null&&Ht()>Hf&&(s.flags|=128,d=!0,_u(p,!1),s.lanes=4194304)}else{if(!d)if(i=Sf(b),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,zf(s,i),_u(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Dt)return en(s),null}else 2*Ht()-p.renderingStartTime>Hf&&c!==536870912&&(s.flags|=128,d=!0,_u(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=Ht(),s.sibling=null,i=kn.current,ge(kn,d?i&1|2:i&1),s):(en(s),null);case 22:case 23:return Ai(s),qp(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),c=s.updateQueue,c!==null&&zf(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&He(To),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Mi(Pn),en(s),null;case 25:return null}throw Error(r(156,s.tag))}function nM(i,s){switch(Fp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Mi(Pn),we(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return nt(s),null;case 13:if(Ai(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));tu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return He(kn),null;case 4:return we(),null;case 10:return Mi(s.type),null;case 22:case 23:return Ai(s),qp(),i!==null&&He(To),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Mi(Pn),null;case 25:return null;default:return null}}function Rw(i,s){switch(Fp(s),s.tag){case 3:Mi(Pn),we();break;case 26:case 27:case 5:nt(s);break;case 4:we();break;case 13:Ai(s);break;case 19:He(kn);break;case 10:Mi(s.type);break;case 22:case 23:Ai(s),qp(),i!==null&&He(To);break;case 24:Mi(Pn)}}var rM={getCacheForType:function(i){var s=lr(Pn),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},aM=typeof WeakMap=="function"?WeakMap:Map,tn=0,qt=null,ht=null,vt=0,$t=0,Hr=null,ji=!1,Fl=!1,Ug=!1,Vi=0,cn=0,_s=0,Po=0,Bg=0,fa=0,zl=0,wu=null,Wa=null,Fg=!1,zg=0,Hf=1/0,Yf=null,ws=null,qf=!1,Oo=null,Eu=0,Hg=0,Yg=null,Tu=0,qg=null;function Yr(){if((tn&2)!==0&&vt!==0)return vt&-vt;if(C.T!==null){var i=Pl;return i!==0?i:Jg()}return Ue()}function Cw(){fa===0&&(fa=(vt&536870912)===0||Dt?q():536870912);var i=la.current;return i!==null&&(i.flags|=32),fa}function Er(i,s,c){(i===qt&&$t===2||i.cancelPendingCommit!==null)&&(Hl(i,0),Li(i,vt,fa,!1)),ue(i,c),((tn&2)===0||i!==qt)&&(i===qt&&((tn&2)===0&&(Po|=c),cn===4&&Li(i,vt,fa,!1)),Xa(i))}function Nw(i,s,c){if((tn&6)!==0)throw Error(r(327));var d=!c&&(s&60)===0&&(s&i.expiredLanes)===0||Va(i,s),p=d?oM(i,s):Kg(i,s,!0),b=d;do{if(p===0){Fl&&!d&&Li(i,s,0,!1);break}else if(p===6)Li(i,s,0,!ji);else{if(c=i.current.alternate,b&&!iM(c)){p=Kg(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var j=i;p=wu;var z=j.current.memoizedState.isDehydrated;if(z&&(Hl(j,S).flags|=256),S=Kg(j,S,!1),S!==2){if(Ug&&!z){j.errorRecoveryDisabledLanes|=b,Po|=b,p=4;break e}b=Wa,Wa=p,b!==null&&$g(b)}p=S}if(b=!1,p!==2)continue}}if(p===1){Hl(i,0),Li(i,s,0,!0);break}e:{switch(d=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Li(d,s,fa,!ji);break e}break;case 2:Wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=s,(s&62914560)===s&&(b=zg+300-Ht(),10<b)){if(Li(d,s,fa,!ji),Qn(d,0)!==0)break e;d.timeoutHandle=e1(Mw.bind(null,d,c,Wa,Yf,Fg,s,fa,Po,zl,ji,2,-0,0),b);break e}Mw(d,c,Wa,Yf,Fg,s,fa,Po,zl,ji,0,-0,0)}}break}while(!0);Xa(i)}function $g(i){Wa===null?Wa=i:Wa.push.apply(Wa,i)}function Mw(i,s,c,d,p,b,S,j,z,Q,le,ye,re){var oe=s.subtreeFlags;if((oe&8192||(oe&16785408)===16785408)&&(Nu={stylesheets:null,count:0,unsuspend:BM},_w(s),s=zM(),s!==null)){i.cancelPendingCommit=s(Lw.bind(null,i,c,d,p,S,j,z,1,ye,re)),Li(i,b,S,!Q);return}Lw(i,c,d,p,S,j,z,le,ye,re)}function iM(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],b=p.getSnapshot;p=p.value;try{if(!Br(b(),p))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Li(i,s,c,d){s&=~Bg,s&=~Po,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var b=31-Un(p),S=1<<b;d[b]=-1,p&=~S}c!==0&&Ye(i,c,s)}function $f(){return(tn&6)===0?(Su(0),!1):!0}function Gg(){if(ht!==null){if($t===0)var i=ht.return;else i=ht,Ni=Co=null,Jp(i),Ml=null,iu=0,i=ht;for(;i!==null;)Rw(i.alternate,i),i=i.return;ht=null}}function Hl(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,TM(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Gg(),qt=i,ht=c=xs(i.current,null),vt=s,$t=0,Hr=null,ji=!1,Fl=Va(i,s),Ug=!1,zl=fa=Bg=Po=_s=cn=0,Wa=wu=null,Fg=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-Un(d),b=1<<p;s|=i[p],d&=~b}return Vi=s,gf(),c}function kw(i,s){lt=null,C.H=Ka,s===ru?(s=Gx(),$t=3):s===Yx?(s=Gx(),$t=4):$t=s===q_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hr=s,ht===null&&(cn=1,jf(i,ia(s,i.current)))}function Pw(){var i=C.H;return C.H=Ka,i===null?Ka:i}function Ow(){var i=C.A;return C.A=rM,i}function Qg(){cn=4,ji||(vt&4194176)!==vt&&la.current!==null||(Fl=!0),(_s&134217727)===0&&(Po&134217727)===0||qt===null||Li(qt,vt,fa,!1)}function Kg(i,s,c){var d=tn;tn|=2;var p=Pw(),b=Ow();(qt!==i||vt!==s)&&(Yf=null,Hl(i,s)),s=!1;var S=cn;e:do try{if($t!==0&&ht!==null){var j=ht,z=Hr;switch($t){case 8:Gg(),S=6;break e;case 3:case 2:case 6:la.current===null&&(s=!0);var Q=$t;if($t=0,Hr=null,Yl(i,j,z,Q),c&&Fl){S=0;break e}break;default:Q=$t,$t=0,Hr=null,Yl(i,j,z,Q)}}sM(),S=cn;break}catch(le){kw(i,le)}while(!0);return s&&i.shellSuspendCounter++,Ni=Co=null,tn=d,C.H=p,C.A=b,ht===null&&(qt=null,vt=0,gf()),S}function sM(){for(;ht!==null;)Iw(ht)}function oM(i,s){var c=tn;tn|=2;var d=Pw(),p=Ow();qt!==i||vt!==s?(Yf=null,Hf=Ht()+500,Hl(i,s)):Fl=Va(i,s);e:do try{if($t!==0&&ht!==null){s=ht;var b=Hr;t:switch($t){case 1:$t=0,Hr=null,Yl(i,s,b,1);break;case 2:if(qx(b)){$t=0,Hr=null,jw(s);break}s=function(){$t===2&&qt===i&&($t=7),Xa(i)},b.then(s,s);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:qx(b)?($t=0,Hr=null,jw(s)):($t=0,Hr=null,Yl(i,s,b,7));break;case 5:var S=null;switch(ht.tag){case 26:S=ht.memoizedState;case 5:case 27:var j=ht;if(!S||d1(S)){$t=0,Hr=null;var z=j.sibling;if(z!==null)ht=z;else{var Q=j.return;Q!==null?(ht=Q,Gf(Q)):ht=null}break t}}$t=0,Hr=null,Yl(i,s,b,5);break;case 6:$t=0,Hr=null,Yl(i,s,b,6);break;case 8:Gg(),cn=6;break e;default:throw Error(r(462))}}lM();break}catch(le){kw(i,le)}while(!0);return Ni=Co=null,C.H=d,C.A=p,tn=c,ht!==null?0:(qt=null,vt=0,gf(),cn)}function lM(){for(;ht!==null&&!sr();)Iw(ht)}function Iw(i){var s=rw(i.alternate,i,Vi);i.memoizedProps=i.pendingProps,s===null?Gf(i):ht=s}function jw(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=X_(c,s,s.pendingProps,s.type,void 0,vt);break;case 11:s=X_(c,s,s.pendingProps,s.type.render,s.ref,vt);break;case 5:Jp(s);default:Rw(c,s),s=ht=Sw(s,Vi),s=rw(c,s,Vi)}i.memoizedProps=i.pendingProps,s===null?Gf(i):ht=s}function Yl(i,s,c,d){Ni=Co=null,Jp(s),Ml=null,iu=0;var p=s.return;try{if(WN(i,p,s,c,vt)){cn=1,jf(i,ia(c,i.current)),ht=null;return}}catch(b){if(p!==null)throw ht=p,b;cn=1,jf(i,ia(c,i.current)),ht=null;return}s.flags&32768?(Dt||d===1?i=!0:Fl||(vt&536870912)!==0?i=!1:(ji=i=!0,(d===2||d===3||d===6)&&(d=la.current,d!==null&&d.tag===13&&(d.flags|=16384))),Vw(s,i)):Gf(s)}function Gf(i){var s=i;do{if((s.flags&32768)!==0){Vw(s,ji);return}i=s.return;var c=tM(s.alternate,s,Vi);if(c!==null){ht=c;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=i}while(s!==null);cn===0&&(cn=5)}function Vw(i,s){do{var c=nM(i.alternate,i);if(c!==null){c.flags&=32767,ht=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){ht=i;return}ht=i=c}while(i!==null);cn=6,ht=null}function Lw(i,s,c,d,p,b,S,j,z,Q){var le=C.T,ye=_e.p;try{_e.p=2,C.T=null,cM(i,s,c,d,ye,p,b,S,j,z,Q)}finally{C.T=le,_e.p=ye}}function cM(i,s,c,d,p,b,S,j){do ql();while(Oo!==null);if((tn&6)!==0)throw Error(r(327));var z=i.finishedWork;if(d=i.finishedLanes,z===null)return null;if(i.finishedWork=null,i.finishedLanes=0,z===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Q=z.lanes|z.childLanes;if(Q|=Lp,Se(i,d,Q,b,S,j),i===qt&&(ht=qt=null,vt=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||qf||(qf=!0,Hg=Q,Yg=c,hM(Lr,function(){return ql(),null})),c=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||c?(c=C.T,C.T=null,b=_e.p,_e.p=2,S=tn,tn|=4,ZN(i,z),vw(z,i),PN(oy,i.containerInfo),ih=!!sy,oy=sy=null,i.current=z,mw(i,z.alternate,z),En(),tn=S,_e.p=b,C.T=c):i.current=z,qf?(qf=!1,Oo=i,Eu=d):Uw(i,Q),Q=i.pendingLanes,Q===0&&(ws=null),ns(z.stateNode),Xa(i),s!==null)for(p=i.onRecoverableError,z=0;z<s.length;z++)Q=s[z],p(Q.value,{componentStack:Q.stack});return(Eu&3)!==0&&ql(),Q=i.pendingLanes,(d&4194218)!==0&&(Q&42)!==0?i===qg?Tu++:(Tu=0,qg=i):Tu=0,Su(0),null}function Uw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ou(s)))}function ql(){if(Oo!==null){var i=Oo,s=Hg;Hg=0;var c=Ve(Eu),d=C.T,p=_e.p;try{if(_e.p=32>c?32:c,C.T=null,Oo===null)var b=!1;else{c=Yg,Yg=null;var S=Oo,j=Eu;if(Oo=null,Eu=0,(tn&6)!==0)throw Error(r(331));var z=tn;if(tn|=4,Ew(S.current),xw(S,S.current,j,c),tn=z,Su(0,!1),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Ea,S)}catch{}b=!0}return b}finally{_e.p=p,C.T=d,Uw(i,s)}}return!1}function Bw(i,s,c){s=ia(c,s),s=hg(i.stateNode,s,2),i=gs(i,s,2),i!==null&&(ue(i,2),Xa(i))}function Ft(i,s,c){if(i.tag===3)Bw(i,i,c);else for(;s!==null;){if(s.tag===3){Bw(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ws===null||!ws.has(d))){i=ia(c,i),c=H_(2),d=gs(s,c,2),d!==null&&(Y_(c,d,s,i),ue(d,2),Xa(d));break}}s=s.return}}function Wg(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new aM;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(Ug=!0,p.add(c),i=uM.bind(null,i,s,c),s.then(i,i))}function uM(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,qt===i&&(vt&c)===c&&(cn===4||cn===3&&(vt&62914560)===vt&&300>Ht()-zg?(tn&2)===0&&Hl(i,0):Bg|=c,zl===vt&&(zl=0)),Xa(i)}function Fw(i,s){s===0&&(s=W()),i=ls(i,s),i!==null&&(ue(i,s),Xa(i))}function dM(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Fw(i,c)}function fM(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),Fw(i,c)}function hM(i,s){return Jt(i,s)}var Qf=null,$l=null,Xg=!1,Kf=!1,Zg=!1,Io=0;function Xa(i){i!==$l&&i.next===null&&($l===null?Qf=$l=i:$l=$l.next=i),Kf=!0,Xg||(Xg=!0,pM(mM))}function Su(i,s){if(!Zg&&Kf){Zg=!0;do for(var c=!1,d=Qf;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var S=d.suspendedLanes,j=d.pingedLanes;b=(1<<31-Un(42|i)+1)-1,b&=p&~(S&~j),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(c=!0,Yw(d,b))}else b=vt,b=Qn(d,d===qt?b:0),(b&3)===0||Va(d,b)||(c=!0,Yw(d,b));d=d.next}while(c);Zg=!1}}function mM(){Kf=Xg=!1;var i=0;Io!==0&&(EM()&&(i=Io),Io=0);for(var s=Ht(),c=null,d=Qf;d!==null;){var p=d.next,b=zw(d,s);b===0?(d.next=null,c===null?Qf=p:c.next=p,p===null&&($l=c)):(c=d,(i!==0||(b&3)!==0)&&(Kf=!0)),d=p}Su(i)}function zw(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var S=31-Un(b),j=1<<S,z=p[S];z===-1?((j&c)===0||(j&d)!==0)&&(p[S]=rs(j,s)):z<=s&&(i.expiredLanes|=j),b&=~j}if(s=qt,c=vt,c=Qn(i,i===s?c:0),d=i.callbackNode,c===0||i===s&&$t===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&sn(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Va(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&sn(d),Ve(c)){case 2:case 8:c=gn;break;case 32:c=Lr;break;case 268435456:c=Nr;break;default:c=Lr}return d=Hw.bind(null,i),c=Jt(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&sn(d),i.callbackPriority=2,i.callbackNode=null,2}function Hw(i,s){var c=i.callbackNode;if(ql()&&i.callbackNode!==c)return null;var d=vt;return d=Qn(i,i===qt?d:0),d===0?null:(Nw(i,d,s),zw(i,Ht()),i.callbackNode!=null&&i.callbackNode===c?Hw.bind(null,i):null)}function Yw(i,s){if(ql())return null;Nw(i,s,!0)}function pM(i){SM(function(){(tn&6)!==0?Jt(Ot,i):i()})}function Jg(){return Io===0&&(Io=q()),Io}function qw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ba(""+i)}function $w(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function gM(i,s,c,d,p){if(s==="submit"&&c&&c.stateNode===p){var b=qw((p[Qe]||null).action),S=d.submitter;S&&(s=(s=S[Qe]||null)?qw(s.formAction):S.getAttribute("formAction"),s!==null&&(b=s,S=null));var j=new yl("action","action",null,d,p);i.push({event:j,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Io!==0){var z=S?$w(p,S):new FormData(p);lg(c,{pending:!0,data:z,method:p.method,action:b},null,z)}}else typeof b=="function"&&(j.preventDefault(),z=S?$w(p,S):new FormData(p),lg(c,{pending:!0,data:z,method:p.method,action:b},b,z))},currentTarget:p}]})}}for(var ey=0;ey<Lx.length;ey++){var ty=Lx[ey],yM=ty.toLowerCase(),vM=ty[0].toUpperCase()+ty.slice(1);Da(yM,"on"+vM)}Da(Px,"onAnimationEnd"),Da(Ox,"onAnimationIteration"),Da(Ix,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(IN,"onTransitionRun"),Da(jN,"onTransitionStart"),Da(VN,"onTransitionCancel"),Da(jx,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),st("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),st("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),st("onBeforeInput",["compositionend","keypress","textInput","paste"]),st("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),st("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Gw(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],p=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var S=d.length-1;0<=S;S--){var j=d[S],z=j.instance,Q=j.currentTarget;if(j=j.listener,z!==b&&p.isPropagationStopped())break e;b=j,p.currentTarget=Q;try{b(p)}catch(le){If(le)}p.currentTarget=null,b=z}else for(S=0;S<d.length;S++){if(j=d[S],z=j.instance,Q=j.currentTarget,j=j.listener,z!==b&&p.isPropagationStopped())break e;b=j,p.currentTarget=Q;try{b(p)}catch(le){If(le)}p.currentTarget=null,b=z}}}}function pt(i,s){var c=s[Wt];c===void 0&&(c=s[Wt]=new Set);var d=i+"__bubble";c.has(d)||(Qw(s,i,2,!1),c.add(d))}function ny(i,s,c){var d=0;s&&(d|=4),Qw(c,i,d,s)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function ry(i){if(!i[Wf]){i[Wf]=!0,La.forEach(function(c){c!=="selectionchange"&&(bM.has(c)||ny(c,!1,i),ny(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Wf]||(s[Wf]=!0,ny("selectionchange",!1,s))}}function Qw(i,s,c,d){switch(y1(s)){case 2:var p=qM;break;case 8:p=$M;break;default:p=gy}c=p.bind(null,s,c,i),p=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,c,{capture:!0,passive:p}):i.addEventListener(s,c,!0):p!==void 0?i.addEventListener(s,c,{passive:p}):i.addEventListener(s,c,!1)}function ay(i,s,c,d,p){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var j=d.stateNode.containerInfo;if(j===p||j.nodeType===8&&j.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;S=S.return}for(;j!==null;){if(S=yn(j),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){d=b=S;continue e}j=j.parentNode}}d=d.return}ef(function(){var Q=b,le=gl(c),ye=[];e:{var re=Vx.get(i);if(re!==void 0){var oe=yl,Be=i;switch(i){case"keypress":if(za(c)===0)break e;case"keydown":case"keyup":oe=El;break;case"focusin":Be="focus",oe=xl;break;case"focusout":Be="blur",oe=xl;break;case"beforeblur":case"afterblur":oe=xl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=cf;break;case Px:case Ox:case Ix:oe=_l;break;case jx:oe=df;break;case"scroll":case"scrollend":oe=tf;break;case"wheel":oe=Tl;break;case"copy":case"cut":case"paste":oe=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Wc;break;case"toggle":case"beforetoggle":oe=hf}var et=(s&4)!==0,un=!et&&(i==="scroll"||i==="scrollend"),Z=et?re!==null?re+"Capture":null:re;et=[];for(var G=Q,te;G!==null;){var fe=G;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||Z===null||(fe=uo(G,Z),fe!=null&&et.push(Au(G,fe,te))),un)break;G=G.return}0<et.length&&(re=new oe(re,Be,null,c,le),ye.push({event:re,listeners:et}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",re&&c!==ta&&(Be=c.relatedTarget||c.fromElement)&&(yn(Be)||Be[Tt]))break e;if((oe||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Be=c.relatedTarget||c.toElement,oe=Q,Be=Be?yn(Be):null,Be!==null&&(un=se(Be),et=Be.tag,Be!==un||et!==5&&et!==27&&et!==6)&&(Be=null)):(oe=null,Be=Q),oe!==Be)){if(et=ra,fe="onMouseLeave",Z="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(et=Wc,fe="onPointerLeave",Z="onPointerEnter",G="pointer"),un=oe==null?re:Xr(oe),te=Be==null?re:Xr(Be),re=new et(fe,G+"leave",oe,c,le),re.target=un,re.relatedTarget=te,fe=null,yn(le)===Q&&(et=new et(Z,G+"enter",Be,c,le),et.target=te,et.relatedTarget=un,fe=et),un=fe,oe&&Be)t:{for(et=oe,Z=Be,G=0,te=et;te;te=Gl(te))G++;for(te=0,fe=Z;fe;fe=Gl(fe))te++;for(;0<G-te;)et=Gl(et),G--;for(;0<te-G;)Z=Gl(Z),te--;for(;G--;){if(et===Z||Z!==null&&et===Z.alternate)break t;et=Gl(et),Z=Gl(Z)}et=null}else et=null;oe!==null&&Kw(ye,re,oe,et,!1),Be!==null&&un!==null&&Kw(ye,un,Be,et,!0)}}e:{if(re=Q?Xr(Q):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var je=wx;else if(Mn(re))if(Ex)je=MN;else{je=CN;var ut=RN}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Q&&Hc(Q.elementType)&&(je=wx):je=NN;if(je&&(je=je(i,Q))){Ti(ye,je,c,le);break e}ut&&ut(i,re,Q),i==="focusout"&&Q&&re.type==="number"&&Q.memoizedProps.value!=null&&pl(re,"number",re.value)}switch(ut=Q?Xr(Q):window,i){case"focusin":(Mn(ut)||ut.contentEditable==="true")&&(Sl=ut,Ip=Q,Jc=null);break;case"focusout":Jc=Ip=Sl=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,Mx(ye,c,le);break;case"selectionchange":if(ON)break;case"keydown":case"keyup":Mx(ye,c,le)}var qe;if(qa)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else gt?ie(i,c)&&(Ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(T&&c.locale!=="ko"&&(gt||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&gt&&(qe=qc()):(Fa=le,os="value"in Fa?Fa.value:Fa.textContent,gt=!0)),ut=Xf(Q,Ke),0<ut.length&&(Ke=new Qc(Ke,i,null,c,le),ye.push({event:Ke,listeners:ut}),qe?Ke.data=qe:(qe=Ee(c),qe!==null&&(Ke.data=qe)))),(qe=_?Nn(i,c):yt(i,c))&&(Ke=Xf(Q,"onBeforeInput"),0<Ke.length&&(ut=new Qc("onBeforeInput","beforeinput",null,c,le),ye.push({event:ut,listeners:Ke}),ut.data=qe)),gM(ye,i,Q,c,le)}Gw(ye,s)})}function Au(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Xf(i,s){for(var c=s+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=uo(i,c),p!=null&&d.unshift(Au(i,p,b)),p=uo(i,s),p!=null&&d.push(Au(i,p,b))),i=i.return}return d}function Gl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Kw(i,s,c,d,p){for(var b=s._reactName,S=[];c!==null&&c!==d;){var j=c,z=j.alternate,Q=j.stateNode;if(j=j.tag,z!==null&&z===d)break;j!==5&&j!==26&&j!==27||Q===null||(z=Q,p?(Q=uo(c,b),Q!=null&&S.unshift(Au(c,Q,z))):p||(Q=uo(c,b),Q!=null&&S.push(Au(c,Q,z)))),c=c.return}S.length!==0&&i.push({event:s,listeners:S})}var xM=/\r\n?/g,_M=/\u0000|\uFFFD/g;function Ww(i){return(typeof i=="string"?i:""+i).replace(xM,`
`).replace(_M,"")}function Xw(i,s){return s=Ww(s),Ww(i)===s}function Zf(){}function Lt(i,s,c,d,p,b){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||ea(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&ea(i,""+d);break;case"className":as(i,"class",d);break;case"tabIndex":as(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":as(i,c,d);break;case"style":Jd(i,d,b);break;case"data":if(s!=="object"){as(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ba(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Lt(i,s,"name",p.name,p,null),Lt(i,s,"formEncType",p.formEncType,p,null),Lt(i,s,"formMethod",p.formMethod,p,null),Lt(i,s,"formTarget",p.formTarget,p,null)):(Lt(i,s,"encType",p.encType,p,null),Lt(i,s,"method",p.method,p,null),Lt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Ba(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=Zf);break;case"onScroll":d!=null&&pt("scroll",i);break;case"onScrollEnd":d!=null&&pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Ba(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":pt("beforetoggle",i),pt("toggle",i),Ua(i,"popover",d);break;case"xlinkActuate":Jr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Jr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Jr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Jr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Jr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Jr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Jr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ua(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Rp.get(c)||c,Ua(i,c,d))}}function iy(i,s,c,d,p,b){switch(c){case"style":Jd(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?ea(i,d):(typeof d=="number"||typeof d=="bigint")&&ea(i,""+d);break;case"onScroll":d!=null&&pt("scroll",i);break;case"onScrollEnd":d!=null&&pt("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),s=c.slice(2,p?c.length-7:void 0),b=i[Qe]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,p);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):Ua(i,c,d)}}}function Zn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",i),pt("load",i);var d=!1,p=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Lt(i,s,b,S,c,null)}}p&&Lt(i,s,"srcSet",c.srcSet,c,null),d&&Lt(i,s,"src",c.src,c,null);return;case"input":pt("invalid",i);var j=b=S=p=null,z=null,Q=null;for(d in c)if(c.hasOwnProperty(d)){var le=c[d];if(le!=null)switch(d){case"name":p=le;break;case"type":S=le;break;case"checked":z=le;break;case"defaultChecked":Q=le;break;case"value":b=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:Lt(i,s,d,le,c,null)}}lo(i,b,j,z,Q,S,p,!1),oo(i);return;case"select":pt("invalid",i),d=S=b=null;for(p in c)if(c.hasOwnProperty(p)&&(j=c[p],j!=null))switch(p){case"value":b=j;break;case"defaultValue":S=j;break;case"multiple":d=j;default:Lt(i,s,p,j,c,null)}s=b,c=S,i.multiple=!!d,s!=null?St(i,!!d,s,!1):c!=null&&St(i,!!d,c,!0);return;case"textarea":pt("invalid",i),b=p=d=null;for(S in c)if(c.hasOwnProperty(S)&&(j=c[S],j!=null))switch(S){case"value":d=j;break;case"defaultValue":p=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:Lt(i,s,S,j,c,null)}ss(i,d,p,b),oo(i);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Lt(i,s,z,d,c,null)}return;case"dialog":pt("cancel",i),pt("close",i);break;case"iframe":case"object":pt("load",i);break;case"video":case"audio":for(d=0;d<Du.length;d++)pt(Du[d],i);break;case"image":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"embed":case"source":case"link":pt("error",i),pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(d=c[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Lt(i,s,Q,d,c,null)}return;default:if(Hc(s)){for(le in c)c.hasOwnProperty(le)&&(d=c[le],d!==void 0&&iy(i,s,le,d,c,void 0));return}}for(j in c)c.hasOwnProperty(j)&&(d=c[j],d!=null&&Lt(i,s,j,d,c,null))}function wM(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,S=null,j=null,z=null,Q=null,le=null;for(oe in c){var ye=c[oe];if(c.hasOwnProperty(oe)&&ye!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":z=ye;default:d.hasOwnProperty(oe)||Lt(i,s,oe,null,d,ye)}}for(var re in d){var oe=d[re];if(ye=c[re],d.hasOwnProperty(re)&&(oe!=null||ye!=null))switch(re){case"type":b=oe;break;case"name":p=oe;break;case"checked":Q=oe;break;case"defaultChecked":le=oe;break;case"value":S=oe;break;case"defaultValue":j=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==ye&&Lt(i,s,re,oe,d,ye)}}is(i,S,j,z,Q,le,b,p);return;case"select":oe=S=j=re=null;for(b in c)if(z=c[b],c.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":oe=z;default:d.hasOwnProperty(b)||Lt(i,s,b,null,d,z)}for(p in d)if(b=d[p],z=c[p],d.hasOwnProperty(p)&&(b!=null||z!=null))switch(p){case"value":re=b;break;case"defaultValue":j=b;break;case"multiple":S=b;default:b!==z&&Lt(i,s,p,b,d,z)}s=j,c=S,d=oe,re!=null?St(i,!!c,re,!1):!!d!=!!c&&(s!=null?St(i,!!c,s,!0):St(i,!!c,c?[]:"",!1));return;case"textarea":oe=re=null;for(j in c)if(p=c[j],c.hasOwnProperty(j)&&p!=null&&!d.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Lt(i,s,j,null,d,p)}for(S in d)if(p=d[S],b=c[S],d.hasOwnProperty(S)&&(p!=null||b!=null))switch(S){case"value":re=p;break;case"defaultValue":oe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Lt(i,s,S,p,d,b)}co(i,re,oe);return;case"option":for(var Be in c)if(re=c[Be],c.hasOwnProperty(Be)&&re!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Lt(i,s,Be,null,d,re)}for(z in d)if(re=d[z],oe=c[z],d.hasOwnProperty(z)&&re!==oe&&(re!=null||oe!=null))switch(z){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Lt(i,s,z,re,d,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in c)re=c[et],c.hasOwnProperty(et)&&re!=null&&!d.hasOwnProperty(et)&&Lt(i,s,et,null,d,re);for(Q in d)if(re=d[Q],oe=c[Q],d.hasOwnProperty(Q)&&re!==oe&&(re!=null||oe!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Lt(i,s,Q,re,d,oe)}return;default:if(Hc(s)){for(var un in c)re=c[un],c.hasOwnProperty(un)&&re!==void 0&&!d.hasOwnProperty(un)&&iy(i,s,un,void 0,d,re);for(le in d)re=d[le],oe=c[le],!d.hasOwnProperty(le)||re===oe||re===void 0&&oe===void 0||iy(i,s,le,re,d,oe);return}}for(var Z in c)re=c[Z],c.hasOwnProperty(Z)&&re!=null&&!d.hasOwnProperty(Z)&&Lt(i,s,Z,null,d,re);for(ye in d)re=d[ye],oe=c[ye],!d.hasOwnProperty(ye)||re===oe||re==null&&oe==null||Lt(i,s,ye,re,d,oe)}var sy=null,oy=null;function Jf(i){return i.nodeType===9?i:i.ownerDocument}function Zw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ly(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cy=null;function EM(){var i=window.event;return i&&i.type==="popstate"?i===cy?!1:(cy=i,!0):(cy=null,!1)}var e1=typeof setTimeout=="function"?setTimeout:void 0,TM=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,SM=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(i){return t1.resolve(null).then(i).catch(DM)}:e1;function DM(i){setTimeout(function(){throw i})}function uy(i,s){var c=s,d=0;do{var p=c.nextSibling;if(i.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){i.removeChild(p),Iu(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Iu(s)}function dy(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":dy(c),Ur(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function AM(i,s,c,d){for(;i.nodeType===1;){var p=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[br])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ca(i.nextSibling),i===null)break}return null}function RM(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ca(i.nextSibling),i===null))return null;return i}function Ca(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function n1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function r1(i,s,c){switch(s=Jf(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var ha=new Map,a1=new Set;function eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ui=_e.d;_e.d={f:CM,r:NM,D:MM,C:kM,L:PM,m:OM,X:jM,S:IM,M:VM};function CM(){var i=Ui.f(),s=$f();return i||s}function NM(i){var s=Tn(i);s!==null&&s.tag===5&&s.type==="form"?M_(s):Ui.r(i)}var Ql=typeof document>"u"?null:document;function i1(i,s,c){var d=Ql;if(d&&typeof s=="string"&&s){var p=on(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),a1.has(p)||(a1.add(p),i={rel:i,crossOrigin:c,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Zn(s,"link",i),Rt(s),d.head.appendChild(s)))}}function MM(i){Ui.D(i),i1("dns-prefetch",i,null)}function kM(i,s){Ui.C(i,s),i1("preconnect",i,s)}function PM(i,s,c){Ui.L(i,s,c);var d=Ql;if(d&&i&&s){var p='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+on(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+on(c.imageSizes)+'"]')):p+='[href="'+on(i)+'"]';var b=p;switch(s){case"style":b=Kl(i);break;case"script":b=Wl(i)}ha.has(b)||(i=N({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),ha.set(b,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Ru(b))||s==="script"&&d.querySelector(Cu(b))||(s=d.createElement("link"),Zn(s,"link",i),Rt(s),d.head.appendChild(s)))}}function OM(i,s){Ui.m(i,s);var c=Ql;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+on(d)+'"][href="'+on(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Wl(i)}if(!ha.has(b)&&(i=N({rel:"modulepreload",href:i},s),ha.set(b,i),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Cu(b)))return}d=c.createElement("link"),Zn(d,"link",i),Rt(d),c.head.appendChild(d)}}}function IM(i,s,c){Ui.S(i,s,c);var d=Ql;if(d&&i){var p=Mr(d).hoistableStyles,b=Kl(i);s=s||"default";var S=p.get(b);if(!S){var j={loading:0,preload:null};if(S=d.querySelector(Ru(b)))j.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":s},c),(c=ha.get(b))&&fy(i,c);var z=S=d.createElement("link");Rt(z),Zn(z,"link",i),z._p=new Promise(function(Q,le){z.onload=Q,z.onerror=le}),z.addEventListener("load",function(){j.loading|=1}),z.addEventListener("error",function(){j.loading|=2}),j.loading|=4,th(S,s,d)}S={type:"stylesheet",instance:S,count:1,state:j},p.set(b,S)}}}function jM(i,s){Ui.X(i,s);var c=Ql;if(c&&i){var d=Mr(c).hoistableScripts,p=Wl(i),b=d.get(p);b||(b=c.querySelector(Cu(p)),b||(i=N({src:i,async:!0},s),(s=ha.get(p))&&hy(i,s),b=c.createElement("script"),Rt(b),Zn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function VM(i,s){Ui.M(i,s);var c=Ql;if(c&&i){var d=Mr(c).hoistableScripts,p=Wl(i),b=d.get(p);b||(b=c.querySelector(Cu(p)),b||(i=N({src:i,async:!0,type:"module"},s),(s=ha.get(p))&&hy(i,s),b=c.createElement("script"),Rt(b),Zn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function s1(i,s,c,d){var p=(p=Me.current)?eh(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Kl(c.href),c=Mr(p).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Kl(c.href);var b=Mr(p).hoistableStyles,S=b.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,S),(b=p.querySelector(Ru(i)))&&!b._p&&(S.instance=b,S.state.loading=5),ha.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ha.set(i,c),b||LM(p,i,c,S.state))),s&&d===null)throw Error(r(528,""));return S}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wl(c),c=Mr(p).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Kl(i){return'href="'+on(i)+'"'}function Ru(i){return'link[rel="stylesheet"]['+i+"]"}function o1(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function LM(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Zn(s,"link",c),Rt(s),i.head.appendChild(s))}function Wl(i){return'[src="'+on(i)+'"]'}function Cu(i){return"script[async]"+i}function l1(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+on(c.href)+'"]');if(d)return s.instance=d,Rt(d),d;var p=N({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Rt(d),Zn(d,"style",p),th(d,c.precedence,i),s.instance=d;case"stylesheet":p=Kl(c.href);var b=i.querySelector(Ru(p));if(b)return s.state.loading|=4,s.instance=b,Rt(b),b;d=o1(c),(p=ha.get(p))&&fy(d,p),b=(i.ownerDocument||i).createElement("link"),Rt(b);var S=b;return S._p=new Promise(function(j,z){S.onload=j,S.onerror=z}),Zn(b,"link",d),s.state.loading|=4,th(b,c.precedence,i),s.instance=b;case"script":return b=Wl(c.src),(p=i.querySelector(Cu(b)))?(s.instance=p,Rt(p),p):(d=c,(p=ha.get(b))&&(d=N({},c),hy(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Rt(p),Zn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,th(d,c.precedence,i));return s.instance}function th(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,S=0;S<d.length;S++){var j=d[S];if(j.dataset.precedence===s)b=j;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function fy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function hy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var nh=null;function c1(i,s,c){if(nh===null){var d=new Map,p=nh=new Map;p.set(c,d)}else p=nh,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),p=0;p<c.length;p++){var b=c[p];if(!(b[br]||b[Oe]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(s)||"";S=i+S;var j=d.get(S);j?j.push(b):d.set(S,[b])}}return d}function u1(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function UM(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function d1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Nu=null;function BM(){}function FM(i,s,c){if(Nu===null)throw Error(r(475));var d=Nu;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Kl(c.href),b=i.querySelector(Ru(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=rh.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=b,Rt(b);return}b=i.ownerDocument||i,c=o1(c),(p=ha.get(p))&&fy(c,p),b=b.createElement("link"),Rt(b);var S=b;S._p=new Promise(function(j,z){S.onload=j,S.onerror=z}),Zn(b,"link",c),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=rh.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function zM(){if(Nu===null)throw Error(r(475));var i=Nu;return i.stylesheets&&i.count===0&&my(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&my(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)my(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ah=null;function my(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ah=new Map,s.forEach(HM,i),ah=null,rh.call(i))}function HM(i,s){if(!(s.state.loading&4)){var c=ah.get(i);if(c)var d=c.get(null);else{c=new Map,ah.set(i,c);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var S=p[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}p=s.instance,S=p.getAttribute("data-precedence"),b=c.get(S)||d,b===d&&c.set(null,p),c.set(S,p),this.count++,d=rh.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Mu={$$typeof:w,Provider:null,Consumer:null,_currentValue:ze,_currentValue2:ze,_threadCount:0};function YM(i,s,c,d,p,b,S,j){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.hiddenUpdates=ae(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function f1(i,s,c,d,p,b,S,j,z,Q,le,ye){return i=new YM(i,s,c,S,j,z,Q,ye),s=1,b===!0&&(s|=24),b=da(3,null,null,s),i.current=b,b.stateNode=i,s=$p(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:s},Dg(b),i}function h1(i){return i?(i=Rl,i):Rl}function m1(i,s,c,d,p,b){p=h1(p),d.context===null?d.context=p:d.pendingContext=p,d=ps(s),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=gs(i,d,s),c!==null&&(Er(c,i,s),mu(c,i,s))}function p1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function py(i,s){p1(i,s),(i=i.alternate)&&p1(i,s)}function g1(i){if(i.tag===13){var s=ls(i,67108864);s!==null&&Er(s,i,67108864),py(i,67108864)}}var ih=!0;function qM(i,s,c,d){var p=C.T;C.T=null;var b=_e.p;try{_e.p=2,gy(i,s,c,d)}finally{_e.p=b,C.T=p}}function $M(i,s,c,d){var p=C.T;C.T=null;var b=_e.p;try{_e.p=8,gy(i,s,c,d)}finally{_e.p=b,C.T=p}}function gy(i,s,c,d){if(ih){var p=yy(d);if(p===null)ay(i,s,d,sh,c),v1(i,d);else if(QM(p,i,s,c,d))d.stopPropagation();else if(v1(i,d),s&4&&-1<GM.indexOf(i)){for(;p!==null;){var b=Tn(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=or(b.pendingLanes);if(S!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;S;){var z=1<<31-Un(S);j.entanglements[1]|=z,S&=~z}Xa(b),(tn&6)===0&&(Hf=Ht()+500,Su(0))}}break;case 13:j=ls(b,2),j!==null&&Er(j,b,2),$f(),py(b,2)}if(b=yy(d),b===null&&ay(i,s,d,sh,c),b===p)break;p=b}p!==null&&d.stopPropagation()}else ay(i,s,d,null,c)}}function yy(i){return i=gl(i),vy(i)}var sh=null;function vy(i){if(sh=null,i=yn(i),i!==null){var s=se(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=be(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sh=i,null}function y1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case Ot:return 2;case gn:return 8;case Lr:case dl:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var by=!1,Es=null,Ts=null,Ss=null,ku=new Map,Pu=new Map,Ds=[],GM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v1(i,s){switch(i){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(s.pointerId)}}function Ou(i,s,c,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},s!==null&&(s=Tn(s),s!==null&&g1(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function QM(i,s,c,d,p){switch(s){case"focusin":return Es=Ou(Es,i,s,c,d,p),!0;case"dragenter":return Ts=Ou(Ts,i,s,c,d,p),!0;case"mouseover":return Ss=Ou(Ss,i,s,c,d,p),!0;case"pointerover":var b=p.pointerId;return ku.set(b,Ou(ku.get(b)||null,i,s,c,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Pu.set(b,Ou(Pu.get(b)||null,i,s,c,d,p)),!0}return!1}function b1(i){var s=yn(i.target);if(s!==null){var c=se(s);if(c!==null){if(s=c.tag,s===13){if(s=be(c),s!==null){i.blockedOn=s,De(i.priority,function(){if(c.tag===13){var d=Yr(),p=ls(c,d);p!==null&&Er(p,c,d),py(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function oh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=yy(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);ta=d,c.target.dispatchEvent(d),ta=null}else return s=Tn(c),s!==null&&g1(s),i.blockedOn=c,!1;s.shift()}return!0}function x1(i,s,c){oh(i)&&c.delete(s)}function KM(){by=!1,Es!==null&&oh(Es)&&(Es=null),Ts!==null&&oh(Ts)&&(Ts=null),Ss!==null&&oh(Ss)&&(Ss=null),ku.forEach(x1),Pu.forEach(x1)}function lh(i,s){i.blockedOn===s&&(i.blockedOn=null,by||(by=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KM)))}var ch=null;function _1(i){ch!==i&&(ch=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ch===i&&(ch=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(vy(d||c)===null)continue;break}var b=Tn(c);b!==null&&(i.splice(s,3),s-=3,lg(b,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Iu(i){function s(z){return lh(z,i)}Es!==null&&lh(Es,i),Ts!==null&&lh(Ts,i),Ss!==null&&lh(Ss,i),ku.forEach(s),Pu.forEach(s);for(var c=0;c<Ds.length;c++){var d=Ds[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ds.length&&(c=Ds[0],c.blockedOn===null);)b1(c),c.blockedOn===null&&Ds.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],b=c[d+1],S=p[Qe]||null;if(typeof b=="function")S||_1(c);else if(S){var j=null;if(b&&b.hasAttribute("formAction")){if(p=b,S=b[Qe]||null)j=S.formAction;else if(vy(p)!==null)continue}else j=S.action;typeof j=="function"?c[d+1]=j:(c.splice(d,3),d-=3),_1(c)}}}function xy(i){this._internalRoot=i}uh.prototype.render=xy.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=Yr();m1(c,d,i,s,null,null)},uh.prototype.unmount=xy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&ql(),m1(i.current,2,null,i,null,null),$f(),s[Tt]=null}};function uh(i){this._internalRoot=i}uh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ue();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ds.length&&s!==0&&s<Ds[c].priority;c++);Ds.splice(c,0,i),c===0&&b1(i)}};var w1=e.version;if(w1!=="19.0.0")throw Error(r(527,w1,"19.0.0"));_e.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ee(s),i=i!==null?ce(i):null,i=i===null?null:i.stateNode,i};var WM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Ea=dh.inject(WM),Ln=dh}catch{}}return Vu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,d="",p=U_,b=B_,S=F_,j=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks)),s=f1(i,1,!1,null,null,c,d,p,b,S,j,null),i[Tt]=s.current,ry(i.nodeType===8?i.parentNode:i),new xy(s)},Vu.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var d=!1,p="",b=U_,S=B_,j=F_,z=null,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(j=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(Q=c.formState)),s=f1(i,1,!0,s,c??null,d,p,b,S,j,z,Q),s.context=h1(null),c=s.current,d=Yr(),p=ps(d),p.callback=null,gs(c,p,d),s.current.lanes=d,ue(s,d),Xa(s),i[Tt]=s.current,ry(i),new uh(s)},Vu.version="19.0.0",Vu}var k1;function c4(){if(k1)return Ey.exports;k1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ey.exports=l4(),Ey.exports}var u4=c4(),Lu={},P1;function d4(){if(P1)return Lu;P1=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.parse=l,Lu.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const E=new o,D=x.length;if(D<2)return E;const A=(w==null?void 0:w.decode)||g;let O=0;do{const U=x.indexOf("=",O);if(U===-1)break;const B=x.indexOf(";",O),$=B===-1?D:B;if(U>$){O=x.lastIndexOf(";",U-1)+1;continue}const k=u(x,O,U),Y=f(x,U,k),I=x.slice(k,Y);if(E[I]===void 0){let R=u(x,U+1,$),C=f(x,$,R);const N=A(x.slice(R,C));E[I]=N}O=$+1}while(O<D);return E}function u(x,w,E){do{const D=x.charCodeAt(w);if(D!==32&&D!==9)return w}while(++w<E);return E}function f(x,w,E){for(;w>E;){const D=x.charCodeAt(--w);if(D!==32&&D!==9)return w+1}return E}function h(x,w,E){const D=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const A=D(w);if(!e.test(A))throw new TypeError(`argument val is invalid: ${w}`);let O=x+"="+A;if(!E)return O;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);O+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);O+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);O+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);O+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(O+="; HttpOnly"),E.secure&&(O+="; Secure"),E.partitioned&&(O+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return O}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return a.call(x)==="[object Date]"}return Lu}d4();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D2=n=>{throw TypeError(n)},f4=(n,e,t)=>e.has(n)||D2("Cannot "+t),Ay=(n,e,t)=>(f4(n,e,"read from private field"),t?t.call(n):e.get(n)),h4=(n,e,t)=>e.has(n)?D2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),O1="popstate";function m4(n={}){function e(r,a){let{pathname:o,search:l,hash:u}=r.location;return hd("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Hs(a)}return g4(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p4(){return Math.random().toString(36).substring(2,10)}function I1(n,e){return{usr:n.state,key:n.key,idx:e}}function hd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:t,key:e&&e.key||r||p4()}}function Hs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function eo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function g4(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,u="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let A=g(),O=A==null?null:A-h;h=A,f&&f({action:u,location:D.location,delta:O})}function x(A,O){u="PUSH";let U=hd(D.location,A,O);h=g()+1;let B=I1(U,h),$=D.createHref(U);try{l.pushState(B,"",$)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign($)}o&&f&&f({action:u,location:D.location,delta:1})}function w(A,O){u="REPLACE";let U=hd(D.location,A,O);h=g();let B=I1(U,h),$=D.createHref(U);l.replaceState(B,"",$),o&&f&&f({action:u,location:D.location,delta:0})}function E(A){let O=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof A=="string"?A:Hs(A);return U=U.replace(/ $/,"%20"),ft(O,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,O)}let D={get action(){return u},get location(){return n(a,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(O1,v),f=A,()=>{a.removeEventListener(O1,v),f=null}},createHref(A){return e(a,A)},createURL:E,encodeLocation(A){let O=E(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:w,go(A){return l.go(A)}};return D}var Qu,j1=class{constructor(n){if(h4(this,Qu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Ay(this,Qu).has(n))return Ay(this,Qu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Ay(this,Qu).set(n,e)}};Qu=new WeakMap;var y4=new Set(["lazy","caseSensitive","path","id","index","children"]);function v4(n){return n.index===!0}function Xh(n,e,t=[],r={}){return n.map((a,o)=>{let l=[...t,String(o)],u=typeof a.id=="string"?a.id:l.join("-");if(ft(a.index!==!0||!a.children,"Cannot specify children on an index route"),ft(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),v4(a)){let f={...a,...e(a),id:u};return r[u]=f,f}else{let f={...a,...e(a),id:u,children:void 0};return r[u]=f,a.children&&(f.children=Xh(a.children,e,l,r)),f}})}function ks(n,e,t="/"){return kh(n,e,t,!1)}function kh(n,e,t,r){let a=typeof e=="string"?eo(e):e,o=_a(a.pathname||"/",t);if(o==null)return null;let l=A2(n);x4(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=M4(o);u=C4(l[f],h,r)}return u}function b4(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function A2(n,e=[],t=[],r=""){let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=ii([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),A2(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:A4(h,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let f of R2(o.path))a(o,l,f)}),e}function R2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=R2(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function x4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:R4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _4=/^:[\w-]+$/,w4=3,E4=2,T4=1,S4=10,D4=-2,V1=n=>n==="*";function A4(n,e){let t=n.split("/"),r=t.length;return t.some(V1)&&(r+=D4),e&&(r+=E4),t.filter(a=>!V1(a)).reduce((a,o)=>a+(_4.test(o)?w4:o===""?T4:S4),r)}function R4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function C4(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=Zh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:ii([o,v.pathname]),pathnameBase:O4(ii([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ii([o,v.pathnameBase]))}return l}function Zh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=N4(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},x)=>{if(g==="*"){let E=u[x]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function N4(n,e=!1,t=!0){rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function M4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function k4(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?eo(n):n;return{pathname:t?t.startsWith("/")?t:P4(t,e):e,search:I4(r),hash:j4(a)}}function P4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ry(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ev(n){let e=C2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Tv(n,e,t,r=!1){let a;typeof n=="string"?a=eo(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),Ry("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Ry("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Ry("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=k4(a,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ii=n=>n.join("/").replace(/\/\/+/g,"/"),O4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,j4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Jh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function md(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var N2=["POST","PUT","PATCH","DELETE"],V4=new Set(N2),L4=["GET",...N2],U4=new Set(L4),B4=new Set([301,302,303,307,308]),F4=new Set([307,308]),Cy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},z4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H4=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),M2="remix-router-transitions",k2=Symbol("ResetLoaderData");function Y4(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||H4,a={},o=Xh(n.routes,r,void 0,a),l,u=n.basename||"/",f=n.dataStrategy||K4,h={unstable_middleware:!1,...n.future},g=null,v=new Set,x=null,w=null,E=null,D=n.hydrationData!=null,A=ks(o,n.history.location,u),O=!1,U=null;if(A==null&&!n.patchRoutesOnNavigation){let q=ga(404,{pathname:n.history.location.pathname}),{matches:W,route:ae}=K1(o);A=W,U={[ae.id]:q}}A&&!n.hydrationData&&or(A,o,n.history.location.pathname).active&&(A=null);let B;if(A)if(A.some(q=>q.route.lazy))B=!1;else if(!A.some(q=>q.route.loader))B=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ae=A.findIndex(ue=>W[ue.route.id]!==void 0);B=A.slice(0,ae+1).every(ue=>!f0(ue.route,q,W))}else B=A.every(ae=>!f0(ae.route,q,W))}else{B=!1,A=[];let q=or(null,o,n.history.location.pathname);q.active&&q.matches&&(O=!0,A=q.matches)}let $,k={historyAction:n.history.action,location:n.history.location,matches:A,initialized:B,navigation:Cy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},Y="POP",I=!1,R,C=!1,N=new Map,L=null,H=!1,F=!1,Te=new Set,xe=new Map,K=0,ne=-1,se=new Map,be=new Set,P=new Map,ee=new Map,ce=new Set,de=new Map,_e,ze=null;function Ge(){if(g=n.history.listen(({action:q,location:W,delta:ae})=>{if(_e){_e(),_e=void 0;return}rr(de.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Un({currentLocation:k.location,nextLocation:W,historyAction:q});if(ue&&ae!=null){let Se=new Promise(Ye=>{_e=Ye});n.history.go(ae*-1),vr(ue,{state:"blocked",location:W,proceed(){vr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),Se.then(()=>n.history.go(ae))},reset(){let Ye=new Map(k.blockers);Ye.set(ue,Uu),He({blockers:Ye})}});return}return Me(q,W)}),t){ok(e,N);let q=()=>lk(e,N);e.addEventListener("pagehide",q),L=()=>e.removeEventListener("pagehide",q)}return k.initialized||Me("POP",k.location,{initialHydration:!0}),$}function Ut(){g&&g(),L&&L(),v.clear(),R&&R.abort(),k.fetchers.forEach((q,W)=>Lr(W)),k.blockers.forEach((q,W)=>ns(W))}function it(q){return v.add(q),()=>v.delete(q)}function He(q,W={}){k={...k,...q};let ae=[],ue=[];k.fetchers.forEach((Se,Ye)=>{Se.state==="idle"&&(ce.has(Ye)?ae.push(Ye):ue.push(Ye))}),ce.forEach(Se=>{!k.fetchers.has(Se)&&!xe.has(Se)&&ae.push(Se)}),[...v].forEach(Se=>Se(k,{deletedFetchers:ae,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ae.forEach(Se=>Lr(Se)),ue.forEach(Se=>k.fetchers.delete(Se))}function ge(q,W,{flushSync:ae}={}){var De,Pe;let ue=k.actionData!=null&&k.navigation.formMethod!=null&&Ma(k.navigation.formMethod)&&k.navigation.state==="loading"&&((De=q.state)==null?void 0:De._isRedirect)!==!0,Se;W.actionData?Object.keys(W.actionData).length>0?Se=W.actionData:Se=null:ue?Se=k.actionData:Se=null;let Ye=W.loaderData?G1(k.loaderData,W.loaderData,W.matches||[],W.errors):k.loaderData,Fe=k.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Oe,Qe)=>Fe.set(Qe,Uu)));let Ve=I===!0||k.navigation.formMethod!=null&&Ma(k.navigation.formMethod)&&((Pe=q.state)==null?void 0:Pe._isRedirect)!==!0;l&&(o=l,l=void 0),H||Y==="POP"||(Y==="PUSH"?n.history.push(q,q.state):Y==="REPLACE"&&n.history.replace(q,q.state));let Ue;if(Y==="POP"){let Oe=N.get(k.location.pathname);Oe&&Oe.has(q.pathname)?Ue={currentLocation:k.location,nextLocation:q}:N.has(q.pathname)&&(Ue={currentLocation:q,nextLocation:k.location})}else if(C){let Oe=N.get(k.location.pathname);Oe?Oe.add(q.pathname):(Oe=new Set([q.pathname]),N.set(k.location.pathname,Oe)),Ue={currentLocation:k.location,nextLocation:q}}He({...W,actionData:Se,loaderData:Ye,historyAction:Y,location:q,initialized:!0,navigation:Cy,revalidation:"idle",restoreScrollPosition:Ta(q,W.matches||k.matches),preventScrollReset:Ve,blockers:Fe},{viewTransitionOpts:Ue,flushSync:ae===!0}),Y="POP",I=!1,C=!1,H=!1,F=!1,ze==null||ze.resolve(),ze=null}async function pe(q,W){if(typeof q=="number"){n.history.go(q);return}let ae=d0(k.location,k.matches,u,q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ue,submission:Se,error:Ye}=L1(!1,ae,W),Fe=k.location,Ve=hd(k.location,ue,W&&W.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let Ue=W&&W.replace!=null?W.replace:void 0,De="PUSH";Ue===!0?De="REPLACE":Ue===!1||Se!=null&&Ma(Se.formMethod)&&Se.formAction===k.location.pathname+k.location.search&&(De="REPLACE");let Pe=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Oe=(W&&W.flushSync)===!0,Qe=Un({currentLocation:Fe,nextLocation:Ve,historyAction:De});if(Qe){vr(Qe,{state:"blocked",location:Ve,proceed(){vr(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),pe(q,W)},reset(){let Tt=new Map(k.blockers);Tt.set(Qe,Uu),He({blockers:Tt})}});return}await Me(De,Ve,{submission:Se,pendingError:Ye,preventScrollReset:Pe,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Oe})}function ke(){ze||(ze=ck()),Ht(),He({revalidation:"loading"});let q=ze.promise;return k.navigation.state==="submitting"?q:k.navigation.state==="idle"?(Me(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),q):(Me(Y||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:C===!0}),q)}async function Me(q,W,ae){R&&R.abort(),R=null,Y=q,H=(ae&&ae.startUninterruptedRevalidation)===!0,Wr(k.location,k.matches),I=(ae&&ae.preventScrollReset)===!0,C=(ae&&ae.enableViewTransition)===!0;let ue=l||o,Se=ae&&ae.overrideNavigation,Ye=ae!=null&&ae.initialHydration&&k.matches&&k.matches.length>0&&!O?k.matches:ks(ue,W,u),Fe=(ae&&ae.flushSync)===!0;if(Ye&&k.initialized&&!F&&nk(k.location,W)&&!(ae&&ae.submission&&Ma(ae.submission.formMethod))){ge(W,{matches:Ye},{flushSync:Fe});return}let Ve=or(Ye,ue,W.pathname);if(Ve.active&&Ve.matches&&(Ye=Ve.matches),!Ye){let{error:Bt,notFoundMatches:_t,route:Qt}=gi(W.pathname);ge(W,{matches:_t,loaderData:{},errors:{[Qt.id]:Bt}},{flushSync:Fe});return}R=new AbortController;let Ue=Xl(n.history,W,R.signal,ae&&ae.submission),De=new j1(n.unstable_getContext?await n.unstable_getContext():void 0),Pe;if(ae&&ae.pendingError)Pe=[Bo(Ye).route.id,{type:"error",error:ae.pendingError}];else if(ae&&ae.submission&&Ma(ae.submission.formMethod)){let Bt=await Ze(Ue,W,ae.submission,Ye,De,Ve.active,{replace:ae.replace,flushSync:Fe});if(Bt.shortCircuited)return;if(Bt.pendingActionResult){let[_t,Qt]=Bt.pendingActionResult;if(qr(Qt)&&md(Qt.error)&&Qt.error.status===404){R=null,ge(W,{matches:Bt.matches,loaderData:{},errors:{[_t]:Qt.error}});return}}Ye=Bt.matches||Ye,Pe=Bt.pendingActionResult,Se=Ny(W,ae.submission),Fe=!1,Ve.active=!1,Ue=Xl(n.history,Ue.url,Ue.signal)}let{shortCircuited:Oe,matches:Qe,loaderData:Tt,errors:Wt}=await zt(Ue,W,Ye,De,Ve.active,Se,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,Fe,Pe);Oe||(R=null,ge(W,{matches:Qe||Ye,...Q1(Pe),loaderData:Tt,errors:Wt}))}async function Ze(q,W,ae,ue,Se,Ye,Fe={}){Ht();let Ve=ik(W,ae);if(He({navigation:Ve},{flushSync:Fe.flushSync===!0}),Ye){let Pe=await Qn(ue,W.pathname,q.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let Oe=Bo(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,pendingActionResult:[Oe,{type:"error",error:Pe.error}]}}else if(Pe.matches)ue=Pe.matches;else{let{notFoundMatches:Oe,error:Qe,route:Tt}=gi(W.pathname);return{matches:Oe,pendingActionResult:[Tt.id,{type:"error",error:Qe}]}}}let Ue,De=Ku(ue,W);if(!De.route.action&&!De.route.lazy)Ue={type:"error",error:ga(405,{method:q.method,pathname:W.pathname,routeId:De.route.id})};else{let Pe=await sr("action",q,[De],ue,Se,null);if(Ue=Pe[De.route.id],!Ue){for(let Oe of ue)if(Pe[Oe.route.id]){Ue=Pe[Oe.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Fo(Ue)){let Pe;return Fe&&Fe.replace!=null?Pe=Fe.replace:Pe=Y1(Ue.response.headers.get("Location"),new URL(q.url),u)===k.location.pathname+k.location.search,await sn(q,Ue,!0,{submission:ae,replace:Pe}),{shortCircuited:!0}}if(qr(Ue)){let Pe=Bo(ue,De.route.id);return(Fe&&Fe.replace)!==!0&&(Y="PUSH"),{matches:ue,pendingActionResult:[Pe.route.id,Ue]}}return{matches:ue,pendingActionResult:[De.route.id,Ue]}}async function zt(q,W,ae,ue,Se,Ye,Fe,Ve,Ue,De,Pe,Oe){let Qe=Ye||Ny(W,Fe),Tt=Fe||Ve||X1(Qe),Wt=!H&&!De;if(Se){if(Wt){let Ct=we(Oe);He({navigation:Qe,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Pe})}let st=await Qn(ae,W.pathname,q.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){let Ct=Bo(st.partialMatches).route.id;return{matches:st.partialMatches,loaderData:{},errors:{[Ct]:st.error}}}else if(st.matches)ae=st.matches;else{let{error:Ct,notFoundMatches:Bn,route:yi}=gi(W.pathname);return{matches:Bn,loaderData:{},errors:{[yi.id]:Ct}}}}let Bt=l||o,[_t,Qt]=B1(n.history,k,ae,Tt,W,De===!0,F,Te,ce,P,be,Bt,u,Oe);if(ne=++K,_t.length===0&&Qt.length===0){let st=ja();return ge(W,{matches:ae,loaderData:{},errors:Oe&&qr(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...Q1(Oe),...st?{fetchers:new Map(k.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Wt){let st={};if(!Se){st.navigation=Qe;let Ct=we(Oe);Ct!==void 0&&(st.actionData=Ct)}Qt.length>0&&(st.fetchers=Ie(Qt)),He(st,{flushSync:Pe})}Qt.forEach(st=>{Nr(st.key),st.controller&&xe.set(st.key,st.controller)});let br=()=>Qt.forEach(st=>Nr(st.key));R&&R.signal.addEventListener("abort",br);let{loaderResults:Ur,fetcherResults:yn}=await En(ae,_t,Qt,q,ue);if(q.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",br),Qt.forEach(st=>xe.delete(st.key));let Tn=fh(Ur);if(Tn)return await sn(q,Tn.result,!0,{replace:Ue}),{shortCircuited:!0};if(Tn=fh(yn),Tn)return be.add(Tn.key),await sn(q,Tn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Xr,errors:Mr}=$1(k,ae,Ur,Oe,Qt,yn);De&&k.errors&&(Mr={...k.errors,...Mr});let Rt=ja(),La=Ea(ne),Sa=Rt||La||Qt.length>0;return{matches:ae,loaderData:Xr,errors:Mr,...Sa?{fetchers:new Map(k.fetchers)}:{}}}function we(q){if(q&&!qr(q[1]))return{[q[0]]:q[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Ie(q){return q.forEach(W=>{let ae=k.fetchers.get(W.key),ue=Bu(void 0,ae?ae.data:void 0);k.fetchers.set(W.key,ue)}),new Map(k.fetchers)}async function nt(q,W,ae,ue){Nr(q);let Se=(ue&&ue.flushSync)===!0,Ye=l||o,Fe=d0(k.location,k.matches,u,ae,W,ue==null?void 0:ue.relative),Ve=ks(Ye,Fe,u),Ue=or(Ve,Ye,Fe);if(Ue.active&&Ue.matches&&(Ve=Ue.matches),!Ve){Ot(q,W,ga(404,{pathname:Fe}),{flushSync:Se});return}let{path:De,submission:Pe,error:Oe}=L1(!0,Fe,ue);if(Oe){Ot(q,W,Oe,{flushSync:Se});return}let Qe=Ku(Ve,De),Tt=new j1(n.unstable_getContext?await n.unstable_getContext():void 0),Wt=(ue&&ue.preventScrollReset)===!0;if(Pe&&Ma(Pe.formMethod)){await ot(q,W,De,Qe,Ve,Tt,Ue.active,Se,Wt,Pe);return}P.set(q,{routeId:W,path:De}),await Jt(q,W,De,Qe,Ve,Tt,Ue.active,Se,Wt,Pe)}async function ot(q,W,ae,ue,Se,Ye,Fe,Ve,Ue,De){Ht(),P.delete(q);function Pe(Yt){if(!Yt.route.action&&!Yt.route.lazy){let Zr=ga(405,{method:De.formMethod,pathname:ae,routeId:W});return Ot(q,W,Zr,{flushSync:Ve}),!0}return!1}if(!Fe&&Pe(ue))return;let Oe=k.fetchers.get(q);pn(q,sk(De,Oe),{flushSync:Ve});let Qe=new AbortController,Tt=Xl(n.history,ae,Qe.signal,De);if(Fe){let Yt=await Qn(Se,ae,Tt.signal,q);if(Yt.type==="aborted")return;if(Yt.type==="error"){Ot(q,W,Yt.error,{flushSync:Ve});return}else if(Yt.matches){if(Se=Yt.matches,ue=Ku(Se,ae),Pe(ue))return}else{Ot(q,W,ga(404,{pathname:ae}),{flushSync:Ve});return}}xe.set(q,Qe);let Wt=K,_t=(await sr("action",Tt,[ue],Se,Ye,q))[ue.route.id];if(Tt.signal.aborted){xe.get(q)===Qe&&xe.delete(q);return}if(ce.has(q)){if(Fo(_t)||qr(_t)){pn(q,Ns(void 0));return}}else{if(Fo(_t))if(xe.delete(q),ne>Wt){pn(q,Ns(void 0));return}else return be.add(q),pn(q,Bu(De)),sn(Tt,_t,!1,{fetcherSubmission:De,preventScrollReset:Ue});if(qr(_t)){Ot(q,W,_t.error);return}}let Qt=k.navigation.location||k.location,br=Xl(n.history,Qt,Qe.signal),Ur=l||o,yn=k.navigation.state!=="idle"?ks(Ur,k.navigation.location,u):k.matches;ft(yn,"Didn't find any matches after fetcher action");let Tn=++K;se.set(q,Tn);let Xr=Bu(De,_t.data);k.fetchers.set(q,Xr);let[Mr,Rt]=B1(n.history,k,yn,De,Qt,!1,F,Te,ce,P,be,Ur,u,[ue.route.id,_t]);Rt.filter(Yt=>Yt.key!==q).forEach(Yt=>{let Zr=Yt.key,so=k.fetchers.get(Zr),Ua=Bu(void 0,so?so.data:void 0);k.fetchers.set(Zr,Ua),Nr(Zr),Yt.controller&&xe.set(Zr,Yt.controller)}),He({fetchers:new Map(k.fetchers)});let La=()=>Rt.forEach(Yt=>Nr(Yt.key));Qe.signal.addEventListener("abort",La);let{loaderResults:Sa,fetcherResults:st}=await En(yn,Mr,Rt,br,Ye);if(Qe.signal.aborted)return;Qe.signal.removeEventListener("abort",La),se.delete(q),xe.delete(q),Rt.forEach(Yt=>xe.delete(Yt.key));let Ct=fh(Sa);if(Ct)return sn(br,Ct.result,!1,{preventScrollReset:Ue});if(Ct=fh(st),Ct)return be.add(Ct.key),sn(br,Ct.result,!1,{preventScrollReset:Ue});let{loaderData:Bn,errors:yi}=$1(k,yn,Sa,void 0,Rt,st);if(k.fetchers.has(q)){let Yt=Ns(_t.data);k.fetchers.set(q,Yt)}Ea(Tn),k.navigation.state==="loading"&&Tn>ne?(ft(Y,"Expected pending action"),R&&R.abort(),ge(k.navigation.location,{matches:yn,loaderData:Bn,errors:yi,fetchers:new Map(k.fetchers)})):(He({errors:yi,loaderData:G1(k.loaderData,Bn,yn,yi),fetchers:new Map(k.fetchers)}),F=!1)}async function Jt(q,W,ae,ue,Se,Ye,Fe,Ve,Ue,De){let Pe=k.fetchers.get(q);pn(q,Bu(De,Pe?Pe.data:void 0),{flushSync:Ve});let Oe=new AbortController,Qe=Xl(n.history,ae,Oe.signal);if(Fe){let _t=await Qn(Se,ae,Qe.signal,q);if(_t.type==="aborted")return;if(_t.type==="error"){Ot(q,W,_t.error,{flushSync:Ve});return}else if(_t.matches)Se=_t.matches,ue=Ku(Se,ae);else{Ot(q,W,ga(404,{pathname:ae}),{flushSync:Ve});return}}xe.set(q,Oe);let Tt=K,Bt=(await sr("loader",Qe,[ue],Se,Ye,q))[ue.route.id];if(xe.get(q)===Oe&&xe.delete(q),!Qe.signal.aborted){if(ce.has(q)){pn(q,Ns(void 0));return}if(Fo(Bt))if(ne>Tt){pn(q,Ns(void 0));return}else{be.add(q),await sn(Qe,Bt,!1,{preventScrollReset:Ue});return}if(qr(Bt)){Ot(q,W,Bt.error);return}pn(q,Ns(Bt.data))}}async function sn(q,W,ae,{submission:ue,fetcherSubmission:Se,preventScrollReset:Ye,replace:Fe}={}){W.response.headers.has("X-Remix-Revalidate")&&(F=!0);let Ve=W.response.headers.get("Location");ft(Ve,"Expected a Location header on the redirect Response"),Ve=Y1(Ve,new URL(q.url),u);let Ue=hd(k.location,Ve,{_isRedirect:!0});if(t){let Wt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Wt=!0;else if(Sv.test(Ve)){const Bt=n.history.createURL(Ve);Wt=Bt.origin!==e.location.origin||_a(Bt.pathname,u)==null}if(Wt){Fe?e.location.replace(Ve):e.location.assign(Ve);return}}R=null;let De=Fe===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Oe,formEncType:Qe}=k.navigation;!ue&&!Se&&Pe&&Oe&&Qe&&(ue=X1(k.navigation));let Tt=ue||Se;if(F4.has(W.response.status)&&Tt&&Ma(Tt.formMethod))await Me(De,Ue,{submission:{...Tt,formAction:Ve},preventScrollReset:Ye||I,enableViewTransition:ae?C:void 0});else{let Wt=Ny(Ue,ue);await Me(De,Ue,{overrideNavigation:Wt,fetcherSubmission:Se,preventScrollReset:Ye||I,enableViewTransition:ae?C:void 0})}}async function sr(q,W,ae,ue,Se,Ye){let Fe,Ve={};try{Fe=await X4(f,q,W,ae,ue,Ye,a,r,Se,h.unstable_middleware)}catch(Ue){return ae.forEach(De=>{Ve[De.route.id]={type:"error",error:Ue}}),Ve}for(let[Ue,De]of Object.entries(Fe))if(rk(De)){let Pe=De.result;Ve[Ue]={type:"redirect",response:ek(Pe,W,Ue,ue,u)}}else Ve[Ue]=await J4(De);return Ve}async function En(q,W,ae,ue,Se){let Ye=sr("loader",ue,W,q,Se,null),Fe=Promise.all(ae.map(async De=>{if(De.matches&&De.match&&De.controller){let Oe=(await sr("loader",Xl(n.history,De.path,De.controller.signal),[De.match],De.matches,Se,De.key))[De.match.route.id];return{[De.key]:Oe}}else return Promise.resolve({[De.key]:{type:"error",error:ga(404,{pathname:De.path})}})})),Ve=await Ye,Ue=(await Fe).reduce((De,Pe)=>Object.assign(De,Pe),{});return{loaderResults:Ve,fetcherResults:Ue}}function Ht(){F=!0,P.forEach((q,W)=>{xe.has(W)&&Te.add(W),Nr(W)})}function pn(q,W,ae={}){k.fetchers.set(q,W),He({fetchers:new Map(k.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Ot(q,W,ae,ue={}){let Se=Bo(k.matches,W);Lr(q),He({errors:{[Se.route.id]:ae},fetchers:new Map(k.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function gn(q){return ee.set(q,(ee.get(q)||0)+1),ce.has(q)&&ce.delete(q),k.fetchers.get(q)||z4}function Lr(q){let W=k.fetchers.get(q);xe.has(q)&&!(W&&W.state==="loading"&&se.has(q))&&Nr(q),P.delete(q),se.delete(q),be.delete(q),ce.delete(q),Te.delete(q),k.fetchers.delete(q)}function dl(q){let W=(ee.get(q)||0)-1;W<=0?(ee.delete(q),ce.add(q)):ee.set(q,W),He({fetchers:new Map(k.fetchers)})}function Nr(q){let W=xe.get(q);W&&(W.abort(),xe.delete(q))}function fl(q){for(let W of q){let ae=gn(W),ue=Ns(ae.data);k.fetchers.set(W,ue)}}function ja(){let q=[],W=!1;for(let ae of be){let ue=k.fetchers.get(ae);ft(ue,`Expected fetcher: ${ae}`),ue.state==="loading"&&(be.delete(ae),q.push(ae),W=!0)}return fl(q),W}function Ea(q){let W=[];for(let[ae,ue]of se)if(ue<q){let Se=k.fetchers.get(ae);ft(Se,`Expected fetcher: ${ae}`),Se.state==="loading"&&(Nr(ae),se.delete(ae),W.push(ae))}return fl(W),W.length>0}function Ln(q,W){let ae=k.blockers.get(q)||Uu;return de.get(q)!==W&&de.set(q,W),ae}function ns(q){k.blockers.delete(q),de.delete(q)}function vr(q,W){let ae=k.blockers.get(q)||Uu;ft(ae.state==="unblocked"&&W.state==="blocked"||ae.state==="blocked"&&W.state==="blocked"||ae.state==="blocked"&&W.state==="proceeding"||ae.state==="blocked"&&W.state==="unblocked"||ae.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ae.state} -> ${W.state}`);let ue=new Map(k.blockers);ue.set(q,W),He({blockers:ue})}function Un({currentLocation:q,nextLocation:W,historyAction:ae}){if(de.size===0)return;de.size>1&&rr(!1,"A router only supports one blocker at a time");let ue=Array.from(de.entries()),[Se,Ye]=ue[ue.length-1],Fe=k.blockers.get(Se);if(!(Fe&&Fe.state==="proceeding")&&Ye({currentLocation:q,nextLocation:W,historyAction:ae}))return Se}function gi(q){let W=ga(404,{pathname:q}),ae=l||o,{matches:ue,route:Se}=K1(ae);return{notFoundMatches:ue,route:Se,error:W}}function hl(q,W,ae){if(x=q,E=W,w=ae||null,!D&&k.navigation===Cy){D=!0;let ue=Ta(k.location,k.matches);ue!=null&&He({restoreScrollPosition:ue})}return()=>{x=null,E=null,w=null}}function io(q,W){return w&&w(q,W.map(ue=>b4(ue,k.loaderData)))||q.key}function Wr(q,W){if(x&&E){let ae=io(q,W);x[ae]=E()}}function Ta(q,W){if(x){let ae=io(q,W),ue=x[ae];if(typeof ue=="number")return ue}return null}function or(q,W,ae){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:kh(W,ae,u,!0)}}else return{active:!0,matches:kh(W,ae,u,!0)||[]};return{active:!1,matches:null}}async function Qn(q,W,ae,ue){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let Se=q;for(;;){let Ye=l==null,Fe=l||o,Ve=a;try{await n.patchRoutesOnNavigation({signal:ae,path:W,matches:Se,fetcherKey:ue,patch:(Pe,Oe)=>{ae.aborted||z1(Pe,Oe,Fe,Ve,r)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:Se}}finally{Ye&&!ae.aborted&&(o=[...o])}if(ae.aborted)return{type:"aborted"};let Ue=ks(Fe,W,u);if(Ue)return{type:"success",matches:Ue};let De=kh(Fe,W,u,!0);if(!De||Se.length===De.length&&Se.every((Pe,Oe)=>Pe.route.id===De[Oe].route.id))return{type:"success",matches:null};Se=De}}function Va(q){a={},l=Xh(q,r,void 0,a)}function rs(q,W){let ae=l==null;z1(q,W,l||o,a,r),ae&&(o=[...o],He({}))}return $={get basename(){return u},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:Ge,subscribe:it,enableScrollRestoration:hl,navigate:pe,fetch:nt,revalidate:ke,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:gn,deleteFetcher:dl,dispose:Ut,getBlocker:Ln,deleteBlocker:ns,patchRoutes:rs,_internalFetchControllers:xe,_internalSetRoutes:Va},$}function q4(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function d0(n,e,t,r,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let f=Tv(r||".",Ev(l),_a(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&u){let h=Dv(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ii([t,f.pathname])),Hs(f)}function L1(n,e,t){if(!t||!q4(t))return{path:e};if(t.formMethod&&!ak(t.formMethod))return{path:e,error:ga(405,{method:t.formMethod})};let r=()=>({path:e,error:ga(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=I2(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ma(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[w,E])=>`${x}${w}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Ma(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=h0(t.formData),f=t.formData;else if(t.body instanceof FormData)u=h0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=q1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=q1(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ma(h.formMethod))return{path:e,submission:h};let g=eo(e);return n&&g.search&&Dv(g.search)&&u.append("index",""),g.search=`?${u}`,{path:Hs(g),submission:h}}function U1(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function B1(n,e,t,r,a,o,l,u,f,h,g,v,x,w){let E=w?qr(w[1])?w[1].error:w[1].data:void 0,D=n.createURL(e.location),A=n.createURL(a),O=t;o&&e.errors?O=U1(t,Object.keys(e.errors)[0],!0):w&&qr(w[1])&&(O=U1(t,w[0]));let U=w?w[1].statusCode:void 0,B=U&&U>=400,$=O.filter((Y,I)=>{let{route:R}=Y;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return f0(R,e.loaderData,e.errors);if($4(e.loaderData,e.matches[I],Y))return!0;let C=e.matches[I],N=Y;return F1(Y,{currentUrl:D,currentParams:C.params,nextUrl:A,nextParams:N.params,...r,actionResult:E,actionStatus:U,defaultShouldRevalidate:B?!1:l||D.pathname+D.search===A.pathname+A.search||D.search!==A.search||G4(C,N)})}),k=[];return h.forEach((Y,I)=>{if(o||!t.some(H=>H.route.id===Y.routeId)||f.has(I))return;let R=ks(v,Y.path,x);if(!R){k.push({key:I,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(I),N=Ku(R,Y.path),L=!1;g.has(I)?L=!1:u.has(I)?(u.delete(I),L=!0):C&&C.state!=="idle"&&C.data===void 0?L=l:L=F1(N,{currentUrl:D,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:t[t.length-1].params,...r,actionResult:E,actionStatus:U,defaultShouldRevalidate:B?!1:l}),L&&k.push({key:I,routeId:Y.routeId,path:Y.path,matches:R,match:N,controller:new AbortController})}),[$,k]}function f0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function $4(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function G4(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function F1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function z1(n,e,t,r,a){let o;if(n){let f=r[n];ft(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let l=e.filter(f=>!o.some(h=>P2(f,h))),u=Xh(l,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function P2(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>P2(t,o))}):!1}async function Q4(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];ft(a,"No route found in manifest");let o={};for(let l in r){let f=a[l]!==void 0&&l!=="hasErrorBoundary";rr(!f,`Route "${a.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!f&&!y4.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function H1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function K4(n){return n.matches.some(e=>e.route.unstable_middleware)?W4(n,!1,()=>H1(n),(e,t)=>({[t]:{type:"error",result:e}})):H1(n)}async function W4(n,e,t,r){let{matches:a,request:o,params:l,context:u}=n,f={handlerResult:void 0};try{let h=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),g=await O2({request:o,params:l,context:u},h,e,f,t);return e?g:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function O2(n,e,t,r,a,o=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await a(),r.handlerResult;let[f,h]=u,g=!1,v,x=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await O2(n,e,t,r,a,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},x);return g?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}async function X4(n,e,t,r,a,o,l,u,f,h){let g=a.map(w=>w.route.lazy?Q4(w.route,u,l):void 0);h&&await Promise.all(g);let v=a.map((w,E)=>{let D=g[E],A=r.some(U=>U.route.id===w.route.id);return{...w,shouldLoad:A,resolve:async U=>(U&&t.method==="GET"&&(w.route.lazy||w.route.loader)&&(A=!0),A?Z4(e,t,w,D,U,f):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:f});try{await Promise.all(g)}catch{}return x}async function Z4(n,e,t,r,a,o){let l,u,f=h=>{let g,v=new Promise((E,D)=>g=D);u=()=>g(),e.signal.addEventListener("abort",u);let x=E=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:o},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(D=>x(D)):x())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,v])};try{let h=t.route[n];if(r)if(h){let g,[v]=await Promise.all([f(h).catch(x=>{g=x}),r]);if(g!==void 0)throw g;l=v}else if(await r,h=t.route[n],h)l=await f(h);else if(n==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw ga(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(h)l=await f(h);else{let g=new URL(e.url),v=g.pathname+g.search;throw ga(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function J4(n){var r,a,o,l,u,f;let{result:e,type:t}=n;if(j2(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Jh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?W1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Jh(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:md(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:md(e)?e.status:void 0}:W1(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function ek(n,e,t,r,a){let o=n.headers.get("Location");if(ft(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sv.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=d0(new URL(e.url),l,a,o),n.headers.set("Location",o)}return n}function Y1(n,e,t){if(Sv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=_a(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function Xl(n,e,t,r){let a=n.createURL(I2(e)).toString(),o={signal:t};if(r&&Ma(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=h0(r.formData):o.body=r.formData}return new Request(a,o)}function h0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function q1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function tk(n,e,t,r=!1,a=!1){let o={},l=null,u,f=!1,h={},g=t&&qr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(ft(!Fo(w),"Cannot handle redirect results in processLoaderData"),qr(w)){let E=w.error;if(g!==void 0&&(E=g,g=void 0),l=l||{},a)l[x]=E;else{let D=Bo(n,x);l[D.route.id]==null&&(l[D.route.id]=E)}r||(o[x]=k2),f||(f=!0,u=md(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),g!==void 0&&t&&(l={[t[0]]:g},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function $1(n,e,t,r,a,o){let{loaderData:l,errors:u}=tk(e,t,r);return a.forEach(f=>{let{key:h,match:g,controller:v}=f,x=o[h];if(ft(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(qr(x)){let w=Bo(n.matches,g==null?void 0:g.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),n.fetchers.delete(h)}else if(Fo(x))ft(!1,"Unhandled fetcher revalidation redirect");else{let w=Ns(x.data);n.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function G1(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==k2).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}return a}function Q1(n){return n?qr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Bo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function K1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ga(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Jh(n||500,l,new Error(u),!0)}function fh(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Fo(a))return{key:r,result:a}}}function I2(n){let e=typeof n=="string"?eo(n):n;return Hs({...e,hash:""})}function nk(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function rk(n){return j2(n.result)&&B4.has(n.result.status)}function qr(n){return n.type==="error"}function Fo(n){return(n&&n.type)==="redirect"}function W1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function j2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function ak(n){return U4.has(n.toUpperCase())}function Ma(n){return V4.has(n.toUpperCase())}function Dv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ku(n,e){let t=typeof e=="string"?eo(e).search:e.search;if(n[n.length-1].route.index&&Dv(t||""))return n[n.length-1];let r=C2(n);return r[r.length-1]}function X1(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:l}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ny(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ik(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sk(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ns(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function ok(n,e){try{let t=n.sessionStorage.getItem(M2);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function lk(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(M2,JSON.stringify(t))}catch(r){rr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function ck(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var il=M.createContext(null);il.displayName="DataRouter";var jd=M.createContext(null);jd.displayName="DataRouterState";var Av=M.createContext({isTransitioning:!1});Av.displayName="ViewTransition";var V2=M.createContext(new Map);V2.displayName="Fetchers";var uk=M.createContext(null);uk.displayName="Await";var hi=M.createContext(null);hi.displayName="Navigation";var Bm=M.createContext(null);Bm.displayName="Location";var mi=M.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Rv=M.createContext(null);Rv.displayName="RouteError";function dk(n,{relative:e}={}){ft(Vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(hi),{hash:a,pathname:o,search:l}=Ld(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ii([t,o])),r.createHref({pathname:u,search:l,hash:a})}function Vd(){return M.useContext(Bm)!=null}function Ia(){return ft(Vd(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Bm).location}var L2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U2(n){M.useContext(hi).static||M.useLayoutEffect(n)}function ir(){let{isDataRoute:n}=M.useContext(mi);return n?Tk():fk()}function fk(){ft(Vd(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(il),{basename:e,navigator:t}=M.useContext(hi),{matches:r}=M.useContext(mi),{pathname:a}=Ia(),o=JSON.stringify(Ev(r)),l=M.useRef(!1);return U2(()=>{l.current=!0}),M.useCallback((f,h={})=>{if(rr(l.current,L2),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=Tv(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ii([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,a,n])}M.createContext(null);function Fm(){let{matches:n}=M.useContext(mi),e=n[n.length-1];return e?e.params:{}}function Ld(n,{relative:e}={}){let{matches:t}=M.useContext(mi),{pathname:r}=Ia(),a=JSON.stringify(Ev(t));return M.useMemo(()=>Tv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function hk(n,e,t,r){ft(Vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=M.useContext(hi),{matches:l}=M.useContext(mi),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";B2(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=Ia(),w;w=x;let E=w.pathname||"/",D=E;if(g!=="/"){let U=g.replace(/^\//,"").split("/");D="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=!o&&t&&t.matches&&t.matches.length>0?t.matches:ks(n,{pathname:D});return rr(v||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),rr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),vk(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ii([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ii([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r)}function mk(){let n=Ek(),e=md(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:a},t):null,l)}var pk=M.createElement(mk,null),gk=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(Rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yk({routeContext:n,match:e,children:t}){let r=M.useContext(il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(mi.Provider,{value:n},t)}function vk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:v}=t,x=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let v,x=!1,w=null,E=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||pk,l&&(u<0&&g===0?(B2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):u===g&&(x=!0,E=h.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,g+1)),A=()=>{let O;return v?O=w:x?O=E:h.route.Component?O=M.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,M.createElement(yk,{match:h,routeContext:{outlet:f,matches:D,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?M.createElement(gk,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:A(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):A()},null)}function Cv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bk(n){let e=M.useContext(il);return ft(e,Cv(n)),e}function xk(n){let e=M.useContext(jd);return ft(e,Cv(n)),e}function _k(n){let e=M.useContext(mi);return ft(e,Cv(n)),e}function Nv(n){let e=_k(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wk(){return Nv("useRouteId")}function Ek(){var r;let n=M.useContext(Rv),e=xk("useRouteError"),t=Nv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Tk(){let{router:n}=bk("useNavigate"),e=Nv("useNavigate"),t=M.useRef(!1);return U2(()=>{t.current=!0}),M.useCallback(async(a,o={})=>{rr(t.current,L2),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var Z1={};function B2(n,e,t){!e&&!Z1[n]&&(Z1[n]=!0,rr(!1,t))}var J1={};function eE(n,e){!n&&!J1[e]&&(J1[e]=!0,console.warn(e))}function Sk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&rr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&rr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&rr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Dk=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Ak({router:n,flushSync:e}){let[t,r]=M.useState(n.state),[a,o]=M.useState(),[l,u]=M.useState({isTransitioning:!1}),[f,h]=M.useState(),[g,v]=M.useState(),[x,w]=M.useState(),E=M.useRef(new Map),D=M.useCallback((B,{deletedFetchers:$,flushSync:k,viewTransitionOpts:Y})=>{B.fetchers.forEach((R,C)=>{R.data!==void 0&&E.current.set(C,R.data)}),$.forEach(R=>E.current.delete(R)),eE(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(eE(Y==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Y||!I){e&&k?e(()=>r(B)):M.startTransition(()=>r(B));return}if(e&&k){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(B))});R.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(R));return}g?(f&&f.resolve(),g.skipTransition(),w({state:B,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(o(B),u({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,e,g,f]);M.useLayoutEffect(()=>n.subscribe(D),[n,D]),M.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new Dk)},[l]),M.useEffect(()=>{if(f&&a&&n.window){let B=a,$=f.promise,k=n.window.document.startViewTransition(async()=>{M.startTransition(()=>r(B)),await $});k.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(k)}},[a,f,n.window]),M.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,g,t.location,a]),M.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[l.isTransitioning,x]);let A=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,$,k)=>n.navigate(B,{state:$,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(B,$,k)=>n.navigate(B,{replace:!0,state:$,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),O=n.basename||"/",U=M.useMemo(()=>({router:n,navigator:A,static:!1,basename:O}),[n,A,O]);return M.createElement(M.Fragment,null,M.createElement(il.Provider,{value:U},M.createElement(jd.Provider,{value:t},M.createElement(V2.Provider,{value:E.current},M.createElement(Av.Provider,{value:l},M.createElement(Nk,{basename:O,location:t.location,navigationType:t.historyAction,navigator:A},M.createElement(Rk,{routes:n.routes,future:n.future,state:t})))))),null)}var Rk=M.memo(Ck);function Ck({routes:n,future:e,state:t}){return hk(n,void 0,t,e)}function Pr(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ft(!Vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=eo(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:x="default"}=t,w=M.useMemo(()=>{let E=_a(f,l);return E==null?null:{location:{pathname:E,search:h,hash:g,state:v,key:x},navigationType:r}},[l,f,h,g,v,x,r]);return rr(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(hi.Provider,{value:u},M.createElement(Bm.Provider,{children:e,value:w}))}function m0(n,e=[]){let t=[];return M.Children.forEach(n,(r,a)=>{if(!M.isValidElement(r))return;let o=[...e,a];if(r.type===M.Fragment){t.push.apply(t,m0(r.props.children,o));return}ft(r.type===Pr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=m0(r.props.children,o)),t.push(l)}),t}var Mk=m0,Ph="get",Oh="application/x-www-form-urlencoded";function zm(n){return n!=null&&typeof n.tagName=="string"}function kk(n){return zm(n)&&n.tagName.toLowerCase()==="button"}function Pk(n){return zm(n)&&n.tagName.toLowerCase()==="form"}function Ok(n){return zm(n)&&n.tagName.toLowerCase()==="input"}function Ik(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jk(n,e){return n.button===0&&(!e||e==="_self")&&!Ik(n)}var hh=null;function Vk(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var Lk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(n){return n!=null&&!Lk.has(n)?(rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):n}function Uk(n,e){let t,r,a,o,l;if(Pk(n)){let u=n.getAttribute("action");r=u?_a(u,e):null,t=n.getAttribute("method")||Ph,a=My(n.getAttribute("enctype"))||Oh,o=new FormData(n)}else if(kk(n)||Ok(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?_a(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Ph,a=My(n.getAttribute("formenctype"))||My(u.getAttribute("enctype"))||Oh,o=new FormData(u,n),!Vk()){let{name:h,type:g,value:v}=n;if(g==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(zm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ph,r=null,a=Oh,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function Mv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Bk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zk(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await Bk(o,t);return l.links?l.links():[]}return[]}));return $k(r.flat(1).filter(Fk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tE(n,e,t,r,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Hk(n,e,{includeHydrateFallback:t}={}){return Yk(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Yk(n){return[...new Set(n)]}function qk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $k(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(qk(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function Gk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_a(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function F2(){let n=M.useContext(il);return Mv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Qk(){let n=M.useContext(jd);return Mv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kv=M.createContext(void 0);kv.displayName="FrameworkContext";function z2(){let n=M.useContext(kv);return Mv(n,"You must render this element inside a <HydratedRouter> element"),n}function Kk(n,e){let t=M.useContext(kv),[r,a]=M.useState(!1),[o,l]=M.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,x=M.useRef(null);M.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=O=>{O.forEach(U=>{l(U.isIntersecting)})},A=new IntersectionObserver(D,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[n]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Fu(u,w),onBlur:Fu(f,E),onMouseEnter:Fu(h,w),onMouseLeave:Fu(g,E),onTouchStart:Fu(v,w)}]:[!1,x,{}]}function Fu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Wk({page:n,...e}){let{router:t}=F2(),r=M.useMemo(()=>ks(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(Zk,{page:n,matches:r,...e}):null}function Xk(n){let{manifest:e,routeModules:t}=z2(),[r,a]=M.useState([]);return M.useEffect(()=>{let o=!1;return zk(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function Zk({page:n,matches:e,...t}){let r=Ia(),{manifest:a,routeModules:o}=z2(),{basename:l}=F2(),{loaderData:u,matches:f}=Qk(),h=M.useMemo(()=>tE(n,e,f,a,r,"data"),[n,e,f,a,r]),g=M.useMemo(()=>tE(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,D=!1;if(e.forEach(O=>{var B;let U=a.routes[O.route.id];!U||!U.hasLoader||(!h.some($=>$.route.id===O.route.id)&&O.route.id in u&&((B=o[O.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?D=!0:E.add(O.route.id))}),E.size===0)return[];let A=Gk(n,l);return D&&E.size>0&&A.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[l,u,r,a,h,e,n,o]),x=M.useMemo(()=>Hk(g,a),[g,a]),w=Xk(g);return M.createElement(M.Fragment,null,v.map(E=>M.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),x.map(E=>M.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:D})=>M.createElement("link",{key:E,...D})))}function Jk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var H2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H2&&(window.__reactRouterVersion="7.4.0")}catch{}function eP(n,e){return Y4({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:m4({window:e==null?void 0:e.window}),hydrationData:tP(),routes:n,mapRouteProperties:Sk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tP(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:nP(n.errors)}),n}function nP(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new Jh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var Y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,em=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:g,viewTransition:v,...x},w){let{basename:E}=M.useContext(hi),D=typeof h=="string"&&Y2.test(h),A,O=!1;if(typeof h=="string"&&D&&(A=h,H2))try{let C=new URL(window.location.href),N=h.startsWith("//")?new URL(C.protocol+h):new URL(h),L=_a(N.pathname,E);N.origin===C.origin&&L!=null?h=L+N.search+N.hash:O=!0}catch{rr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=dk(h,{relative:a}),[B,$,k]=Kk(r,x),Y=sP(h,{replace:l,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function I(C){e&&e(C),C.defaultPrevented||Y(C)}let R=M.createElement("a",{...x,...k,href:A||U,onClick:O||o?e:I,ref:Jk(w,$),target:f,"data-discover":!D&&t==="render"?"true":void 0});return B&&!D?M.createElement(M.Fragment,null,R,M.createElement(Wk,{page:U})):R});em.displayName="Link";var rP=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:u,children:f,...h},g){let v=Ld(l,{relative:h.relative}),x=Ia(),w=M.useContext(jd),{navigator:E,basename:D}=M.useContext(hi),A=w!=null&&dP(v)&&u===!0,O=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,U=x.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&D&&(B=_a(B,D)||B);const $=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let k=U===O||!a&&U.startsWith(O)&&U.charAt($)==="/",Y=B!=null&&(B===O||!a&&B.startsWith(O)&&B.charAt(O.length)==="/"),I={isActive:k,isPending:Y,isTransitioning:A},R=k?e:void 0,C;typeof r=="function"?C=r(I):C=[r,k?"active":null,Y?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(I):o;return M.createElement(em,{...h,"aria-current":R,className:C,ref:g,style:N,to:l,viewTransition:u},typeof f=="function"?f(I):f)});rP.displayName="NavLink";var aP=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=Ph,action:u,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,...x},w)=>{let E=cP(),D=uP(u,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&Y2.test(u),U=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,k=($==null?void 0:$.getAttribute("formmethod"))||l;E($||B.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:a,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return M.createElement("form",{ref:w,method:A,action:D,onSubmit:r?f:U,...x,"data-discover":!O&&n==="render"?"true":void 0})});aP.displayName="Form";function iP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(n){let e=M.useContext(il);return ft(e,iP(n)),e}function sP(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=ir(),f=Ia(),h=Ld(n,{relative:o});return M.useCallback(g=>{if(jk(g,e)){g.preventDefault();let v=t!==void 0?t:Hs(f)===Hs(h);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,h,t,r,e,n,a,o,l])}var oP=0,lP=()=>`__${String(++oP)}__`;function cP(){let{router:n}=q2("useSubmit"),{basename:e}=M.useContext(hi),t=wk();return M.useCallback(async(r,a={})=>{let{action:o,method:l,encType:u,formData:f,body:h}=Uk(r,e);if(a.navigate===!1){let g=a.fetcherKey||lP();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function uP(n,{relative:e}={}){let{basename:t}=M.useContext(hi),r=M.useContext(mi);ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ld(n||".",{relative:e})},l=Ia();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ii([t,o.pathname])),Hs(o)}function dP(n,e={}){let t=M.useContext(Av);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q2("useViewTransitionState"),a=Ld(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=_a(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=_a(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zh(a.pathname,l)!=null||Zh(a.pathname,o)!=null}new TextEncoder;var Pv=S2();const fP=T2(Pv);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hP(n){return M.createElement(Ak,{flushSync:Pv.flushSync,...n})}const Ov=M.createContext({});function Iv(n){const e=M.useRef(null);return e.current===null&&(e.current=n()),e.current}const jv=typeof window<"u",$2=jv?M.useLayoutEffect:M.useEffect,Hm=M.createContext(null),Vv=M.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class mP extends M.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pP({children:n,isPresent:e,anchorX:t}){const r=M.useId(),a=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=M.useContext(Vv);return M.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:g,right:v}=o.current;if(e||!a.current||!u||!f)return;const x=t==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),y.jsx(mP,{isPresent:e,childRef:a,sizeRef:o,children:M.cloneElement(n,{ref:a})})}const gP=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const f=Iv(yP),h=M.useId(),g=M.useCallback(x=>{f.set(x,!0);for(const w of f.values())if(!w)return;r&&r()},[f,r]),v=M.useMemo(()=>({id:h,initial:e,isPresent:t,custom:a,onExitComplete:g,register:x=>(f.set(x,!1),()=>f.delete(x))}),o?[Math.random(),g]:[t,g]);return M.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[t]),M.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=y.jsx(pP,{isPresent:t,anchorX:u,children:n})),y.jsx(Hm.Provider,{value:v,children:n})};function yP(){return new Map}function G2(n=!0){const e=M.useContext(Hm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=M.useId();M.useEffect(()=>{if(n)return a(o)},[n]);const l=M.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const mh=n=>n.key||"";function nE(n){const e=[];return M.Children.forEach(n,t=>{M.isValidElement(t)&&e.push(t)}),e}const vP=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[f,h]=G2(l),g=M.useMemo(()=>nE(n),[n]),v=l&&!f?[]:g.map(mh),x=M.useRef(!0),w=M.useRef(g),E=Iv(()=>new Map),[D,A]=M.useState(g),[O,U]=M.useState(g);$2(()=>{x.current=!1,w.current=g;for(let k=0;k<O.length;k++){const Y=mh(O[k]);v.includes(Y)?E.delete(Y):E.get(Y)!==!0&&E.set(Y,!1)}},[O,v.length,v.join("-")]);const B=[];if(g!==D){let k=[...g];for(let Y=0;Y<O.length;Y++){const I=O[Y],R=mh(I);v.includes(R)||(k.splice(Y,0,I),B.push(I))}return o==="wait"&&B.length&&(k=B),U(nE(k)),A(g),null}const{forceRender:$}=M.useContext(Ov);return y.jsx(y.Fragment,{children:O.map(k=>{const Y=mh(k),I=l&&!f?!1:g===O||v.includes(Y),R=()=>{if(E.has(Y))E.set(Y,!0);else return;let C=!0;E.forEach(N=>{N||(C=!1)}),C&&($==null||$(),U(w.current),l&&(h==null||h()),r&&r())};return y.jsx(gP,{isPresent:I,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:I?void 0:R,anchorX:u,children:k},Y)})})};function Lv(n,e){n.indexOf(e)===-1&&n.push(e)}function Uv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Qr=n=>n;let Q2=Qr;const bP={useManualTiming:!1};function Bv(n){let e;return()=>(e===void 0&&(e=n()),e)}const fc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class Fv{constructor(){this.subscriptions=[]}add(e){return Lv(this.subscriptions,e),()=>Uv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fi=n=>n*1e3,zi=n=>n/1e3;function K2(n,e){return e?n*(1e3/e):0}const xP=Bv(()=>window.ScrollTimeline!==void 0);class _P{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(xP()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wP extends _P{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function zv(n,e){return n?n[e]||n.default||n:void 0}const p0=2e4;function W2(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<p0;)e+=t,r=n.next(e);return e>=p0?1/0:e}function Hv(n){return typeof n=="function"}function rE(n,e){n.timeline=e,n.onfinish=null}const Yv=n=>Array.isArray(n)&&typeof n[0]=="number",EP={linearEasing:void 0};function TP(n,e){const t=Bv(n);return()=>{var r;return(r=EP[e])!==null&&r!==void 0?r:t()}}const tm=TP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),X2=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=n(fc(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function Z2(n){return!!(typeof n=="function"&&tm()||!n||typeof n=="string"&&(n in g0||tm())||Yv(n)||Array.isArray(n)&&n.every(Z2))}const Wu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,g0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wu([0,.65,.55,1]),circOut:Wu([.55,0,1,.45]),backIn:Wu([.31,.01,.66,-.59]),backOut:Wu([.33,1.53,.69,.99])};function J2(n,e){if(n)return typeof n=="function"&&tm()?X2(n,e):Yv(n)?Wu(n):Array.isArray(n)?n.map(t=>J2(t,e)||g0.easeOut):g0[n]}const ph=["read","resolveKeyframes","update","preRender","render","postRender"],aE={value:null};function SP(n,e){let t=new Set,r=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function h(v){l.has(v)&&(g.schedule(v),n()),f++,v(u)}const g={schedule:(v,x=!1,w=!1)=>{const D=w&&a?t:r;return x&&l.add(v),D.has(v)||D.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(h),e&&aE.value&&aE.value.frameloop[e].push(f),f=0,t.clear(),a=!1,o&&(o=!1,g.process(v))}};return g}const DP=40;function eD(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=ph.reduce((O,U)=>(O[U]=SP(o,e?U:void 0),O),{}),{read:u,resolveKeyframes:f,update:h,preRender:g,render:v,postRender:x}=l,w=()=>{const O=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,DP),1),a.timestamp=O,a.isProcessing=!0,u.process(a),f.process(a),h.process(a),g.process(a),v.process(a),x.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(w))},E=()=>{t=!0,r=!0,a.isProcessing||n(w)};return{schedule:ph.reduce((O,U)=>{const B=l[U];return O[U]=($,k=!1,Y=!1)=>(t||E(),B.schedule($,k,Y)),O},{}),cancel:O=>{for(let U=0;U<ph.length;U++)l[ph[U]].cancel(O)},state:a,steps:l}}const{schedule:Gt,cancel:Ys,state:Jn,steps:ky}=eD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0),{schedule:qv}=eD(queueMicrotask,!1);let Ih;function AP(){Ih=void 0}const si={now:()=>(Ih===void 0&&si.set(Jn.isProcessing||bP.useManualTiming?Jn.timestamp:performance.now()),Ih),set:n=>{Ih=n,queueMicrotask(AP)}},Na={x:!1,y:!1};function tD(){return Na.x||Na.y}function RP(n){return n==="x"||n==="y"?Na[n]?null:(Na[n]=!0,()=>{Na[n]=!1}):Na.x||Na.y?null:(Na.x=Na.y=!0,()=>{Na.x=Na.y=!1})}function CP(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function nD(n,e){const t=CP(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function iE(n){return!(n.pointerType==="touch"||tD())}function NP(n,e,t={}){const[r,a,o]=nD(n,t),l=u=>{if(!iE(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const g=v=>{iE(v)&&(h(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}function sE(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const rD=(n,e)=>e?n===e?!0:rD(n,e.parentElement):!1,$v=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,MP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kP(n){return MP.has(n.tagName)||n.tabIndex!==-1}const Xu=new WeakSet;function oE(n){return e=>{e.key==="Enter"&&n(e)}}function Py(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=oE(()=>{if(Xu.has(t))return;Py(t,"down");const a=oE(()=>{Py(t,"up")}),o=()=>Py(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function lE(n){return $v(n)&&!tD()}function OP(n,e,t={}){const[r,a,o]=nD(n,t),l=u=>{const f=u.currentTarget;if(!f||!lE(u)||Xu.has(f))return;Xu.add(f),sE(u,"set");const h=e(f,u),g=(w,E)=>{f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",x),sE(w,"release"),!(!lE(w)||!Xu.has(f))&&(Xu.delete(f),typeof h=="function"&&h(w,{success:E}))},v=w=>{(w.isTrusted?IP(w,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(w,!1):g(w,!(f instanceof Element)||rD(f,w.target))},x=w=>{g(w,!1)};f.addEventListener("pointerup",v,a),f.addEventListener("pointercancel",x,a),f.addEventListener("lostpointercapture",x,a)};return r.forEach(u=>{u=t.useGlobalTarget?window:u;let f=!1;u instanceof HTMLElement&&(f=!0,!kP(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",l,a),f&&u.addEventListener("focus",h=>PP(h,a),a)}),o}function IP(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const cE=30,jP=n=>!isNaN(parseFloat(n));class VP{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=si.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fv);const r=this.events[e].add(t);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,cE);return K2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pd(n,e){return new VP(n,e)}const aD=M.createContext({strict:!1}),uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hc={};for(const n in uE)hc[n]={isEnabled:e=>uE[n].some(t=>!!e[t])};function LP(n){for(const e in n)hc[e]={...hc[e],...n[e]}}const UP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UP.has(n)}let iD=n=>!nm(n);function BP(n){n&&(iD=e=>e.startsWith("on")?!nm(e):n(e))}try{BP(require("@emotion/is-prop-valid").default)}catch{}function FP(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(iD(a)||t===!0&&nm(a)||!e&&!nm(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function zP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const Ym=M.createContext({});function qm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function gd(n){return typeof n=="string"||Array.isArray(n)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qv=["initial",...Gv];function $m(n){return qm(n.animate)||Qv.some(e=>gd(n[e]))}function sD(n){return!!($m(n)||n.variants)}function HP(n,e){if($m(n)){const{initial:t,animate:r}=n;return{initial:t===!1||gd(t)?t:void 0,animate:gd(r)?r:void 0}}return n.inherit!==!1?e:{}}function YP(n){const{initial:e,animate:t}=HP(n,M.useContext(Ym));return M.useMemo(()=>({initial:e,animate:t}),[dE(e),dE(t)])}function dE(n){return Array.isArray(n)?n.join(" "):n}const qP=Symbol.for("motionComponentSymbol");function ac(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $P(n,e,t){return M.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ac(t)&&(t.current=r))},[e])}const Kv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GP="framerAppearId",oD="data-"+Kv(GP),lD=M.createContext({});function QP(n,e,t,r,a){var o,l;const{visualElement:u}=M.useContext(Ym),f=M.useContext(aD),h=M.useContext(Hm),g=M.useContext(Vv).reducedMotion,v=M.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,w=M.useContext(lD);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&KP(v.current,t,a,w);const E=M.useRef(!1);M.useInsertionEffect(()=>{x&&E.current&&x.update(t,h)});const D=t[oD],A=M.useRef(!!D&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,D))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,D)));return $2(()=>{x&&(E.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),qv.render(x.render),A.current&&x.animationState&&x.animationState.animateChanges())}),M.useEffect(()=>{x&&(!A.current&&x.animationState&&x.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,D)}),A.current=!1))}),x}function KP(n,e,t,r){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:cD(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&ac(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function cD(n){if(n)return n.options.allowProjection!==!1?n.projection:cD(n.parent)}function WP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var o,l;n&&LP(n);function u(h,g){let v;const x={...M.useContext(Vv),...h,layoutId:XP(h)},{isStatic:w}=x,E=YP(h),D=r(h,w);if(!w&&jv){ZP();const A=JP(x);v=A.MeasureLayout,E.visualElement=QP(a,D,x,e,A.ProjectionNode)}return y.jsxs(Ym.Provider,{value:E,children:[v&&E.visualElement?y.jsx(v,{visualElement:E.visualElement,...x}):null,t(a,h,$P(D,E.visualElement,g),D,w,E.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const f=M.forwardRef(u);return f[qP]=a,f}function XP({layoutId:n}){const e=M.useContext(Ov).id;return e&&n!==void 0?e+"-"+n:n}function ZP(n,e){M.useContext(aD).strict}function JP(n){const{drag:e,layout:t}=hc;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const uD=n=>e=>typeof e=="string"&&e.startsWith(n),Wv=uD("--"),eO=uD("var(--"),Xv=n=>eO(n)?tO.test(n.split("/*")[0].trim()):!1,tO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yd={};function nO(n){for(const e in n)yd[e]=n[e],Wv(e)&&(yd[e].isCSSVariable=!0)}const kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sl=new Set(kc);function dD(n,{layout:e,layoutId:t}){return sl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!yd[n]||n==="opacity")}const gr=n=>!!(n&&n.getVelocity),fD=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ki=(n,e,t)=>t>e?e:t<n?n:t,Pc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vd={...Pc,transform:n=>Ki(0,1,n)},gh={...Pc,default:1},Ud=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ms=Ud("deg"),oi=Ud("%"),We=Ud("px"),rO=Ud("vh"),aO=Ud("vw"),fE={...oi,parse:n=>oi.parse(n)/100,transform:n=>oi.transform(n*100)},iO={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We},sO={rotate:Ms,rotateX:Ms,rotateY:Ms,rotateZ:Ms,scale:gh,scaleX:gh,scaleY:gh,scaleZ:gh,skew:Ms,skewX:Ms,skewY:Ms,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:vd,originX:fE,originY:fE,originZ:We},hE={...Pc,transform:Math.round},Zv={...iO,...sO,zIndex:hE,size:We,fillOpacity:vd,strokeOpacity:vd,numOctaves:hE},oO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lO=kc.length;function cO(n,e,t){let r="",a=!0;for(let o=0;o<lO;o++){const l=kc[o],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const h=fD(u,Zv[l]);if(!f){a=!1;const g=oO[l]||l;r+=`${g}(${h}) `}t&&(e[l]=h)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function Jv(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let l=!1,u=!1;for(const f in e){const h=e[f];if(sl.has(f)){l=!0;continue}else if(Wv(f)){a[f]=h;continue}else{const g=fD(h,Zv[f]);f.startsWith("origin")?(u=!0,o[f]=g):r[f]=g}}if(e.transform||(l||t?r.transform=cO(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${h} ${g}`}}const eb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hD(n,e,t){for(const r in e)!gr(e[r])&&!dD(r,t)&&(n[r]=e[r])}function uO({transformTemplate:n},e){return M.useMemo(()=>{const t=eb();return Jv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function dO(n,e){const t=n.style||{},r={};return hD(r,t,n),Object.assign(r,uO(n,e)),r}function fO(n,e){const t={},r=dO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const hO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tb(n){return typeof n!="string"||n.includes("-")?!1:!!(hO.indexOf(n)>-1||/[A-Z]/u.test(n))}const mO={offset:"stroke-dashoffset",array:"stroke-dasharray"},pO={offset:"strokeDashoffset",array:"strokeDasharray"};function gO(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?mO:pO;n[o.offset]=We.transform(-r);const l=We.transform(e),u=We.transform(t);n[o.array]=`${l} ${u}`}function mE(n,e,t){return typeof n=="string"?n:We.transform(e+t*n)}function yO(n,e,t){const r=mE(e,n.x,n.width),a=mE(t,n.y,n.height);return`${r} ${a}`}function nb(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...h},g,v){if(Jv(n,h,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:w,dimensions:E}=n;x.transform&&(E&&(w.transform=x.transform),delete x.transform),E&&(a!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=yO(E,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),l!==void 0&&gO(x,l,u,f,!1)}const mD=()=>({...eb(),attrs:{}}),rb=n=>typeof n=="string"&&n.toLowerCase()==="svg";function vO(n,e,t,r){const a=M.useMemo(()=>{const o=mD();return nb(o,e,rb(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};hD(o,n.style,n),a.style={...o,...a.style}}return a}function bO(n=!1){return(t,r,a,{latestValues:o},l)=>{const f=(tb(t)?vO:fO)(r,o,l,t),h=FP(r,typeof t=="string",n),g=t!==M.Fragment?{...h,...f,ref:a}:{},{children:v}=r,x=M.useMemo(()=>gr(v)?v.get():v,[v]);return M.createElement(t,{...g,children:x})}}function pE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function ab(n,e,t,r){if(typeof e=="function"){const[a,o]=pE(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=pE(r);e=e(t!==void 0?t:n.custom,a,o)}return e}const y0=n=>Array.isArray(n),xO=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),_O=n=>y0(n)?n[n.length-1]||0:n;function jh(n){const e=gr(n)?n.get():n;return xO(e)?e.toValue():e}function wO({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,o){const l={latestValues:EO(r,a,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const pD=n=>(e,t)=>{const r=M.useContext(Ym),a=M.useContext(Hm),o=()=>wO(n,e,r,a);return t?o():Iv(o)};function EO(n,e,t,r){const a={},o=r(n,{});for(const x in o)a[x]=jh(o[x]);let{initial:l,animate:u}=n;const f=$m(n),h=sD(n);e&&h&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!qm(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const E=ab(n,x[w]);if(E){const{transitionEnd:D,transition:A,...O}=E;for(const U in O){let B=O[U];if(Array.isArray(B)){const $=g?B.length-1:0;B=B[$]}B!==null&&(a[U]=B)}for(const U in D)a[U]=D[U]}}}return a}function ib(n,e,t){var r;const{style:a}=n,o={};for(const l in a)(gr(a[l])||e.style&&gr(e.style[l])||dD(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=a[l]);return o}const TO={useVisualState:pD({scrapeMotionValuesFromProps:ib,createRenderState:eb})};function gD(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function yD(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const vD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bD(n,e,t,r){yD(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(vD.has(a)?a:Kv(a),e.attrs[a])}function xD(n,e,t){const r=ib(n,e,t);for(const a in n)if(gr(n[a])||gr(e[a])){const o=kc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const gE=["x","y","width","height","cx","cy","r"],SO={useVisualState:pD({scrapeMotionValuesFromProps:xD,createRenderState:mD,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in a)if(sl.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<gE.length;u++){const f=gE[u];n[f]!==e[f]&&(l=!0)}l&&Gt.read(()=>{gD(t,r),Gt.render(()=>{nb(r,a,rb(t.tagName),n.transformTemplate),bD(t,r)})})}})};function DO(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...tb(r)?SO:TO,preloadedFeatures:n,useRender:bO(a),createVisualElement:e,Component:r};return WP(l)}}function bd(n,e,t){const r=n.getProps();return ab(r,e,t!==void 0?t:r.custom,n)}const _D=new Set(["width","height","top","left","right","bottom",...kc]);function AO(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,pd(t))}function RO(n,e){const t=bd(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const l in o){const u=_O(o[l]);AO(n,l,u)}}function CO(n){return!!(gr(n)&&n.add)}function v0(n,e){const t=n.getValue("willChange");if(CO(t))return t.add(e)}function wD(n){return n.props[oD]}const ED=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,NO=1e-7,MO=12;function kO(n,e,t,r,a){let o,l,u=0;do l=e+(t-e)/2,o=ED(l,r,a)-n,o>0?t=l:e=l;while(Math.abs(o)>NO&&++u<MO);return l}function Bd(n,e,t,r){if(n===e&&t===r)return Qr;const a=o=>kO(o,0,1,n,t);return o=>o===0||o===1?o:ED(a(o),e,r)}const TD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,SD=n=>e=>1-n(1-e),DD=Bd(.33,1.53,.69,.99),sb=SD(DD),AD=TD(sb),RD=n=>(n*=2)<1?.5*sb(n):.5*(2-Math.pow(2,-10*(n-1))),ob=n=>1-Math.sin(Math.acos(n)),CD=SD(ob),ND=TD(ob),MD=n=>/^0[^.\s]+$/u.test(n);function PO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||MD(n):!0}const ad=n=>Math.round(n*1e5)/1e5,lb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OO(n){return n==null}const IO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cb=(n,e)=>t=>!!(typeof t=="string"&&IO.test(t)&&t.startsWith(n)||e&&!OO(t)&&Object.prototype.hasOwnProperty.call(t,e)),kD=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,l,u]=r.match(lb);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},jO=n=>Ki(0,255,n),Oy={...Pc,transform:n=>Math.round(jO(n))},zo={test:cb("rgb","red"),parse:kD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Oy.transform(n)+", "+Oy.transform(e)+", "+Oy.transform(t)+", "+ad(vd.transform(r))+")"};function VO(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const b0={test:cb("#"),parse:VO,transform:zo.transform},ic={test:cb("hsl","hue"),parse:kD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+oi.transform(ad(e))+", "+oi.transform(ad(t))+", "+ad(vd.transform(r))+")"},dr={test:n=>zo.test(n)||b0.test(n)||ic.test(n),parse:n=>zo.test(n)?zo.parse(n):ic.test(n)?ic.parse(n):b0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?zo.transform(n):ic.transform(n)},LO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(lb))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(LO))===null||t===void 0?void 0:t.length)||0)>0}const PD="number",OD="color",BO="var",FO="var(",yE="${}",zO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(zO,f=>(dr.test(f)?(r.color.push(o),a.push(OD),t.push(dr.parse(f))):f.startsWith(FO)?(r.var.push(o),a.push(BO),t.push(f)):(r.number.push(o),a.push(PD),t.push(parseFloat(f))),++o,yE)).split(yE);return{values:t,split:u,indexes:r,types:a}}function ID(n){return xd(n).values}function jD(n){const{split:e,types:t}=xd(n),r=e.length;return a=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],a[l]!==void 0){const u=t[l];u===PD?o+=ad(a[l]):u===OD?o+=dr.transform(a[l]):o+=a[l]}return o}}const HO=n=>typeof n=="number"?0:n;function YO(n){const e=ID(n);return jD(n)(e.map(HO))}const qs={test:UO,parse:ID,createTransformer:jD,getAnimatableNone:YO},qO=new Set(["brightness","contrast","saturate","opacity"]);function $O(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(lb)||[];if(!r)return n;const a=t.replace(r,"");let o=qO.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const GO=/\b([a-z-]*)\(.*?\)/gu,x0={...qs,getAnimatableNone:n=>{const e=n.match(GO);return e?e.map($O).join(" "):n}},QO={...Zv,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:x0,WebkitFilter:x0},VD=n=>QO[n];function LD(n,e){let t=VD(n);return t!==x0&&(t=qs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KO=new Set(["auto","none","0"]);function WO(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!KO.has(o)&&xd(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=LD(t,a)}const Ho=n=>n*180/Math.PI,_0=n=>{const e=Ho(Math.atan2(n[1],n[0]));return w0(e)},XO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:_0,rotateZ:_0,skewX:n=>Ho(Math.atan(n[1])),skewY:n=>Ho(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},w0=n=>(n=n%360,n<0&&(n+=360),n),vE=_0,bE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),xE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ZO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bE,scaleY:xE,scale:n=>(bE(n)+xE(n))/2,rotateX:n=>w0(Ho(Math.atan2(n[6],n[5]))),rotateY:n=>w0(Ho(Math.atan2(-n[2],n[0]))),rotateZ:vE,rotate:vE,skewX:n=>Ho(Math.atan(n[4])),skewY:n=>Ho(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function _E(n){return n.includes("scale")?1:0}function E0(n,e){if(!n||n==="none")return _E(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=ZO,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=XO,a=u}if(!a)return _E(e);const o=r[e],l=a[1].split(",").map(eI);return typeof o=="function"?o(l):l[o]}const JO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return E0(t,e)};function eI(n){return parseFloat(n.trim())}const wE=n=>n===Pc||n===We,tI=new Set(["x","y","z"]),nI=kc.filter(n=>!tI.has(n));function rI(n){const e=[];return nI.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const mc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>E0(e,"x"),y:(n,{transform:e})=>E0(e,"y")};mc.translateX=mc.x;mc.translateY=mc.y;const $o=new Set;let T0=!1,S0=!1;function UD(){if(S0){const n=Array.from($o).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=rI(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}S0=!1,T0=!1,$o.forEach(n=>n.complete()),$o.clear()}function BD(){$o.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(S0=!0)})}function aI(){BD(),UD()}class ub{constructor(e,t,r,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?($o.add(this),T0||(T0=!0,Gt.read(BD),Gt.resolveKeyframes(UD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$o.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$o.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const FD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),iI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sI(n){const e=iI.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function zD(n,e,t=1){const[r,a]=sI(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return FD(l)?parseFloat(l):l}return Xv(a)?zD(a,e,t+1):a}const HD=n=>e=>e.test(n),oI={test:n=>n==="auto",parse:n=>n},YD=[Pc,We,oi,Ms,aO,rO,oI],EE=n=>YD.find(HD(n));class qD extends ub{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),Xv(h))){const g=zD(h,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!_D.has(r)||e.length!==2)return;const[a,o]=e,l=EE(a),u=EE(o);if(l!==u)if(wE(l)&&wE(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)PO(e[a])&&r.push(a);r.length&&WO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=mc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const TE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qs.test(n)||n==="0")&&!n.startsWith("url("));function lI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function cI(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=TE(a,e),u=TE(o,e);return!l||!u?!1:lI(n)||(t==="spring"||Hv(t))&&r}const uI=n=>n!==null;function Gm(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(uI),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const dI=40;class $D{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=si.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>dI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=si.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:l,onComplete:u,onUpdate:f,isGenerator:h}=this.options;if(!h&&!cI(e,r,a,o))if(l)this.options.duration=0;else{f&&f(Gm(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nn=(n,e,t)=>n+(e-n)*t;function Iy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function fI({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,l=0;if(!e)a=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;a=Iy(f,u,n+1/3),o=Iy(f,u,n),l=Iy(f,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function rm(n,e){return t=>t>0?e:n}const jy=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},hI=[b0,zo,ic],mI=n=>hI.find(e=>e.test(n));function SE(n){const e=mI(n);if(!e)return!1;let t=e.parse(n);return e===ic&&(t=fI(t)),t}const DE=(n,e)=>{const t=SE(n),r=SE(e);if(!t||!r)return rm(n,e);const a={...t};return o=>(a.red=jy(t.red,r.red,o),a.green=jy(t.green,r.green,o),a.blue=jy(t.blue,r.blue,o),a.alpha=nn(t.alpha,r.alpha,o),zo.transform(a))},pI=(n,e)=>t=>e(n(t)),Fd=(...n)=>n.reduce(pI),D0=new Set(["none","hidden"]);function gI(n,e){return D0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function yI(n,e){return t=>nn(n,e,t)}function db(n){return typeof n=="number"?yI:typeof n=="string"?Xv(n)?rm:dr.test(n)?DE:xI:Array.isArray(n)?GD:typeof n=="object"?dr.test(n)?DE:vI:rm}function GD(n,e){const t=[...n],r=t.length,a=n.map((o,l)=>db(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=a[l](o);return t}}function vI(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=db(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function bI(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][a[l]],f=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=f,a[l]++}return r}const xI=(n,e)=>{const t=qs.createTransformer(e),r=xd(n),a=xd(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?D0.has(n)&&!a.values.length||D0.has(e)&&!r.values.length?gI(n,e):Fd(GD(bI(r,a),a.values),t):rm(n,e)};function QD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?nn(n,e,t):db(n)(n,e)}const _I=5;function KD(n,e,t){const r=Math.max(e-_I,0);return K2(t-n(r),e-r)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},AE=.001;function wI({duration:n=dn.duration,bounce:e=dn.bounce,velocity:t=dn.velocity,mass:r=dn.mass}){let a,o,l=1-e;l=Ki(dn.minDamping,dn.maxDamping,l),n=Ki(dn.minDuration,dn.maxDuration,zi(n)),l<1?(a=h=>{const g=h*l,v=g*n,x=g-t,w=A0(h,l),E=Math.exp(-v);return AE-x/w*E},o=h=>{const v=h*l*n,x=v*t+t,w=Math.pow(l,2)*Math.pow(h,2)*n,E=Math.exp(-v),D=A0(Math.pow(h,2),l);return(-a(h)+AE>0?-1:1)*((x-w)*E)/D}):(a=h=>{const g=Math.exp(-h*n),v=(h-t)*n+1;return-.001+g*v},o=h=>{const g=Math.exp(-h*n),v=(t-h)*(n*n);return g*v});const u=5/n,f=TI(a,o,u);if(n=Fi(n),isNaN(f))return{stiffness:dn.stiffness,damping:dn.damping,duration:n};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:n}}}const EI=12;function TI(n,e,t){let r=t;for(let a=1;a<EI;a++)r=r-n(r)/e(r);return r}function A0(n,e){return n*Math.sqrt(1-e*e)}const SI=["duration","bounce"],DI=["stiffness","damping","mass"];function RE(n,e){return e.some(t=>n[t]!==void 0)}function AI(n){let e={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...n};if(!RE(n,DI)&&RE(n,SI))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*Ki(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:dn.mass,stiffness:a,damping:o}}else{const t=wI(n);e={...e,...t,mass:dn.mass},e.isResolvedFromDuration=!0}return e}function WD(n=dn.visualDuration,e=dn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:g,duration:v,velocity:x,isResolvedFromDuration:w}=AI({...t,velocity:-zi(t.velocity||0)}),E=x||0,D=h/(2*Math.sqrt(f*g)),A=l-o,O=zi(Math.sqrt(f/g)),U=Math.abs(A)<5;r||(r=U?dn.restSpeed.granular:dn.restSpeed.default),a||(a=U?dn.restDelta.granular:dn.restDelta.default);let B;if(D<1){const k=A0(O,D);B=Y=>{const I=Math.exp(-D*O*Y);return l-I*((E+D*O*A)/k*Math.sin(k*Y)+A*Math.cos(k*Y))}}else if(D===1)B=k=>l-Math.exp(-O*k)*(A+(E+O*A)*k);else{const k=O*Math.sqrt(D*D-1);B=Y=>{const I=Math.exp(-D*O*Y),R=Math.min(k*Y,300);return l-I*((E+D*O*A)*Math.sinh(R)+k*A*Math.cosh(R))/k}}const $={calculatedDuration:w&&v||null,next:k=>{const Y=B(k);if(w)u.done=k>=v;else{let I=0;D<1&&(I=k===0?Fi(E):KD(B,k,Y));const R=Math.abs(I)<=r,C=Math.abs(l-Y)<=a;u.done=R&&C}return u.value=u.done?l:Y,u},toString:()=>{const k=Math.min(W2($),p0),Y=X2(I=>$.next(k*I).value,k,30);return k+"ms "+Y}};return $}function CE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:h=.5,restSpeed:g}){const v=n[0],x={done:!1,value:v},w=R=>u!==void 0&&R<u||f!==void 0&&R>f,E=R=>u===void 0?f:f===void 0||Math.abs(u-R)<Math.abs(f-R)?u:f;let D=t*e;const A=v+D,O=l===void 0?A:l(A);O!==A&&(D=O-v);const U=R=>-D*Math.exp(-R/r),B=R=>O+U(R),$=R=>{const C=U(R),N=B(R);x.done=Math.abs(C)<=h,x.value=x.done?O:N};let k,Y;const I=R=>{w(x.value)&&(k=R,Y=WD({keyframes:[x.value,E(x.value)],velocity:KD(B,R,x.value),damping:a,stiffness:o,restDelta:h,restSpeed:g}))};return I(0),{calculatedDuration:null,next:R=>{let C=!1;return!Y&&k===void 0&&(C=!0,$(R),I(R)),k!==void 0&&R>=k?Y.next(R-k):(!C&&$(R),x)}}}const RI=Bd(.42,0,1,1),CI=Bd(0,0,.58,1),XD=Bd(.42,0,.58,1),NI=n=>Array.isArray(n)&&typeof n[0]!="number",MI={linear:Qr,easeIn:RI,easeInOut:XD,easeOut:CI,circIn:ob,circInOut:ND,circOut:CD,backIn:sb,backInOut:AD,backOut:DD,anticipate:RD},NE=n=>{if(Yv(n)){Q2(n.length===4);const[e,t,r,a]=n;return Bd(e,t,r,a)}else if(typeof n=="string")return MI[n];return n};function kI(n,e,t){const r=[],a=t||QD,o=n.length-1;for(let l=0;l<o;l++){let u=a(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||Qr:e;u=Fd(f,u)}r.push(u)}return r}function PI(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(Q2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=kI(e,r,a),f=u.length,h=g=>{if(l&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const x=fc(n[v],n[v+1],g);return u[v](x)};return t?g=>h(Ki(n[0],n[o-1],g)):h}function OI(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=fc(0,e,r);n.push(nn(t,1,a))}}function II(n){const e=[0];return OI(e,n.length-1),e}function jI(n,e){return n.map(t=>t*e)}function VI(n,e){return n.map(()=>e||XD).splice(0,n.length-1)}function am({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=NI(r)?r.map(NE):NE(r),o={done:!1,value:e[0]},l=jI(t&&t.length===e.length?t:II(e),n),u=PI(l,e,{ease:Array.isArray(a)?a:VI(e,a)});return{calculatedDuration:n,next:f=>(o.value=u(f),o.done=f>=n,o)}}const LI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Gt.update(e,!0),stop:()=>Ys(e),now:()=>Jn.isProcessing?Jn.timestamp:si.now()}},UI={decay:CE,inertia:CE,tween:am,keyframes:am,spring:WD},BI=n=>n/100;class fb extends $D{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:a,keyframes:o}=this.options,l=(a==null?void 0:a.KeyframeResolver)||ub,u=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new l(o,u,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=Hv(t)?t:UI[t]||am;let f,h;u!==am&&typeof e[0]!="number"&&(f=Fd(BI,QD(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});o==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=W2(g));const{calculatedDuration:v}=g,x=v+a,w=x*(r+1)-a;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:h,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:w,repeatType:E,repeatDelay:D,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-x*(this.speed>=0?1:-1),U=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let B=this.currentTime,$=o;if(w){const R=Math.min(this.currentTime,g)/v;let C=Math.floor(R),N=R%1;!N&&R>=1&&(N=1),N===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(E==="reverse"?(N=1-N,D&&(N-=D/v)):E==="mirror"&&($=l)),B=Ki(0,1,N)*v}const k=U?{done:!1,value:f[0]}:$.next(B);u&&(k.value=u(k.value));let{done:Y}=k;!U&&h!==null&&(Y=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return I&&a!==void 0&&(k.value=Gm(f,this.options,a)),A&&A(k.value),I&&this.finish(),k}get duration(){const{resolved:e}=this;return e?zi(e.calculatedDuration):0}get time(){return zi(this.currentTime)}set time(e){e=Fi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=zi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LI,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FI=new Set(["opacity","clipPath","filter","transform"]);function zI(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const h={[e]:t};f&&(h.offset=f);const g=J2(u,a);return Array.isArray(g)&&(h.easing=g),n.animate(h,{delay:r,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const HI=Bv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),im=10,YI=2e4;function qI(n){return Hv(n.type)||n.type==="spring"||!Z2(n.ease)}function $I(n,e){const t=new fb({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let o=0;for(;!r.done&&o<YI;)r=t.sample(o),a.push(r.value),o+=im;return{times:void 0,keyframes:a,duration:o-im,ease:"linear"}}const ZD={anticipate:RD,backInOut:AD,circInOut:ND};function GI(n){return n in ZD}class ME extends $D{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new qD(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:o,type:l,motionValue:u,name:f,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&tm()&&GI(o)&&(o=ZD[o]),qI(this.options)){const{onComplete:v,onUpdate:x,motionValue:w,element:E,...D}=this.options,A=$I(e,D);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,a=A.times,o=A.ease,l="keyframes"}const g=zI(u.owner.current,f,e,{...this.options,duration:r,times:a,ease:o});return g.startTime=h??this.calcStartTime(),this.pendingTimeline?(rE(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;u.set(Gm(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return zi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return zi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Fi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Qr;const{animation:r}=t;rE(r,e)}return Qr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:v,element:x,...w}=this.options,E=new fb({...w,keyframes:r,duration:a,type:o,ease:l,times:u,isGenerator:!0}),D=Fi(this.time);h.setWithVelocity(E.sample(D-im).value,E.sample(D).value,im)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return HI()&&r&&FI.has(r)&&!f&&!h&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const QI={type:"spring",stiffness:500,damping:25,restSpeed:10},KI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),WI={type:"keyframes",duration:.8},XI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZI=(n,{keyframes:e})=>e.length>2?WI:sl.has(n)?n.startsWith("scale")?KI(e[1]):QI:XI;function JI({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:h,...g}){return!!Object.keys(g).length}const hb=(n,e,t,r={},a,o)=>l=>{const u=zv(r,n)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Fi(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:a};JI(u)||(g={...g,...ZI(n,g)}),g.duration&&(g.duration=Fi(g.duration)),g.repeatDelay&&(g.repeatDelay=Fi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=Gm(g.keyframes,u);if(x!==void 0)return Gt.update(()=>{g.onUpdate(x),g.onComplete()}),new wP([])}return!o&&ME.supports(g)?new ME(g):new fb(g)};function e3({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function JD(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(l=r);const h=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const x=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=f[v];if(w===void 0||g&&e3(g,v))continue;const E={delay:t,...zv(l||{},v)};let D=!1;if(window.MotionHandoffAnimation){const O=wD(n);if(O){const U=window.MotionHandoffAnimation(O,v,Gt);U!==null&&(E.startTime=U,D=!0)}}v0(n,v),x.start(hb(v,x,w,n.shouldReduceMotion&&_D.has(v)?{type:!1}:E,n,D));const A=x.animation;A&&h.push(A)}return u&&Promise.all(h).then(()=>{Gt.update(()=>{u&&RO(n,u)})}),h}function R0(n,e,t={}){var r;const a=bd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(o=t.transitionOverride);const l=a?()=>Promise.all(JD(n,a,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=o;return t3(n,e,g+h,v,x,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[l,u]:[u,l];return h().then(()=>g())}else return Promise.all([l(),u(t.delay)])}function t3(n,e,t=0,r=0,a=1,o){const l=[],u=(n.variantChildren.size-1)*r,f=a===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(n3).forEach((h,g)=>{h.notify("AnimationStart",e),l.push(R0(h,e,{...o,delay:t+f(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function n3(n,e){return n.sortNodePosition(e)}function r3(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>R0(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=R0(n,e,t);else{const a=typeof e=="function"?bd(n,e,t.custom):e;r=Promise.all(JD(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function eA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const a3=Qv.length;function tA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?tA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<a3;t++){const r=Qv[t],a=n.props[r];(gd(a)||a===!1)&&(e[r]=a)}return e}const i3=[...Gv].reverse(),s3=Gv.length;function o3(n){return e=>Promise.all(e.map(({animation:t,options:r})=>r3(n,t,r)))}function l3(n){let e=o3(n),t=kE(),r=!0;const a=f=>(h,g)=>{var v;const x=bd(n,g,f==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:w,transitionEnd:E,...D}=x;h={...h,...D,...E}}return h};function o(f){e=f(n)}function l(f){const{props:h}=n,g=tA(n.parent)||{},v=[],x=new Set;let w={},E=1/0;for(let A=0;A<s3;A++){const O=i3[A],U=t[O],B=h[O]!==void 0?h[O]:g[O],$=gd(B),k=O===f?U.isActive:null;k===!1&&(E=A);let Y=B===g[O]&&B!==h[O]&&$;if(Y&&r&&n.manuallyAnimateOnMount&&(Y=!1),U.protectedKeys={...w},!U.isActive&&k===null||!B&&!U.prevProp||qm(B)||typeof B=="boolean")continue;const I=c3(U.prevProp,B);let R=I||O===f&&U.isActive&&!Y&&$||A>E&&$,C=!1;const N=Array.isArray(B)?B:[B];let L=N.reduce(a(O),{});k===!1&&(L={});const{prevResolvedValues:H={}}=U,F={...H,...L},Te=ne=>{R=!0,x.has(ne)&&(C=!0,x.delete(ne)),U.needsAnimating[ne]=!0;const se=n.getValue(ne);se&&(se.liveStyle=!1)};for(const ne in F){const se=L[ne],be=H[ne];if(w.hasOwnProperty(ne))continue;let P=!1;y0(se)&&y0(be)?P=!eA(se,be):P=se!==be,P?se!=null?Te(ne):x.add(ne):se!==void 0&&x.has(ne)?Te(ne):U.protectedKeys[ne]=!0}U.prevProp=B,U.prevResolvedValues=L,U.isActive&&(w={...w,...L}),r&&n.blockInitialAnimation&&(R=!1),R&&(!(Y&&I)||C)&&v.push(...N.map(ne=>({animation:ne,options:{type:O}})))}if(x.size){const A={};if(typeof h.initial!="boolean"){const O=bd(n,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(A.transition=O.transition)}x.forEach(O=>{const U=n.getBaseTarget(O),B=n.getValue(O);B&&(B.liveStyle=!0),A[O]=U??null}),v.push({animation:A})}let D=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(v):Promise.resolve()}function u(f,h){var g;if(t[f].isActive===h)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(f,h)}),t[f].isActive=h;const v=l(f);for(const x in t)t[x].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=kE(),r=!0}}}function c3(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!eA(e,n):!1}function jo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kE(){return{animate:jo(!0),whileInView:jo(),whileHover:jo(),whileTap:jo(),whileDrag:jo(),whileFocus:jo(),exit:jo()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class u3 extends to{constructor(e){super(e),e.animationState||(e.animationState=l3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let d3=0;class f3 extends to{constructor(){super(...arguments),this.id=d3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const h3={animation:{Feature:u3},exit:{Feature:f3}};function _d(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function zd(n){return{point:{x:n.pageX,y:n.pageY}}}const m3=n=>e=>$v(e)&&n(e,zd(e));function id(n,e,t,r){return _d(n,e,m3(t),r)}function nA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function p3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function g3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const rA=1e-4,y3=1-rA,v3=1+rA,aA=.01,b3=0-aA,x3=0+aA;function Ar(n){return n.max-n.min}function _3(n,e,t){return Math.abs(n-e)<=t}function PE(n,e,t,r=.5){n.origin=r,n.originPoint=nn(e.min,e.max,n.origin),n.scale=Ar(t)/Ar(e),n.translate=nn(t.min,t.max,n.origin)-n.originPoint,(n.scale>=y3&&n.scale<=v3||isNaN(n.scale))&&(n.scale=1),(n.translate>=b3&&n.translate<=x3||isNaN(n.translate))&&(n.translate=0)}function sd(n,e,t,r){PE(n.x,e.x,t.x,r?r.originX:void 0),PE(n.y,e.y,t.y,r?r.originY:void 0)}function OE(n,e,t){n.min=t.min+e.min,n.max=n.min+Ar(e)}function w3(n,e,t){OE(n.x,e.x,t.x),OE(n.y,e.y,t.y)}function IE(n,e,t){n.min=e.min-t.min,n.max=n.min+Ar(e)}function od(n,e,t){IE(n.x,e.x,t.x),IE(n.y,e.y,t.y)}const jE=()=>({translate:0,scale:1,origin:0,originPoint:0}),sc=()=>({x:jE(),y:jE()}),VE=()=>({min:0,max:0}),bn=()=>({x:VE(),y:VE()});function pa(n){return[n("x"),n("y")]}function Vy(n){return n===void 0||n===1}function C0({scale:n,scaleX:e,scaleY:t}){return!Vy(n)||!Vy(e)||!Vy(t)}function Vo(n){return C0(n)||iA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function iA(n){return LE(n.x)||LE(n.y)}function LE(n){return n&&n!=="0%"}function sm(n,e,t){const r=n-t,a=e*r;return t+a}function UE(n,e,t,r,a){return a!==void 0&&(n=sm(n,a,r)),sm(n,t,r)+e}function N0(n,e=0,t=1,r,a){n.min=UE(n.min,e,t,r,a),n.max=UE(n.max,e,t,r,a)}function sA(n,{x:e,y:t}){N0(n.x,e.translate,e.scale,e.originPoint),N0(n.y,t.translate,t.scale,t.originPoint)}const BE=.999999999999,FE=1.0000000000001;function E3(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=t[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&lc(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,sA(n,l)),r&&Vo(o.latestValues)&&lc(n,o.latestValues))}e.x<FE&&e.x>BE&&(e.x=1),e.y<FE&&e.y>BE&&(e.y=1)}function oc(n,e){n.min=n.min+e,n.max=n.max+e}function zE(n,e,t,r,a=.5){const o=nn(n.min,n.max,a);N0(n,e,t,o,r)}function lc(n,e){zE(n.x,e.x,e.scaleX,e.scale,e.originX),zE(n.y,e.y,e.scaleY,e.scale,e.originY)}function oA(n,e){return nA(g3(n.getBoundingClientRect(),e))}function T3(n,e,t){const r=oA(n,t),{scroll:a}=e;return a&&(oc(r.x,a.offset.x),oc(r.y,a.offset.y)),r}const lA=({current:n})=>n?n.ownerDocument.defaultView:null,HE=(n,e)=>Math.abs(n-e);function S3(n,e){const t=HE(n.x,e.x),r=HE(n.y,e.y);return Math.sqrt(t**2+r**2)}class cA{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Uy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=S3(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:E}=v,{timestamp:D}=Jn;this.history.push({...E,timestamp:D});const{onStart:A,onMove:O}=this.handlers;x||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ly(x,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Uy(v.type==="pointercancel"?this.lastMoveEventInfo:Ly(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,A),E&&E(v,A)},!$v(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const l=zd(e),u=Ly(l,this.transformPagePoint),{point:f}=u,{timestamp:h}=Jn;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=t;g&&g(e,Uy(u,this.history)),this.removeListeners=Fd(id(this.contextWindow,"pointermove",this.handlePointerMove),id(this.contextWindow,"pointerup",this.handlePointerUp),id(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Ly(n,e){return e?{point:e(n.point)}:n}function YE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uy({point:n},e){return{point:n,delta:YE(n,uA(e)),offset:YE(n,D3(e)),velocity:A3(e,.1)}}function D3(n){return n[0]}function uA(n){return n[n.length-1]}function A3(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=uA(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Fi(e)));)t--;if(!r)return{x:0,y:0};const o=zi(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function R3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?nn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?nn(t,n,r.max):Math.min(n,t)),n}function qE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function C3(n,{top:e,left:t,bottom:r,right:a}){return{x:qE(n.x,t,a),y:qE(n.y,e,r)}}function $E(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function N3(n,e){return{x:$E(n.x,e.x),y:$E(n.y,e.y)}}function M3(n,e){let t=.5;const r=Ar(n),a=Ar(e);return a>r?t=fc(e.min,e.max-r,n.min):r>a&&(t=fc(n.min,n.max-a,e.min)),Ki(0,1,t)}function k3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const M0=.35;function P3(n=M0){return n===!1?n=0:n===!0&&(n=M0),{x:GE(n,"left","right"),y:GE(n,"top","bottom")}}function GE(n,e,t){return{min:QE(n,e),max:QE(n,t)}}function QE(n,e){return typeof n=="number"?n:n[e]||0}const O3=new WeakMap;class I3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(zd(g).point)},o=(g,v)=>{const{drag:x,dragPropagation:w,onDragStart:E}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RP(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pa(A=>{let O=this.getAxisMotionValue(A).get()||0;if(oi.test(O)){const{projection:U}=this.visualElement;if(U&&U.layout){const B=U.layout.layoutBox[A];B&&(O=Ar(B)*(parseFloat(O)/100))}}this.originPoint[A]=O}),E&&Gt.postRender(()=>E(g,v)),v0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:E,onDrag:D}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=v;if(w&&this.currentDirection===null){this.currentDirection=j3(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),D&&D(g,v)},u=(g,v)=>this.stop(g,v),f=()=>pa(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new cA(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:lA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!yh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=R3(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&ac(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=C3(a.layoutBox,t):this.constraints=!1,this.elastic=P3(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&pa(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k3(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ac(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=T3(r,a.root,this.visualElement.getTransformPagePoint());let l=N3(a.layout.layoutBox,o);if(t){const u=t(p3(l));this.hasMutatedConstraints=!!u,u&&(l=nA(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=pa(g=>{if(!yh(g,t,this.currentDirection))return;let v=f&&f[g]||{};l&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,E={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,E)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return v0(this.visualElement,e),r.start(hb(e,r,0,t,this.visualElement,!1))}stopAnimation(){pa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pa(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pa(t=>{const{drag:r}=this.getProps();if(!yh(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];o.set(e[t]-nn(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ac(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pa(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();a[l]=M3({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pa(l=>{if(!yh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];u.set(nn(f,h,a[l]))})}addListeners(){if(!this.visualElement.current)return;O3.set(this.visualElement,this);const e=this.visualElement.current,t=id(e,"pointerdown",f=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ac(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Gt.read(r);const l=_d(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(pa(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=M0,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function yh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function j3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class V3 extends to{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new I3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const KE=n=>(e,t)=>{n&&Gt.postRender(()=>n(e,t))};class L3 extends to{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new cA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:KE(e),onStart:KE(t),onMove:r,onEnd:(o,l)=>{delete this.session,a&&Gt.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=id(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const zu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(We.test(n))n=parseFloat(n);else return n;const t=WE(n,e.target.x),r=WE(n,e.target.y);return`${t}% ${r}%`}},U3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=qs.parse(n);if(a.length>5)return r;const o=qs.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=f;const h=nn(u,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=h),typeof a[3+l]=="number"&&(a[3+l]/=h),o(a)}};class B3 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;nO(F3),o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Gt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dA(n){const[e,t]=G2(),r=M.useContext(Ov);return y.jsx(B3,{...n,layoutGroup:r,switchLayoutGroup:M.useContext(lD),isPresent:e,safeToRemove:t})}const F3={borderRadius:{...zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zu,borderTopRightRadius:zu,borderBottomLeftRadius:zu,borderBottomRightRadius:zu,boxShadow:U3};function z3(n,e,t){const r=gr(n)?n:pd(n);return r.start(hb("",r,e,t)),r.animation}function H3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Y3=(n,e)=>n.depth-e.depth;class q3{constructor(){this.children=[],this.isDirty=!1}add(e){Lv(this.children,e),this.isDirty=!0}remove(e){Uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Y3),this.isDirty=!1,this.children.forEach(e)}}function $3(n,e){const t=si.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Ys(r),n(o-e))};return Gt.read(r,!0),()=>Ys(r)}const fA=["TopLeft","TopRight","BottomLeft","BottomRight"],G3=fA.length,XE=n=>typeof n=="string"?parseFloat(n):n,ZE=n=>typeof n=="number"||We.test(n);function Q3(n,e,t,r,a,o){a?(n.opacity=nn(0,t.opacity!==void 0?t.opacity:1,K3(r)),n.opacityExit=nn(e.opacity!==void 0?e.opacity:1,0,W3(r))):o&&(n.opacity=nn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<G3;l++){const u=`border${fA[l]}Radius`;let f=JE(e,u),h=JE(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||ZE(f)===ZE(h)?(n[u]=Math.max(nn(XE(f),XE(h),r),0),(oi.test(h)||oi.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=nn(e.rotate||0,t.rotate||0,r))}function JE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const K3=hA(0,.5,CD),W3=hA(.5,.95,Qr);function hA(n,e,t){return r=>r<n?0:r>e?1:t(fc(n,e,r))}function eT(n,e){n.min=e.min,n.max=e.max}function ma(n,e){eT(n.x,e.x),eT(n.y,e.y)}function tT(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function nT(n,e,t,r,a){return n-=e,n=sm(n,1/t,r),a!==void 0&&(n=sm(n,1/a,r)),n}function X3(n,e=0,t=1,r=.5,a,o=n,l=n){if(oi.test(e)&&(e=parseFloat(e),e=nn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=nn(o.min,o.max,r);n===o&&(u-=e),n.min=nT(n.min,e,t,u,a),n.max=nT(n.max,e,t,u,a)}function rT(n,e,[t,r,a],o,l){X3(n,e[t],e[r],e[a],e.scale,o,l)}const Z3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function aT(n,e,t,r){rT(n.x,e,Z3,t?t.x:void 0,r?r.x:void 0),rT(n.y,e,J3,t?t.y:void 0,r?r.y:void 0)}function iT(n){return n.translate===0&&n.scale===1}function mA(n){return iT(n.x)&&iT(n.y)}function sT(n,e){return n.min===e.min&&n.max===e.max}function e6(n,e){return sT(n.x,e.x)&&sT(n.y,e.y)}function oT(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function pA(n,e){return oT(n.x,e.x)&&oT(n.y,e.y)}function lT(n){return Ar(n.x)/Ar(n.y)}function cT(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class t6{constructor(){this.members=[]}add(e){Lv(this.members,e),e.scheduleRender()}remove(e){if(Uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n6(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((a||o||l)&&(r=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:x,skewX:w,skewY:E}=t;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const By=["","X","Y","Z"],r6={visibility:"hidden"},uT=1e3;let a6=0;function Fy(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function gA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=wD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Gt,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&gA(r)}function yA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=e==null?void 0:e()){this.id=a6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o6),this.nodes.forEach(f6),this.nodes.forEach(h6),this.nodes.forEach(l6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new q3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Fv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H3(l),this.instance=l;const{layoutId:f,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=$3(x,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(fT))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||v6,{onLayoutAnimationStart:A,onLayoutAnimationComplete:O}=g.getProps(),U=!this.targetLayout||!pA(this.targetLayout,E),B=!x&&w;if(this.options.layoutRoot||this.resumeFrom||B||x&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,B);const $={...zv(D,"layout"),onPlay:A,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else x||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dT);return}this.isUpdating||this.nodes.forEach(u6),this.isUpdating=!1,this.nodes.forEach(d6),this.nodes.forEach(i6),this.nodes.forEach(s6),this.clearAllSnapshots();const u=si.now();Jn.delta=Ki(0,1e3/60,u-Jn.timestamp),Jn.timestamp=u,Jn.isProcessing=!0,ky.update.process(Jn),ky.preRender.process(Jn),ky.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(c6),this.sharedNodes.forEach(p6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ar(this.snapshot.measuredBox.x)&&!Ar(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!mA(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;l&&(u||Vo(this.latestValues)||g)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),b6(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return bn();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(x6))){const{scroll:g}=this.root;g&&(oc(f.x,g.offset.x),oc(f.y,g.offset.y))}return f}removeElementScroll(l){var u;const f=bn();if(ma(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ma(f,l),oc(f.x,v.offset.x),oc(f.y,v.offset.y))}return f}applyTransform(l,u=!1){const f=bn();ma(f,l);for(let h=0;h<this.path.length;h++){const g=this.path[h];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&lc(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vo(g.latestValues)&&lc(f,g.latestValues)}return Vo(this.latestValues)&&lc(f,this.latestValues),f}removeTransform(l){const u=bn();ma(u,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Vo(h.latestValues))continue;C0(h.latestValues)&&h.updateSnapshot();const g=bn(),v=h.measurePageBox();ma(g,v),aT(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Vo(this.latestValues)&&aT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Jn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),od(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bn(),this.targetWithTransforms=bn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ma(this.target,this.layout.layoutBox),sA(this.target,this.targetDelta)):ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bn(),this.relativeTargetOrigin=bn(),od(this.relativeTargetOrigin,this.target,w.target),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||C0(this.parent.latestValues)||iA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(h=!1),h)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ma(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;E3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=bn());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tT(this.prevProjectionDelta.x,this.projectionDelta.x),tT(this.prevProjectionDelta.y,this.projectionDelta.y)),sd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!cT(this.projectionDelta.x,this.prevProjectionDelta.x)||!cT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sc(),this.projectionDelta=sc(),this.projectionDeltaWithTransform=sc()}setAnimationOrigin(l,u=!1){const f=this.snapshot,h=f?f.latestValues:{},g={...this.latestValues},v=sc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=bn(),w=f?f.source:void 0,E=this.layout?this.layout.source:void 0,D=w!==E,A=this.getStack(),O=!A||A.members.length<=1,U=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(y6));this.animationProgress=0;let B;this.mixTargetDelta=$=>{const k=$/1e3;hT(v.x,l.x,k),hT(v.y,l.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(od(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),g6(this.relativeTarget,this.relativeTargetOrigin,x,k),B&&e6(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=bn()),ma(B,this.relativeTarget)),D&&(this.animationValues=g,Q3(g,h,this.latestValues,k,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Vh.hasAnimatedSinceResize=!0,this.currentAnimation=z3(0,uT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:g}=l;if(!(!u||!f||!h)){if(this!==l&&this.layout&&h&&vA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||bn();const v=Ar(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const x=Ar(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+x}ma(u,f),lc(u,g),sd(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new t6),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Fy("z",l,h,this.animationValues);for(let g=0;g<By.length;g++)Fy(`rotate${By[g]}`,l,h,this.animationValues),Fy(`skew${By[g]}`,l,h,this.animationValues);l.render();for(const g in h)l.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return r6;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=jh(l==null?void 0:l.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=jh(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Vo(this.latestValues)&&(D.transform=g?g({},""):"none",this.hasProjected=!1),D}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=n6(this.projectionDeltaWithTransform,this.treeScale,x),g&&(h.transform=g(x,h.transform));const{x:w,y:E}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const D in yd){if(x[D]===void 0)continue;const{correct:A,applyTo:O,isCSSVariable:U}=yd[D],B=h.transform==="none"?x[D]:A(x[D],v);if(O){const $=O.length;for(let k=0;k<$;k++)h[O[k]]=B}else U?this.options.visualElement.renderState.vars[D]=B:h[D]=B}return this.options.layoutId&&(h.pointerEvents=v===this?jh(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(dT),this.root.sharedNodes.clear()}}}function i6(n){n.updateLayout()}function s6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?pa(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=Ar(x);x.min=r[v].min,x.max=x.min+w}):vA(o,t.layoutBox,r)&&pa(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=Ar(r[v]);x.max=x.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const u=sc();sd(u,r,t.layoutBox);const f=sc();l?sd(f,n.applyTransform(a,!0),t.measuredBox):sd(f,r,t.layoutBox);const h=!mA(u);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const E=bn();od(E,t.layoutBox,x.layoutBox);const D=bn();od(D,r,w.layoutBox),pA(E,D)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=E,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function o6(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function l6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function c6(n){n.clearSnapshot()}function dT(n){n.clearMeasurements()}function u6(n){n.isLayoutDirty=!1}function d6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function fT(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function f6(n){n.resolveTargetDelta()}function h6(n){n.calcProjection()}function m6(n){n.resetSkewAndRotation()}function p6(n){n.removeLeadSnapshot()}function hT(n,e,t){n.translate=nn(e.translate,0,t),n.scale=nn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function mT(n,e,t,r){n.min=nn(e.min,t.min,r),n.max=nn(e.max,t.max,r)}function g6(n,e,t,r){mT(n.x,e.x,t.x,r),mT(n.y,e.y,t.y,r)}function y6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const v6={duration:.45,ease:[.4,0,.1,1]},pT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),gT=pT("applewebkit/")&&!pT("chrome/")?Math.round:Qr;function yT(n){n.min=gT(n.min),n.max=gT(n.max)}function b6(n){yT(n.x),yT(n.y)}function vA(n,e,t){return n==="position"||n==="preserve-aspect"&&!_3(lT(e),lT(t),.2)}function x6(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const _6=yA({attachResizeListener:(n,e)=>_d(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},bA=yA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!zy.current){const n=new _6({});n.mount(window),n.setOptions({layoutScroll:!0}),zy.current=n}return zy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),w6={pan:{Feature:L3},drag:{Feature:V3,ProjectionNode:bA,MeasureLayout:dA}};function vT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&Gt.postRender(()=>o(e,zd(e)))}class E6 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=NP(e,(t,r)=>(vT(this.node,r,"Start"),a=>vT(this.node,a,"End"))))}unmount(){}}class T6 extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fd(_d(this.node.current,"focus",()=>this.onFocus()),_d(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bT(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&Gt.postRender(()=>o(e,zd(e)))}class S6 extends to{mount(){const{current:e}=this.node;e&&(this.unmount=OP(e,(t,r)=>(bT(this.node,r,"Start"),(a,{success:o})=>bT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k0=new WeakMap,Hy=new WeakMap,D6=n=>{const e=k0.get(n.target);e&&e(n)},A6=n=>{n.forEach(D6)};function R6({root:n,...e}){const t=n||document;Hy.has(t)||Hy.set(t,{});const r=Hy.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(A6,{root:n,...e})),r[a]}function C6(n,e,t){const r=R6(e);return k0.set(n,t),r.observe(n),()=>{k0.delete(n),r.unobserve(n)}}const N6={some:0,all:1};class M6 extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:N6[a]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=h?g:v;x&&x(f)};return C6(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(k6(e,t))&&this.startObserver()}unmount(){}}function k6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const P6={inView:{Feature:M6},tap:{Feature:S6},focus:{Feature:T6},hover:{Feature:E6}},O6={layout:{ProjectionNode:bA,MeasureLayout:dA}},P0={current:null},xA={current:!1};function I6(){if(xA.current=!0,!!jv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>P0.current=n.matches;n.addListener(e),e()}else P0.current=!1}const j6=[...YD,dr,qs],V6=n=>j6.find(HD(n)),L6=new WeakMap;function U6(n,e,t){for(const r in e){const a=e[r],o=t[r];if(gr(a))n.addValue(r,a);else if(gr(o))n.addValue(r,pd(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(r);n.addValue(r,pd(l!==void 0?l:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const xT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class B6{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ub,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=si.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Gt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=$m(t),this.isVariantNode=sD(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in x){const E=x[w];f[w]!==void 0&&gr(E)&&E.set(f[w],!1)}}mount(e){this.current=e,L6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),xA.current||I6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hc){const t=hc[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<xT.length;r++){const a=xT[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=U6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=pd(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(FD(a)||MD(a))?a=parseFloat(a):!V6(a)&&qs.test(t)&&(a=LD(e,t)),this.setBaseTarget(e,gr(a)?a.get():a)),gr(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=ab(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(a=l[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!gr(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Fv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _A extends B6{constructor(){super(...arguments),this.KeyframeResolver=qD}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function F6(n){return window.getComputedStyle(n)}class z6 extends _A{constructor(){super(...arguments),this.type="html",this.renderInstance=yD}readValueFromInstance(e,t){if(sl.has(t))return JO(e,t);{const r=F6(e),a=(Wv(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return oA(e,t)}build(e,t,r){Jv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return ib(e,t,r)}}class H6 extends _A{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&gD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(sl.has(t)){const r=VD(t);return r&&r.default||0}return t=vD.has(t)?t:Kv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return xD(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gt.postRender(this.updateDimensions)}build(e,t,r){nb(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){bD(e,t,r,a)}mount(e){this.isSVGTag=rb(e.tagName),super.mount(e)}}const Y6=(n,e)=>tb(n)?new H6(e):new z6(e,{allowProjection:n!==M.Fragment}),q6=DO({...h3,...P6,...w6,...O6},Y6),ve=zP(q6),$6=()=>{};var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},G6=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],l=n[t++],u=n[t++],f=((a&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},EA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],l=a+1<n.length,u=l?n[a+1]:0,f=a+2<n.length,h=f?n[a+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(t[g],t[v],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const h=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||h==null||v==null)throw new Q6;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const E=h<<6&192|v;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Q6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K6=function(n){const e=wA(n);return EA.encodeByteArray(e,!0)},om=function(n){return K6(n).replace(/\./g,"")},W6=function(n){try{return EA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=()=>X6().__FIREBASE_DEFAULTS__,J6=()=>{if(typeof process>"u"||typeof _T>"u")return;const n=_T.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ej=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W6(n[1]);return e&&JSON.parse(e)},mb=()=>{try{return $6()||Z6()||J6()||ej()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},tj=n=>{var e,t;return(t=(e=mb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TA=n=>{const e=tj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},SA=()=>{var n;return(n=mb())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[om(JSON.stringify(t)),om(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aj(){var n;const e=(n=mb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ij(){return!aj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sj(){try{return typeof indexedDB=="object"}catch{return!1}}function oj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="FirebaseError";class ol extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lj,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,AA.prototype.create)}}class AA{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?cj(o,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new ol(a,u,r)}}function cj(n,e){return n.replace(uj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const uj=/\{\$([^}]+)}/g;function wd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],l=e[a];if(wT(o)&&wT(l)){if(!wd(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function wT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n){return n.endsWith(".cloudworkstations.dev")}async function RA(n){return(await fetch(n,{credentials:"include"})).ok}class pc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hj(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fj(n){return n===Lo?void 0:n}function hj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xt||(xt={}));const pj={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},gj=xt.INFO,yj={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},vj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=yj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CA{constructor(e){this.name=e,this._logLevel=gj,this._logHandler=vj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const bj=(n,e)=>e.some(t=>n instanceof t);let ET,TT;function xj(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _j(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,O0=new WeakMap,MA=new WeakMap,Yy=new WeakMap,pb=new WeakMap;function wj(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(js(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&NA.set(t,n)}).catch(()=>{}),pb.set(e,n),e}function Ej(n){if(O0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});O0.set(n,e)}let I0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return O0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||MA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tj(n){I0=n(I0)}function Sj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qy(this),e,...t);return MA.set(r,e.sort?e.sort():[e]),js(r)}:_j().includes(n)?function(...e){return n.apply(qy(this),e),js(NA.get(this))}:function(...e){return js(n.apply(qy(this),e))}}function Dj(n){return typeof n=="function"?Sj(n):(n instanceof IDBTransaction&&Ej(n),bj(n,xj())?new Proxy(n,I0):n)}function js(n){if(n instanceof IDBRequest)return wj(n);if(Yy.has(n))return Yy.get(n);const e=Dj(n);return e!==n&&(Yy.set(n,e),pb.set(e,n)),e}const qy=n=>pb.get(n);function Aj(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(n,e),u=js(l);return r&&l.addEventListener("upgradeneeded",f=>{r(js(l.result),f.oldVersion,f.newVersion,js(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Rj=["get","getKey","getAll","getAllKeys","count"],Cj=["put","add","delete","clear"],$y=new Map;function ST(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Cj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Rj.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),a&&f.done]))[0]};return $y.set(e,o),o}Tj(n=>({...n,get:(e,t,r)=>ST(e,t)||n.get(e,t,r),has:(e,t)=>!!ST(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Mj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j0="@firebase/app",DT="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new CA("@firebase/app"),kj="@firebase/app-compat",Pj="@firebase/analytics-compat",Oj="@firebase/analytics",Ij="@firebase/app-check-compat",jj="@firebase/app-check",Vj="@firebase/auth",Lj="@firebase/auth-compat",Uj="@firebase/database",Bj="@firebase/data-connect",Fj="@firebase/database-compat",zj="@firebase/functions",Hj="@firebase/functions-compat",Yj="@firebase/installations",qj="@firebase/installations-compat",$j="@firebase/messaging",Gj="@firebase/messaging-compat",Qj="@firebase/performance",Kj="@firebase/performance-compat",Wj="@firebase/remote-config",Xj="@firebase/remote-config-compat",Zj="@firebase/storage",Jj="@firebase/storage-compat",e5="@firebase/firestore",t5="@firebase/vertexai",n5="@firebase/firestore-compat",r5="firebase",a5="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="[DEFAULT]",i5={[j0]:"fire-core",[kj]:"fire-core-compat",[Oj]:"fire-analytics",[Pj]:"fire-analytics-compat",[jj]:"fire-app-check",[Ij]:"fire-app-check-compat",[Vj]:"fire-auth",[Lj]:"fire-auth-compat",[Uj]:"fire-rtdb",[Bj]:"fire-data-connect",[Fj]:"fire-rtdb-compat",[zj]:"fire-fn",[Hj]:"fire-fn-compat",[Yj]:"fire-iid",[qj]:"fire-iid-compat",[$j]:"fire-fcm",[Gj]:"fire-fcm-compat",[Qj]:"fire-perf",[Kj]:"fire-perf-compat",[Wj]:"fire-rc",[Xj]:"fire-rc-compat",[Zj]:"fire-gcs",[Jj]:"fire-gcs-compat",[e5]:"fire-fst",[n5]:"fire-fst-compat",[t5]:"fire-vertex","fire-js":"fire-js",[r5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,s5=new Map,L0=new Map;function AT(n,e){try{n.container.addComponent(e)}catch(t){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ed(n){const e=n.name;if(L0.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;L0.set(e,n);for(const t of lm.values())AT(t,n);for(const t of s5.values())AT(t,n);return!0}function kA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function PA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new AA("app","Firebase",o5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=a5;function gb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Vs.create("bad-app-name",{appName:String(a)});if(t||(t=SA()),!t)throw Vs.create("no-options");const o=lm.get(a);if(o){if(wd(t,o.options)&&wd(r,o.config))return o;throw Vs.create("duplicate-app",{appName:a})}const l=new mj(a);for(const f of L0.values())l.addComponent(f);const u=new l5(t,r,l);return lm.set(a,u),u}function IA(n=V0){const e=lm.get(n);if(!e&&n===V0&&SA())return gb();if(!e)throw Vs.create("no-app",{appName:n});return e}function Ls(n,e,t){var r;let a=(r=i5[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(u.join(" "));return}Ed(new pc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="firebase-heartbeat-database",u5=1,Td="firebase-heartbeat-store";let Gy=null;function jA(){return Gy||(Gy=Aj(c5,u5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Td)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),Gy}async function d5(n){try{const t=(await jA()).transaction(Td),r=await t.objectStore(Td).get(VA(n));return await t.done,r}catch(e){if(e instanceof ol)Wi.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(t.message)}}}async function RT(n,e){try{const r=(await jA()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,VA(n)),await r.done}catch(t){if(t instanceof ol)Wi.warn(t.message);else{const r=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wi.warn(r.message)}}}function VA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=1024,h5=30;class m5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new g5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>h5){const l=y5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=CT(),{heartbeatsToSend:r,unsentEntries:a}=p5(this._heartbeatsCache.heartbeats),o=om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function CT(){return new Date().toISOString().substring(0,10)}function p5(n,e=f5){const t=[];let r=n.slice();for(const a of n){const o=t.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),NT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),NT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class g5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sj()?oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return RT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function NT(n){return om(JSON.stringify({version:2,heartbeats:n})).length}function y5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(n){Ed(new pc("platform-logger",e=>new Nj(e),"PRIVATE")),Ed(new pc("heartbeat",e=>new m5(e),"PRIVATE")),Ls(j0,DT,n),Ls(j0,DT,"esm2017"),Ls("fire-js","")}v5("");var b5="firebase",x5="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(b5,x5,"app");var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,LA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.D=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(N,L,H){for(var F=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)F[Te-2]=arguments[Te];return R.prototype[L].apply(N,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,C){C||(C=0);var N=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)N[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)N[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],L=I.g[2];var H=I.g[3],F=R+(H^C&(L^H))+N[0]+3614090360&4294967295;R=C+(F<<7&4294967295|F>>>25),F=H+(L^R&(C^L))+N[1]+3905402710&4294967295,H=R+(F<<12&4294967295|F>>>20),F=L+(C^H&(R^C))+N[2]+606105819&4294967295,L=H+(F<<17&4294967295|F>>>15),F=C+(R^L&(H^R))+N[3]+3250441966&4294967295,C=L+(F<<22&4294967295|F>>>10),F=R+(H^C&(L^H))+N[4]+4118548399&4294967295,R=C+(F<<7&4294967295|F>>>25),F=H+(L^R&(C^L))+N[5]+1200080426&4294967295,H=R+(F<<12&4294967295|F>>>20),F=L+(C^H&(R^C))+N[6]+2821735955&4294967295,L=H+(F<<17&4294967295|F>>>15),F=C+(R^L&(H^R))+N[7]+4249261313&4294967295,C=L+(F<<22&4294967295|F>>>10),F=R+(H^C&(L^H))+N[8]+1770035416&4294967295,R=C+(F<<7&4294967295|F>>>25),F=H+(L^R&(C^L))+N[9]+2336552879&4294967295,H=R+(F<<12&4294967295|F>>>20),F=L+(C^H&(R^C))+N[10]+4294925233&4294967295,L=H+(F<<17&4294967295|F>>>15),F=C+(R^L&(H^R))+N[11]+2304563134&4294967295,C=L+(F<<22&4294967295|F>>>10),F=R+(H^C&(L^H))+N[12]+1804603682&4294967295,R=C+(F<<7&4294967295|F>>>25),F=H+(L^R&(C^L))+N[13]+4254626195&4294967295,H=R+(F<<12&4294967295|F>>>20),F=L+(C^H&(R^C))+N[14]+2792965006&4294967295,L=H+(F<<17&4294967295|F>>>15),F=C+(R^L&(H^R))+N[15]+1236535329&4294967295,C=L+(F<<22&4294967295|F>>>10),F=R+(L^H&(C^L))+N[1]+4129170786&4294967295,R=C+(F<<5&4294967295|F>>>27),F=H+(C^L&(R^C))+N[6]+3225465664&4294967295,H=R+(F<<9&4294967295|F>>>23),F=L+(R^C&(H^R))+N[11]+643717713&4294967295,L=H+(F<<14&4294967295|F>>>18),F=C+(H^R&(L^H))+N[0]+3921069994&4294967295,C=L+(F<<20&4294967295|F>>>12),F=R+(L^H&(C^L))+N[5]+3593408605&4294967295,R=C+(F<<5&4294967295|F>>>27),F=H+(C^L&(R^C))+N[10]+38016083&4294967295,H=R+(F<<9&4294967295|F>>>23),F=L+(R^C&(H^R))+N[15]+3634488961&4294967295,L=H+(F<<14&4294967295|F>>>18),F=C+(H^R&(L^H))+N[4]+3889429448&4294967295,C=L+(F<<20&4294967295|F>>>12),F=R+(L^H&(C^L))+N[9]+568446438&4294967295,R=C+(F<<5&4294967295|F>>>27),F=H+(C^L&(R^C))+N[14]+3275163606&4294967295,H=R+(F<<9&4294967295|F>>>23),F=L+(R^C&(H^R))+N[3]+4107603335&4294967295,L=H+(F<<14&4294967295|F>>>18),F=C+(H^R&(L^H))+N[8]+1163531501&4294967295,C=L+(F<<20&4294967295|F>>>12),F=R+(L^H&(C^L))+N[13]+2850285829&4294967295,R=C+(F<<5&4294967295|F>>>27),F=H+(C^L&(R^C))+N[2]+4243563512&4294967295,H=R+(F<<9&4294967295|F>>>23),F=L+(R^C&(H^R))+N[7]+1735328473&4294967295,L=H+(F<<14&4294967295|F>>>18),F=C+(H^R&(L^H))+N[12]+2368359562&4294967295,C=L+(F<<20&4294967295|F>>>12),F=R+(C^L^H)+N[5]+4294588738&4294967295,R=C+(F<<4&4294967295|F>>>28),F=H+(R^C^L)+N[8]+2272392833&4294967295,H=R+(F<<11&4294967295|F>>>21),F=L+(H^R^C)+N[11]+1839030562&4294967295,L=H+(F<<16&4294967295|F>>>16),F=C+(L^H^R)+N[14]+4259657740&4294967295,C=L+(F<<23&4294967295|F>>>9),F=R+(C^L^H)+N[1]+2763975236&4294967295,R=C+(F<<4&4294967295|F>>>28),F=H+(R^C^L)+N[4]+1272893353&4294967295,H=R+(F<<11&4294967295|F>>>21),F=L+(H^R^C)+N[7]+4139469664&4294967295,L=H+(F<<16&4294967295|F>>>16),F=C+(L^H^R)+N[10]+3200236656&4294967295,C=L+(F<<23&4294967295|F>>>9),F=R+(C^L^H)+N[13]+681279174&4294967295,R=C+(F<<4&4294967295|F>>>28),F=H+(R^C^L)+N[0]+3936430074&4294967295,H=R+(F<<11&4294967295|F>>>21),F=L+(H^R^C)+N[3]+3572445317&4294967295,L=H+(F<<16&4294967295|F>>>16),F=C+(L^H^R)+N[6]+76029189&4294967295,C=L+(F<<23&4294967295|F>>>9),F=R+(C^L^H)+N[9]+3654602809&4294967295,R=C+(F<<4&4294967295|F>>>28),F=H+(R^C^L)+N[12]+3873151461&4294967295,H=R+(F<<11&4294967295|F>>>21),F=L+(H^R^C)+N[15]+530742520&4294967295,L=H+(F<<16&4294967295|F>>>16),F=C+(L^H^R)+N[2]+3299628645&4294967295,C=L+(F<<23&4294967295|F>>>9),F=R+(L^(C|~H))+N[0]+4096336452&4294967295,R=C+(F<<6&4294967295|F>>>26),F=H+(C^(R|~L))+N[7]+1126891415&4294967295,H=R+(F<<10&4294967295|F>>>22),F=L+(R^(H|~C))+N[14]+2878612391&4294967295,L=H+(F<<15&4294967295|F>>>17),F=C+(H^(L|~R))+N[5]+4237533241&4294967295,C=L+(F<<21&4294967295|F>>>11),F=R+(L^(C|~H))+N[12]+1700485571&4294967295,R=C+(F<<6&4294967295|F>>>26),F=H+(C^(R|~L))+N[3]+2399980690&4294967295,H=R+(F<<10&4294967295|F>>>22),F=L+(R^(H|~C))+N[10]+4293915773&4294967295,L=H+(F<<15&4294967295|F>>>17),F=C+(H^(L|~R))+N[1]+2240044497&4294967295,C=L+(F<<21&4294967295|F>>>11),F=R+(L^(C|~H))+N[8]+1873313359&4294967295,R=C+(F<<6&4294967295|F>>>26),F=H+(C^(R|~L))+N[15]+4264355552&4294967295,H=R+(F<<10&4294967295|F>>>22),F=L+(R^(H|~C))+N[6]+2734768916&4294967295,L=H+(F<<15&4294967295|F>>>17),F=C+(H^(L|~R))+N[13]+1309151649&4294967295,C=L+(F<<21&4294967295|F>>>11),F=R+(L^(C|~H))+N[4]+4149444226&4294967295,R=C+(F<<6&4294967295|F>>>26),F=H+(C^(R|~L))+N[11]+3174756917&4294967295,H=R+(F<<10&4294967295|F>>>22),F=L+(R^(H|~C))+N[2]+718787259&4294967295,L=H+(F<<15&4294967295|F>>>17),F=C+(H^(L|~R))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var C=R-this.blockSize,N=this.B,L=this.h,H=0;H<R;){if(L==0)for(;H<=C;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<R;)if(N[L++]=I.charCodeAt(H++),L==this.blockSize){a(this,N),L=0;break}}else for(;H<R;)if(N[L++]=I[H++],L==this.blockSize){a(this,N),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var C=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.u(I),I=Array(16),R=C=0;4>R;++R)for(var N=0;32>N;N+=8)I[C++]=this.g[R]>>>N&255;return I};function o(I,R){var C=u;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function l(I,R){this.h=R;for(var C=[],N=!0,L=I.length-1;0<=L;L--){var H=I[L]|0;N&&H==R||(C[L]=H,N=!1)}this.g=C}var u={};function f(I){return-128<=I&&128>I?o(I,function(R){return new l([R|0],0>R?-1:0)}):new l([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return A(h(-I));for(var R=[],C=1,N=0;I>=C;N++)R[N]=I/C|0,C*=4294967296;return new l(R,0)}function g(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return A(g(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(R,8)),N=v,L=0;L<I.length;L+=8){var H=Math.min(8,I.length-L),F=parseInt(I.substring(L,L+H),R);8>H?(H=h(Math.pow(R,H)),N=N.j(H).add(h(F))):(N=N.j(C),N=N.add(h(F)))}return N}var v=f(0),x=f(1),w=f(16777216);n=l.prototype,n.m=function(){if(D(this))return-A(this).m();for(var I=0,R=1,C=0;C<this.g.length;C++){var N=this.i(C);I+=(0<=N?N:4294967296+N)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(D(this))return"-"+A(this).toString(I);for(var R=h(Math.pow(I,6)),C=this,N="";;){var L=$(C,R).g;C=O(C,L.j(R));var H=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=L,E(C))return H+N;for(;6>H.length;)H="0"+H;N=H+N}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function D(I){return I.h==-1}n.l=function(I){return I=O(this,I),D(I)?-1:E(I)?0:1};function A(I){for(var R=I.g.length,C=[],N=0;N<R;N++)C[N]=~I.g[N];return new l(C,~I.h).add(x)}n.abs=function(){return D(this)?A(this):this},n.add=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],N=0,L=0;L<=R;L++){var H=N+(this.i(L)&65535)+(I.i(L)&65535),F=(H>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);N=F>>>16,H&=65535,F&=65535,C[L]=F<<16|H}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(I,R){return I.add(A(R))}n.j=function(I){if(E(this)||E(I))return v;if(D(this))return D(I)?A(this).j(A(I)):A(A(this).j(I));if(D(I))return A(this.j(A(I)));if(0>this.l(w)&&0>I.l(w))return h(this.m()*I.m());for(var R=this.g.length+I.g.length,C=[],N=0;N<2*R;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<I.g.length;L++){var H=this.i(N)>>>16,F=this.i(N)&65535,Te=I.i(L)>>>16,xe=I.i(L)&65535;C[2*N+2*L]+=F*xe,U(C,2*N+2*L),C[2*N+2*L+1]+=H*xe,U(C,2*N+2*L+1),C[2*N+2*L+1]+=F*Te,U(C,2*N+2*L+1),C[2*N+2*L+2]+=H*Te,U(C,2*N+2*L+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new l(C,0)};function U(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function B(I,R){this.g=I,this.h=R}function $(I,R){if(E(R))throw Error("division by zero");if(E(I))return new B(v,v);if(D(I))return R=$(A(I),R),new B(A(R.g),A(R.h));if(D(R))return R=$(I,A(R)),new B(A(R.g),R.h);if(30<I.g.length){if(D(I)||D(R))throw Error("slowDivide_ only works with positive integers.");for(var C=x,N=R;0>=N.l(I);)C=k(C),N=k(N);var L=Y(C,1),H=Y(N,1);for(N=Y(N,2),C=Y(C,2);!E(N);){var F=H.add(N);0>=F.l(I)&&(L=L.add(C),H=F),N=Y(N,1),C=Y(C,1)}return R=O(I,L.j(R)),new B(L,R)}for(L=v;0<=I.l(R);){for(C=Math.max(1,Math.floor(I.m()/R.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),H=h(C),F=H.j(R);D(F)||0<F.l(I);)C-=N,H=h(C),F=H.j(R);E(H)&&(H=x),L=L.add(H),I=O(I,F)}return new B(L,I)}n.A=function(I){return $(this,I).h},n.and=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)&I.i(N);return new l(C,this.h&I.h)},n.or=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)|I.i(N);return new l(C,this.h|I.h)},n.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],N=0;N<R;N++)C[N]=this.i(N)^I.i(N);return new l(C,this.h^I.h)};function k(I){for(var R=I.g.length+1,C=[],N=0;N<R;N++)C[N]=I.i(N)<<1|I.i(N-1)>>>31;return new l(C,I.h)}function Y(I,R){var C=R>>5;R%=32;for(var N=I.g.length-C,L=[],H=0;H<N;H++)L[H]=0<R?I.i(H+C)>>>R|I.i(H+C+1)<<32-R:I.i(H+C);return new l(L,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,Us=l}).apply(typeof MT<"u"?MT:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,Zu,BA,Lh,U0,FA,zA,HA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,T){return m==Array.prototype||m==Object.prototype||(m[_]=T.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var T=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var J=m[V];if(!(J in T))break e;T=T[J]}m=m[m.length-1],V=T[m],_=_(V),_!=V&&_!=null&&e(T,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var T=0,V=!1,J={next:function(){if(!V&&T<m.length){var ie=T++;return{value:_(ie,m[ie]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(m){return m||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,T){return m.call.apply(m.bind,arguments)}function v(m,_,T){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),m.apply(_,J)}}return function(){return m.apply(_,arguments)}}function x(m,_,T){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,x.apply(null,arguments)}function w(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var V=T.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function E(m,_){function T(){}T.prototype=_.prototype,m.aa=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(V,J,ie){for(var Ee=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Ee[gt-2]=arguments[gt];return _.prototype[J].apply(V,Ee)}}function D(m){const _=m.length;if(0<_){const T=Array(_);for(let V=0;V<_;V++)T[V]=m[V];return T}return[]}function A(m,_){for(let T=1;T<arguments.length;T++){const V=arguments[T];if(f(V)){const J=m.length||0,ie=V.length||0;m.length=J+ie;for(let Ee=0;Ee<ie;Ee++)m[J+Ee]=V[Ee]}else m.push(V)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var k=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Y(m,_,T){for(const V in m)_.call(T,m[V],V,m)}function I(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function R(m){const _={};for(const T in m)_[T]=m[T];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,_){let T,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(T in V)m[T]=V[T];for(let ie=0;ie<C.length;ie++)T=C[ie],Object.prototype.hasOwnProperty.call(V,T)&&(m[T]=V[T])}}function L(m){var _=1;m=m.split(":");const T=[];for(;0<_&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function H(m){u.setTimeout(()=>{throw m},0)}function F(){var m=be;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Te{constructor(){this.h=this.g=null}add(_,T){const V=xe.get();V.set(_,T),this.h?this.h.next=V:this.g=V,this.h=V}}var xe=new O(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,se=!1,be=new Te,P=()=>{const m=u.Promise.resolve(void 0);ne=()=>{m.then(ee)}};var ee=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(T){H(T)}var _=xe;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}se=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return m}();function ze(m,_){if(de.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(k){e:{try{$(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ge[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ze.aa.h.call(this)}}E(ze,de);var Ge={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),it=0;function He(m,_,T,V,J){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!V,this.ha=J,this.key=++it,this.da=this.fa=!1}function ge(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function pe(m){this.src=m,this.g={},this.h=0}pe.prototype.add=function(m,_,T,V,J){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var Ee=Me(m,_,V,J);return-1<Ee?(_=m[Ee],T||(_.fa=!1)):(_=new He(_,this.src,ie,!!V,J),_.fa=T,m.push(_)),_};function ke(m,_){var T=_.type;if(T in m.g){var V=m.g[T],J=Array.prototype.indexOf.call(V,_,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(V,J,1),ie&&(ge(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Me(m,_,T,V){for(var J=0;J<m.length;++J){var ie=m[J];if(!ie.da&&ie.listener==_&&ie.capture==!!T&&ie.ha==V)return J}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),zt={};function we(m,_,T,V,J){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)we(m,_[ie],T,V,J);return null}return T=pn(T),m&&m[Ut]?m.K(_,T,h(V)?!!V.capture:!1,J):Ie(m,_,T,!1,V,J)}function Ie(m,_,T,V,J,ie){if(!_)throw Error("Invalid event type");var Ee=h(J)?!!J.capture:!!J,gt=En(m);if(gt||(m[Ze]=gt=new pe(m)),T=gt.add(_,T,V,Ee,ie),T.proxy)return T;if(V=nt(),T.proxy=V,V.src=m,V.listener=T,m.addEventListener)_e||(J=Ee),J===void 0&&(J=!1),m.addEventListener(_.toString(),V,J);else if(m.attachEvent)m.attachEvent(sn(_.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return T}function nt(){function m(T){return _.call(m.src,m.listener,T)}const _=sr;return m}function ot(m,_,T,V,J){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)ot(m,_[ie],T,V,J);else V=h(V)?!!V.capture:!!V,T=pn(T),m&&m[Ut]?(m=m.i,_=String(_).toString(),_ in m.g&&(ie=m.g[_],T=Me(ie,T,V,J),-1<T&&(ge(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete m.g[_],m.h--)))):m&&(m=En(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Me(_,T,V,J)),(T=-1<m?_[m]:null)&&Jt(T))}function Jt(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ut])ke(_.i,m);else{var T=m.type,V=m.proxy;_.removeEventListener?_.removeEventListener(T,V,m.capture):_.detachEvent?_.detachEvent(sn(T),V):_.addListener&&_.removeListener&&_.removeListener(V),(T=En(_))?(ke(T,m),T.h==0&&(T.src=null,_[Ze]=null)):ge(m)}}}function sn(m){return m in zt?zt[m]:zt[m]="on"+m}function sr(m,_){if(m.da)m=!0;else{_=new ze(_,this);var T=m.listener,V=m.ha||m.src;m.fa&&Jt(m),m=T.call(V,_)}return m}function En(m){return m=m[Ze],m instanceof pe?m:null}var Ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function pn(m){return typeof m=="function"?m:(m[Ht]||(m[Ht]=function(_){return m.handleEvent(_)}),m[Ht])}function Ot(){ce.call(this),this.i=new pe(this),this.M=this,this.F=null}E(Ot,ce),Ot.prototype[Ut]=!0,Ot.prototype.removeEventListener=function(m,_,T,V){ot(this,m,_,T,V)};function gn(m,_){var T,V=m.F;if(V)for(T=[];V;V=V.F)T.push(V);if(m=m.M,V=_.type||_,typeof _=="string")_=new de(_,m);else if(_ instanceof de)_.target=_.target||m;else{var J=_;_=new de(V,m),N(_,J)}if(J=!0,T)for(var ie=T.length-1;0<=ie;ie--){var Ee=_.g=T[ie];J=Lr(Ee,V,!0,_)&&J}if(Ee=_.g=m,J=Lr(Ee,V,!0,_)&&J,J=Lr(Ee,V,!1,_)&&J,T)for(ie=0;ie<T.length;ie++)Ee=_.g=T[ie],J=Lr(Ee,V,!1,_)&&J}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var T=m.g[_],V=0;V<T.length;V++)ge(T[V]);delete m.g[_],m.h--}}this.F=null},Ot.prototype.K=function(m,_,T,V){return this.i.add(String(m),_,!1,T,V)},Ot.prototype.L=function(m,_,T,V){return this.i.add(String(m),_,!0,T,V)};function Lr(m,_,T,V){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,ie=0;ie<_.length;++ie){var Ee=_[ie];if(Ee&&!Ee.da&&Ee.capture==T){var gt=Ee.listener,Nn=Ee.ha||Ee.src;Ee.fa&&ke(m.i,Ee),J=gt.call(Nn,V)!==!1&&J}}return J&&!V.defaultPrevented}function dl(m,_,T){if(typeof m=="function")T&&(m=x(m,T));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Nr(m){m.g=dl(()=>{m.g=null,m.i&&(m.i=!1,Nr(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class fl extends ce{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(m){ce.call(this),this.h=m,this.g={}}E(ja,ce);var Ea=[];function Ln(m){Y(m.g,function(_,T){this.g.hasOwnProperty(T)&&Jt(_)},m),m.g={}}ja.prototype.N=function(){ja.aa.N.call(this),Ln(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ns=u.JSON.stringify,vr=u.JSON.parse,Un=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function gi(){}gi.prototype.h=null;function hl(m){return m.h||(m.h=m.i())}function io(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){de.call(this,"d")}E(Ta,de);function or(){de.call(this,"c")}E(or,de);var Qn={},Va=null;function rs(){return Va=Va||new Ot}Qn.La="serverreachability";function q(m){de.call(this,Qn.La,m)}E(q,de);function W(m){const _=rs();gn(_,new q(_))}Qn.STAT_EVENT="statevent";function ae(m,_){de.call(this,Qn.STAT_EVENT,m),this.stat=_}E(ae,de);function ue(m){const _=rs();gn(_,new ae(_,m))}Qn.Ma="timingevent";function Se(m,_){de.call(this,Qn.Ma,m),this.size=_}E(Se,de);function Ye(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ve(m,_,T,V,J,ie){m.info(function(){if(m.g)if(ie)for(var Ee="",gt=ie.split("&"),Nn=0;Nn<gt.length;Nn++){var yt=gt[Nn].split("=");if(1<yt.length){var zn=yt[0];yt=yt[1];var Mn=zn.split("_");Ee=2<=Mn.length&&Mn[1]=="type"?Ee+(zn+"="+yt+"&"):Ee+(zn+"=redacted&")}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+_+`
`+T+`
`+Ee})}function Ue(m,_,T,V,J,ie,Ee){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+_+`
`+T+`
`+ie+" "+Ee})}function De(m,_,T,V){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Oe(m,T)+(V?" "+V:"")})}function Pe(m,_){m.info(function(){return"TIMEOUT: "+_})}Fe.prototype.info=function(){};function Oe(m,_){if(!m.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var V=T[m];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ee=1;Ee<J.length;Ee++)J[Ee]=""}}}}return ns(T)}catch{return _}}var Qe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wt;function Bt(){}E(Bt,gi),Bt.prototype.g=function(){return new XMLHttpRequest},Bt.prototype.i=function(){return{}},Wt=new Bt;function _t(m,_,T,V){this.j=m,this.i=_,this.l=T,this.R=V||1,this.U=new ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var br={},Ur={};function yn(m,_,T){m.L=1,m.v=co(on(_)),m.m=T,m.P=!0,Tn(m,null)}function Tn(m,_){m.F=Date.now(),Rt(m),m.A=on(m.v);var T=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),xi(T.i,"t",V),m.C=0,T=m.j.J,m.h=new Qt,m.g=df(m.j,T?_:null,!m.m),0<m.O&&(m.M=new fl(x(m.Y,m,m.g),m.O)),_=m.U,T=m.g,V=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(Ea[0]=J.toString()),J=Ea);for(var ie=0;ie<J.length;ie++){var Ee=we(T,J[ie],V||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=m.H?R(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),W(),Ve(m.i,m.u,m.A,m.l,m.R,m.m)}_t.prototype.ca=function(m){m=m.target;const _=this.M;_&&ra(m)==3?_.j():this.Y(m)},_t.prototype.Y=function(m){try{if(m==this.g)e:{const Mn=ra(this.g);var _=this.g.Ba();const Ti=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||nf(this.g)))){this.J||Mn!=4||_==7||(_==8||0>=Ti?W(3):W(2)),Sa(this);var T=this.g.Z();this.X=T;t:if(Xr(this)){var V=nf(this.g);m="";var J=V.length,ie=ra(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),st(this);var Ee="";break t}this.h.i=new u.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,m+=this.h.i.decode(V[_],{stream:!(ie&&_==J-1)});V.length=0,this.h.g+=m,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=T==200,Ue(this.i,this.u,this.A,this.l,this.R,Mn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,Nn=this.g;if((gt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(gt)){var yt=gt;break t}}yt=null}if(T=yt)De(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bn(this,T);else{this.o=!1,this.s=3,ue(12),Ct(this),st(this);break e}}if(this.P){T=!0;let Kn;for(;!this.J&&this.C<Ee.length;)if(Kn=Mr(this,Ee),Kn==Ur){Mn==4&&(this.s=4,ue(14),T=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==br){this.s=4,ue(15),De(this.i,this.l,Ee,"[Invalid Chunk]"),T=!1;break}else De(this.i,this.l,Kn,null),Bn(this,Kn);if(Xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Ee.length!=0||this.h.h||(this.s=1,ue(16),T=!1),this.o=this.o&&T,!T)De(this.i,this.l,Ee,"[Invalid Chunked Response]"),Ct(this),st(this);else if(0<Ee.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),yo(zn),zn.M=!0,ue(11))}}else De(this.i,this.l,Ee,null),Bn(this,Ee);Mn==4&&Ct(this),this.o&&!this.J&&(Mn==4?lf(this.j,this):(this.o=!1,Rt(this)))}else Np(this.g),T==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),Ct(this),st(this)}}}catch{}finally{}};function Xr(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Mr(m,_){var T=m.C,V=_.indexOf(`
`,T);return V==-1?Ur:(T=Number(_.substring(T,V)),isNaN(T)?br:(V+=1,V+T>_.length?Ur:(_=_.slice(V,V+T),m.C=V+T,_)))}_t.prototype.cancel=function(){this.J=!0,Ct(this)};function Rt(m){m.S=Date.now()+m.I,La(m,m.I)}function La(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ye(x(m.ba,m),_)}function Sa(m){m.B&&(u.clearTimeout(m.B),m.B=null)}_t.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Pe(this.i,this.A),this.L!=2&&(W(),ue(17)),Ct(this),this.s=2,st(this)):La(this,this.S-m)};function st(m){m.j.G==0||m.J||lf(m.j,m)}function Ct(m){Sa(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Ln(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Bn(m,_){try{var T=m.j;if(T.G!=0&&(T.g==m||Ua(T.h,m))){if(!m.K&&Ua(T.h,m)&&T.G==3){try{var V=T.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)El(T),_l(T);else break e;Kc(T),ue(18)}}else T.za=J[1],0<T.za-T.T&&37500>J[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ye(x(T.Za,T),6e3));if(1>=so(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ei(T,11)}else if((m.K||T.g==m)&&El(T),!U(_))for(J=T.Da.g.parse(_),_=0;_<J.length;_++){let yt=J[_];if(T.T=yt[0],yt=yt[1],T.G==2)if(yt[0]=="c"){T.K=yt[1],T.ia=yt[2];const zn=yt[3];zn!=null&&(T.la=zn,T.j.info("VER="+T.la));const Mn=yt[4];Mn!=null&&(T.Aa=Mn,T.j.info("SVER="+T.Aa));const Ti=yt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(V=1.5*Ti,T.L=V,T.j.info("backChannelRequestTimeoutMs_="+V)),V=T;const Kn=m.g;if(Kn){const $a=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var ie=V.h;ie.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(as(ie,ie.h),ie.h=null))}if(V.D){const Xc=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(V.ya=Xc,St(V.I,V.D,Xc))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),V=T;var Ee=m;if(V.qa=uf(V,V.J?V.ia:null,V.W),Ee.K){Jr(V.h,Ee);var gt=Ee,Nn=V.L;Nn&&(gt.I=Nn),gt.B&&(Sa(gt),Rt(gt)),V.g=Ee}else sf(V);0<T.i.length&&wl(T)}else yt[0]!="stop"&&yt[0]!="close"||Ei(T,7);else T.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Ei(T,7):Gc(T):yt[0]!="noop"&&T.l&&T.l.ta(yt),T.v=0)}}W(4)}catch{}}var yi=class{constructor(m,_){this.g=m,this.map=_}};function Yt(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function so(m){return m.h?1:m.g?m.g.size:0}function Ua(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function as(m,_){m.g?m.g.add(_):m.h=_}function Jr(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Yt.prototype.cancel=function(){if(this.i=xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.D);return _}return D(m.i)}function Zd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],T=m.length,V=0;V<T;V++)_.push(m[V]);return _}_=[],T=0;for(V in m)_[T++]=m[V];return _}function Dp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var T=0;T<m;T++)_.push(T);return _}_=[],T=0;for(const V in m)_[T++]=V;return _}}}function oo(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var T=Dp(m),V=Zd(m),J=V.length,ie=0;ie<J;ie++)_.call(void 0,V[ie],T&&T[ie],m)}var Fc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ml(m,_){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var V=m[T].indexOf("="),J=null;if(0<=V){var ie=m[T].substring(0,V);J=m[T].substring(V+1)}else ie=m[T];_(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function vi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof vi){this.h=m.h,is(this,m.j),this.o=m.o,this.g=m.g,lo(this,m.s),this.l=m.l;var _=m.i,T=new Ba;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),pl(this,T),this.m=m.m}else m&&(_=String(m).match(Fc))?(this.h=!1,is(this,_[1]||"",!0),this.o=ss(_[2]||""),this.g=ss(_[3]||"",!0),lo(this,_[4]),this.l=ss(_[5]||"",!0),pl(this,_[6]||"",!0),this.m=ss(_[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}vi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(ea(_,zc,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(ea(_,zc,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(ea(T,T.charAt(0)=="/"?Hc:Jd,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",ea(T,Cp)),m.join("")};function on(m){return new vi(m)}function is(m,_,T){m.j=T?ss(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function lo(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function pl(m,_,T){_ instanceof Ba?(m.i=_,Yc(m.i,m.h)):(T||(_=ea(_,Rp)),m.i=new Ba(_,m.h))}function St(m,_,T){m.i.set(_,T)}function co(m){return St(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ss(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ea(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,Ap),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ap(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var zc=/[#\/\?@]/g,Jd=/[#\?:]/g,Hc=/[#\?]/g,Rp=/[#\?@]/g,Cp=/#/g;function Ba(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ta(m){m.g||(m.g=new Map,m.h=0,m.i&&ml(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Ba.prototype,n.add=function(m,_){ta(this),this.i=null,m=_i(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function gl(m,_){ta(m),_=_i(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function bi(m,_){return ta(m),_=_i(m,_),m.g.has(_)}n.forEach=function(m,_){ta(this),this.g.forEach(function(T,V){T.forEach(function(J){m.call(_,J,V,this)},this)},this)},n.na=function(){ta(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let V=0;V<_.length;V++){const J=m[V];for(let ie=0;ie<J.length;ie++)T.push(_[V])}return T},n.V=function(m){ta(this);let _=[];if(typeof m=="string")bi(this,m)&&(_=_.concat(this.g.get(_i(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)_=_.concat(m[T])}return _},n.set=function(m,_){return ta(this),this.i=null,m=_i(this,m),bi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function xi(m,_,T){gl(m,_),0<T.length&&(m.i=null,m.g.set(_i(m,_),D(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var V=_[T];const ie=encodeURIComponent(String(V)),Ee=this.V(V);for(V=0;V<Ee.length;V++){var J=ie;Ee[V]!==""&&(J+="="+encodeURIComponent(String(Ee[V]))),m.push(J)}}return this.i=m.join("&")};function _i(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Yc(m,_){_&&!m.j&&(ta(m),m.i=null,m.g.forEach(function(T,V){var J=V.toLowerCase();V!=J&&(gl(this,V),xi(this,J,T))},m)),m.j=_}function ef(m,_){const T=new Fe;if(u.Image){const V=new Image;V.onload=w(na,T,"TestLoadImage: loaded",!0,_,V),V.onerror=w(na,T,"TestLoadImage: error",!1,_,V),V.onabort=w(na,T,"TestLoadImage: abort",!1,_,V),V.ontimeout=w(na,T,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else _(!1)}function uo(m,_){const T=new Fe,V=new AbortController,J=setTimeout(()=>{V.abort(),na(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:V.signal}).then(ie=>{clearTimeout(J),ie.ok?na(T,"TestPingServer: ok",!0,_):na(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),na(T,"TestPingServer: error",!1,_)})}function na(m,_,T,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(T)}catch{}}function fo(){this.g=new Un}function Fa(m,_,T){const V=T||"";try{oo(m,function(J,ie){let Ee=J;h(J)&&(Ee=ns(J)),_.push(V+ie+"="+encodeURIComponent(Ee))})}catch(J){throw _.push(V+"type="+encodeURIComponent("_badmap")),J}}function os(m){this.l=m.Ub||null,this.j=m.eb||!1}E(os,gi),os.prototype.g=function(){return new wi(this.l,this.j)},os.prototype.i=function(m){return function(){return m}}({});function wi(m,_){Ot.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wi,Ot),n=wi.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ha(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function qc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?za(this):Ha(this),this.readyState==3&&qc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,za(this))},n.Qa=function(m){this.g&&(this.response=m,za(this))},n.ga=function(){this.g&&za(this)};function za(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ha(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function Ha(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function $c(m){let _="";return Y(m,function(T,V){_+=V,_+=":",_+=T,_+=`\r
`}),_}function Fn(m,_,T){e:{for(V in T){var V=!1;break e}V=!0}V||(T=$c(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):St(m,_,T))}function Mt(m){Ot.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Mt,Ot);var yl=/^https?$/i,ho=["POST","PUT"];n=Mt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,T,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wt.g(),this.v=this.o?hl(this.o):hl(Wt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ie){tf(this,ie);return}if(m=T||"",T=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)T.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())T.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ho,_,void 0))||V||J||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of T)this.g.setRequestHeader(ie,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){tf(this,ie)}};function tf(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,vl(m),Ya(m)}function vl(m){m.A||(m.A=!0,gn(m,"complete"),gn(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,gn(this,"complete"),gn(this,"abort"),Ya(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),Mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bl(this):this.bb())},n.bb=function(){bl(this)};function bl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||ra(m)!=4||m.Z()!=2)){if(m.u&&ra(m)==4)dl(m.Ea,0,m);else if(gn(m,"readystatechange"),ra(m)==4){m.h=!1;try{const Ee=m.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var V;if(V=Ee===0){var J=String(m.D).match(Fc)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),V=!yl.test(J?J.toLowerCase():"")}T=V}if(T)gn(m,"complete"),gn(m,"success");else{m.m=6;try{var ie=2<ra(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",vl(m)}}finally{Ya(m)}}}}function Ya(m,_){if(m.g){mo(m);const T=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||gn(m,"ready");try{T.onreadystatechange=V}catch{}}}function mo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function ra(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<ra(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),vr(_)}};function nf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Np(m){const _={};m=(m.g&&2<=ra(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(U(m[V]))continue;var T=L(m[V]);const J=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=_[J]||[];_[J]=ie,ie.push(T)}I(_,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function xl(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,m),this.cb=po("retryDelaySeedMs",1e4,m),this.Wa=po("forwardChannelMaxRetries",2,m),this.wa=po("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Yt(m&&m.concurrentRequestLimit),this.Da=new fo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xl.prototype,n.la=8,n.G=1,n.connect=function(m,_,T,V){ue(0),this.W=m,this.H=_||{},T&&V!==void 0&&(this.H.OSID=T,this.H.OAID=V),this.F=this.X,this.I=uf(this,null,this.W),wl(this)};function Gc(m){if(rf(m),m.G==3){var _=m.U++,T=on(m.I);if(St(T,"SID",m.K),St(T,"RID",_),St(T,"TYPE","terminate"),go(m,T),_=new _t(m,m.j,_),_.L=2,_.v=co(on(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.v,T=!0),T||(_.g=df(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Rt(_)}cf(m)}function _l(m){m.g&&(yo(m),m.g.cancel(),m.g=null)}function rf(m){_l(m),m.u&&(u.clearTimeout(m.u),m.u=null),El(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function wl(m){if(!Zr(m.h)&&!m.s){m.s=!0;var _=m.Ga;ne||P(),se||(ne(),se=!0),be.add(_,m),m.B=0}}function Mp(m,_){return so(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ye(x(m.Ga,m,_),Wc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new _t(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=R(ie),N(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var V=this.i[T];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=af(this,J,_),T=on(this.I),St(T,"RID",m),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),go(this,T),ie&&(this.O?_="headers="+encodeURIComponent(String($c(ie)))+"&"+_:this.m&&Fn(T,this.m,ie)),as(this.h,J),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",_),St(T,"SID","null"),J.T=!0,yn(J,T,null)):yn(J,T,_),this.G=2}}else this.G==3&&(m?Qc(this,m):this.i.length==0||Zr(this.h)||Qc(this))};function Qc(m,_){var T;_?T=_.l:T=m.U++;const V=on(m.I);St(V,"SID",m.K),St(V,"RID",T),St(V,"AID",m.T),go(m,V),m.m&&m.o&&Fn(V,m.m,m.o),T=new _t(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),_&&(m.i=_.D.concat(m.i)),_=af(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),as(m.h,T),yn(T,V,_)}function go(m,_){m.H&&Y(m.H,function(T,V){St(_,V,T)}),m.l&&oo({},function(T,V){St(_,V,T)})}function af(m,_,T){T=Math.min(m.i.length,T);var V=m.l?x(m.l.Na,m.l,m):null;e:{var J=m.i;let ie=-1;for(;;){const Ee=["count="+T];ie==-1?0<T?(ie=J[0].g,Ee.push("ofs="+ie)):ie=0:Ee.push("ofs="+ie);let gt=!0;for(let Nn=0;Nn<T;Nn++){let yt=J[Nn].g;const zn=J[Nn].map;if(yt-=ie,0>yt)ie=Math.max(0,J[Nn].g-100),gt=!1;else try{Fa(zn,Ee,"req"+yt+"_")}catch{V&&V(zn)}}if(gt){V=Ee.join("&");break e}}}return m=m.i.splice(0,T),_.D=m,V}function sf(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ne||P(),se||(ne(),se=!0),be.add(_,m),m.v=0}}function Kc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ye(x(m.Fa,m),Wc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,of(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ye(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),_l(this),of(this))};function yo(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function of(m){m.g=new _t(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=on(m.qa);St(_,"RID","rpc"),St(_,"SID",m.K),St(_,"AID",m.T),St(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&St(_,"TO",m.ja),St(_,"TYPE","xmlhttp"),go(m,_),m.m&&m.o&&Fn(_,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=co(on(_)),T.m=null,T.P=!0,Tn(T,m)}n.Za=function(){this.C!=null&&(this.C=null,_l(this),Kc(this),ue(19))};function El(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function lf(m,_){var T=null;if(m.g==_){El(m),yo(m),m.g=null;var V=2}else if(Ua(m.h,_))T=_.D,Jr(m.h,_),V=1;else return;if(m.G!=0){if(_.o)if(V==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var J=m.B;V=rs(),gn(V,new Se(V,T)),wl(m)}else sf(m);else if(J=_.s,J==3||J==0&&0<_.X||!(V==1&&Mp(m,_)||V==2&&Kc(m)))switch(T&&0<T.length&&(_=m.h,_.i=_.i.concat(T)),J){case 1:Ei(m,5);break;case 4:Ei(m,10);break;case 3:Ei(m,6);break;default:Ei(m,2)}}}function Wc(m,_){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*_}function Ei(m,_){if(m.j.info("Error code "+_),_==2){var T=x(m.fb,m),V=m.Xa;const J=!V;V=new vi(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||is(V,"https"),co(V),J?ef(V.toString(),T):uo(V.toString(),T)}else ue(2);m.G=0,m.l&&m.l.sa(_),cf(m),rf(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function cf(m){if(m.G=0,m.ka=[],m.l){const _=xr(m.h);(_.length!=0||m.i.length!=0)&&(A(m.ka,_),A(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function uf(m,_,T){var V=T instanceof vi?on(T):new vi(T);if(V.g!="")_&&(V.g=_+"."+V.g),lo(V,V.s);else{var J=u.location;V=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var ie=new vi(null);V&&is(ie,V),_&&(ie.g=_),J&&lo(ie,J),T&&(ie.l=T),V=ie}return T=m.D,_=m.ya,T&&_&&St(V,T,_),St(V,"VER",m.la),go(m,V),V}function df(m,_,T){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Mt(new os({eb:T})):new Mt(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ff(){}n=ff.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tl(){}Tl.prototype.g=function(m,_){return new _r(m,_)};function _r(m,_){Ot.call(this),this.g=new xl(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!U(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new qa(this)}E(_r,Ot),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){Gc(this.g)},_r.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=ns(m),m=T);_.i.push(new yi(_.Ya++,m)),_.G==3&&wl(_)},_r.prototype.N=function(){this.g.l=null,delete this.j,Gc(this.g),delete this.g,_r.aa.N.call(this)};function hf(m){Ta.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const T in _){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}E(hf,Ta);function mf(){or.call(this),this.status=1}E(mf,or);function qa(m){this.g=m}E(qa,ff),qa.prototype.ua=function(){gn(this.g,"a")},qa.prototype.ta=function(m){gn(this.g,new hf(m))},qa.prototype.sa=function(m){gn(this.g,new mf)},qa.prototype.ra=function(){gn(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,HA=function(){return new Tl},zA=function(){return rs()},FA=Qn,U0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qe.NO_ERROR=0,Qe.TIMEOUT=8,Qe.HTTP_ERROR=6,Lh=Qe,Tt.COMPLETE="complete",BA=Tt,io.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Zu=io,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,UA=Mt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const kT="@firebase/firestore",PT="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new CA("@firebase/firestore");function Jl(){return Zo.logLevel}function Ce(n,...e){if(Zo.logLevel<=xt.DEBUG){const t=e.map(yb);Zo.debug(`Firestore (${Oc}): ${n}`,...t)}}function Xi(n,...e){if(Zo.logLevel<=xt.ERROR){const t=e.map(yb);Zo.error(`Firestore (${Oc}): ${n}`,...t)}}function gc(n,...e){if(Zo.logLevel<=xt.WARN){const t=e.map(yb);Zo.warn(`Firestore (${Oc}): ${n}`,...t)}}function yb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YA(n,r,t)}function YA(n,e,t){let r=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xi(r),new Error(r)}function Pt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||YA(e,a,r)}function tt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ol{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fr.UNAUTHENTICATED))}shutdown(){}}class w5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class E5{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Pt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hi,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},u=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pt(typeof r.accessToken=="string",31837,{l:r}),new qA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class T5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new T5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,PA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Pt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new OT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new OT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=A5(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function ct(n,e){return n<e?-1:n>e?1:0}function B0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return ct(r,a);{const o=$A(),l=R5(o.encode(IT(n,t)),o.encode(IT(e,t)));return l!==0?l:ct(r,a)}}t+=r>65535?2:1}return ct(n.length,e.length)}function IT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function R5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ct(n[t],e[t]);return ct(n.length,e.length)}function yc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=-62135596800,VT=1e6;class In{static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*VT);return new In(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jT)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VT}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new In(0,0))}static max(){return new Je(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__name__";class Za{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Za.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Za?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Za.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return ct(e.length,t.length)}static compareSegments(e,t){const r=Za.isNumericId(e),a=Za.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Za.extractNumericId(e).compare(Za.extractNumericId(t)):B0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class Kt extends Za{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const C5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Za{construct(e,t,r){return new tr(e,t,r)}static isValidIdentifier(e){return C5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LT}static keyField(){return new tr([LT])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(o(),a++)}if(o(),l)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Kt.fromString(e))}static fromName(e){return new $e(Kt.fromString(e).popFirst(5))}static empty(){return new $e(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function N5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Je.fromTimestamp(r===1e9?new In(t+1,0):new In(t,r));return new $s(a,$e.empty(),e)}function M5(n){return new $s(n.readTime,n.key,Sd)}class $s{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $s(Je.min(),$e.empty(),Sd)}static max(){return new $s(Je.max(),$e.empty(),Sd)}}function k5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==P5)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,r)=>{t(e)})}static reject(e){return new me((t,r)=>{r(e)})}static waitFor(e){return new me((t,r)=>{let a=0,o=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++o,l&&o===a&&t()},f=>r(f))}),l=!0,o===a&&t()})}static or(e){let t=me.resolve(!1);for(const r of e)t=t.next(a=>a?me.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new me((r,a)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{l[h]=g,++u,u===o&&r(l)},g=>a(g))}})}static doWhile(e,t){return new me((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function I5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Km.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-1;function Wm(n){return n==null}function cm(n){return n===0&&1/n==-1/0}function j5(n){return typeof n=="number"&&Number.isInteger(n)&&!cm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="";function V5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UT(e)),e=L5(n.get(t),e);return UT(e)}function L5(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case QA:t+="";break;default:t+=o}}return t}function UT(n){return n+QA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t){this.comparator=e,this.root=t||er.EMPTY}insert(e,t){return new an(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??er.RED,this.left=a??er.EMPTY,this.right=o??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new er(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return er.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,t,r,a,o){return this}insert(e,t,r){return new er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FT(this.data.getIterator())}getIteratorFrom(e){return new FT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class FT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new $r([])}unionWith(e){let t=new jn(tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $r(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WA("Invalid base64 string: "+o):o}}(e);return new ar(t)}static fromUint8Array(e){const t=function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const U5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(Pt(!!n,39018),typeof n=="string"){let e=0;const t=U5.exec(n);if(Pt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qs(n){return typeof n=="string"?ar.fromBase64String(n):ar.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="server_timestamp",ZA="__type__",JA="__previous_value__",eR="__local_write_time__";function bb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZA])===null||t===void 0?void 0:t.stringValue)===XA}function Xm(n){const e=n.mapValue.fields[JA];return bb(e)?Xm(e):e}function Dd(n){const e=Gs(n.mapValue.fields[eR].timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,t,r,a,o,l,u,f,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=g}}const um="(default)";class Ad{constructor(e,t){this.projectId=e,this.database=t||um}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="__type__",F5="__max__",xh={mapValue:{}},nR="__vector__",dm="value";function Ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bb(n)?4:H5(n)?9007199254740991:z5(n)?10:11:Xe(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=Ks(n);if(t!==Ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dd(n).isEqual(Dd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Gs(a.timestampValue),u=Gs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return Qs(a.bytesValue).isEqual(Qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return xn(a.geoPointValue.latitude)===xn(o.geoPointValue.latitude)&&xn(a.geoPointValue.longitude)===xn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return xn(a.integerValue)===xn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=xn(a.doubleValue),u=xn(o.doubleValue);return l===u?cm(l)===cm(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(a,o){const l=a.mapValue.fields||{},u=o.mapValue.fields||{};if(BT(l)!==BT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!di(l[f],u[f])))return!1;return!0}(n,e);default:return Xe(52216,{left:n})}}function Rd(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function vc(n,e){if(n===e)return 0;const t=Ks(n),r=Ks(e);if(t!==r)return ct(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=xn(o.integerValue||o.doubleValue),f=xn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return zT(n.timestampValue,e.timestampValue);case 4:return zT(Dd(n),Dd(e));case 5:return B0(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Qs(o),f=Qs(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const g=ct(u[h],f[h]);if(g!==0)return g}return ct(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=ct(xn(o.latitude),xn(l.latitude));return u!==0?u:ct(xn(o.longitude),xn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return HT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,f,h,g;const v=o.fields||{},x=l.fields||{},w=(u=v[dm])===null||u===void 0?void 0:u.arrayValue,E=(f=x[dm])===null||f===void 0?void 0:f.arrayValue,D=ct(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((g=E==null?void 0:E.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:HT(w,E)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===xh.mapValue&&l===xh.mapValue)return 0;if(o===xh.mapValue)return 1;if(l===xh.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),h=l.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const x=B0(f[v],g[v]);if(x!==0)return x;const w=vc(u[f[v]],h[g[v]]);if(w!==0)return w}return ct(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Xe(23264,{Pe:t})}}function zT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=Gs(n),r=Gs(e),a=ct(t.seconds,r.seconds);return a!==0?a:ct(t.nanos,r.nanos)}function HT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=vc(t[a],r[a]);if(o)return o}return ct(t.length,r.length)}function bc(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Gs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=F0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${F0(t.fields[l])}`;return a+"}"}(n.mapValue):Xe(61005,{value:n})}function Uh(n){switch(Ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xm(n);return e?16+Uh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Uh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return no(r.fields,(o,l)=>{a+=o.length+Uh(l)}),a}(n.mapValue);default:throw Xe(13486,{value:n})}}function YT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function z0(n){return!!n&&"integerValue"in n}function xb(n){return!!n&&"arrayValue"in n}function qT(n){return!!n&&"nullValue"in n}function $T(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function z5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tR])===null||t===void 0?void 0:t.stringValue)===nR}function ld(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ld(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ld(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=tr.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=ld(l):a.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){no(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Ir(ld(this.value))}}function rR(n){const e=[];return no(n.fields,(t,r)=>{const a=new tr([t]);if(Bh(r)){const o=rR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)}),new $r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,r,a,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new hr(e,0,Je.min(),Je.min(),Je.min(),Ir.empty(),0)}static newFoundDocument(e,t,r,a){return new hr(e,1,t,Je.min(),r,a,0)}static newNoDocument(e,t){return new hr(e,2,t,Je.min(),Je.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,Je.min(),Je.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this.position=e,this.inclusive=t}}function GT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],l=n.position[a];if(o.field.isKeyField()?r=$e.comparator($e.fromName(l.referenceValue),t.key):r=vc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class Cn extends aR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $5(e,t,r):t==="array-contains"?new K5(e,r):t==="in"?new W5(e,r):t==="not-in"?new X5(e,r):t==="array-contains-any"?new Z5(e,r):new Cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new G5(e,r):new Q5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vc(t,this.value)):t!==null&&Ks(this.value)===Ks(t)&&this.matchesComparison(vc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends aR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Pa(e,t)}matches(e){return iR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iR(n){return n.op==="and"}function sR(n){return q5(n)&&iR(n)}function q5(n){for(const e of n.filters)if(e instanceof Pa)return!1;return!0}function H0(n){if(n instanceof Cn)return n.field.canonicalString()+n.op.toString()+bc(n.value);if(sR(n))return n.filters.map(e=>H0(e)).join(",");{const e=n.filters.map(t=>H0(t)).join(",");return`${n.op}(${e})`}}function oR(n,e){return n instanceof Cn?function(r,a){return a instanceof Cn&&r.op===a.op&&r.field.isEqual(a.field)&&di(r.value,a.value)}(n,e):n instanceof Pa?function(r,a){return a instanceof Pa&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,l,u)=>o&&oR(l,a.filters[u]),!0):!1}(n,e):void Xe(19439)}function lR(n){return n instanceof Cn?function(t){return`${t.field.canonicalString()} ${t.op} ${bc(t.value)}`}(n):n instanceof Pa?function(t){return t.op.toString()+" {"+t.getFilters().map(lR).join(" ,")+"}"}(n):"Filter"}class $5 extends Cn{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class G5 extends Cn{constructor(e,t){super(e,"in",t),this.keys=cR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q5 extends Cn{constructor(e,t){super(e,"not-in",t),this.keys=cR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class K5 extends Cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xb(t)&&Rd(t.arrayValue,this.value)}}class W5 extends Cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rd(this.value.arrayValue,t)}}class X5 extends Cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Rd(this.value.arrayValue,t)}}class Z5 extends Cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,t=null,r=[],a=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function KT(n,e=null,t=[],r=[],a=null,o=null,l=null){return new J5(n,e,t,r,a,o,l)}function _b(n){const e=tt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>H0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Wm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),e.Ie=t}return e.Ie}function wb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Y5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QT(n.startAt,e.startAt)&&QT(n.endAt,e.endAt)}function Y0(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t=null,r=[],a=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eV(n,e,t,r,a,o,l,u){return new Vc(n,e,t,r,a,o,l,u)}function Zm(n){return new Vc(n)}function WT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uR(n){return n.collectionGroup!==null}function cd(n){const e=tt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new jn(tr.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Cd(o,r))}),t.has(tr.keyField().canonicalString())||e.Ee.push(new Cd(tr.keyField(),r))}return e.Ee}function li(n){const e=tt(n);return e.de||(e.de=tV(e,cd(n))),e.de}function tV(n,e){if(n.limitType==="F")return KT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Cd(a.field,o)});const t=n.endAt?new fm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fm(n.startAt.position,n.startAt.inclusive):null;return KT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function q0(n,e){const t=n.filters.concat([e]);return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $0(n,e,t){return new Vc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jm(n,e){return wb(li(n),li(e))&&n.limitType===e.limitType}function dR(n){return`${_b(li(n))}|lt:${n.limitType}`}function ec(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>lR(a)).join(", ")}]`),Wm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>bc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>bc(a)).join(",")),`Target(${r})`}(li(n))}; limitType=${n.limitType})`}function ep(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of cd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(l,u,f){const h=GT(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,cd(r),a)||r.endAt&&!function(l,u,f){const h=GT(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,cd(r),a))}(n,e)}function nV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fR(n){return(e,t)=>{let r=!1;for(const a of cd(n)){const o=rV(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function rV(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(o,l,u){const f=l.data.field(o),h=u.data.field(o);return f!==null&&h!==null?vc(f,h):Xe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new an($e.comparator);function Zi(){return aV}const hR=new an($e.comparator);function Ju(...n){let e=hR;for(const t of n)e=e.insert(t.key,t);return e}function mR(n){let e=hR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yo(){return ud()}function pR(){return ud()}function ud(){return new ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const iV=new an($e.comparator),sV=new jn($e.comparator);function mt(...n){let e=sV;for(const t of n)e=e.add(t);return e}const oV=new jn(ct);function lV(){return oV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function gR(n){return{integerValue:""+n}}function cV(n,e){return j5(e)?gR(e):Eb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function uV(n,e,t){return n instanceof Nd?function(a,o){const l={fields:{[ZA]:{stringValue:XA},[eR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&bb(o)&&(o=Xm(o)),o&&(l.fields[JA]=o),{mapValue:l}}(t,e):n instanceof xc?vR(n,e):n instanceof Md?bR(n,e):function(a,o){const l=yR(a,o),u=XT(l)+XT(a.Re);return z0(l)&&z0(a.Re)?gR(u):Eb(a.serializer,u)}(n,e)}function dV(n,e,t){return n instanceof xc?vR(n,e):n instanceof Md?bR(n,e):t}function yR(n,e){return n instanceof hm?function(r){return z0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nd extends tp{}class xc extends tp{constructor(e){super(),this.elements=e}}function vR(n,e){const t=xR(e);for(const r of n.elements)t.some(a=>di(a,r))||t.push(r);return{arrayValue:{values:t}}}class Md extends tp{constructor(e){super(),this.elements=e}}function bR(n,e){let t=xR(e);for(const r of n.elements)t=t.filter(a=>!di(a,r));return{arrayValue:{values:t}}}class hm extends tp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function XT(n){return xn(n.integerValue||n.doubleValue)}function xR(n){return xb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.field=e,this.transform=t}}function fV(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof xc&&a instanceof xc||r instanceof Md&&a instanceof Md?yc(r.elements,a.elements,di):r instanceof hm&&a instanceof hm?di(r.Re,a.Re):r instanceof Nd&&a instanceof Nd}(n.transform,e.transform)}class hV{constructor(e,t){this.version=e,this.transformResults=t}}class xa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xa}static exists(e){return new xa(void 0,e)}static updateTime(e){return new xa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class np{}function wR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tb(n.key,xa.none()):new Hd(n.key,n.data,xa.none());{const t=n.data,r=Ir.empty();let a=new jn(tr.comparator);for(let o of e.fields)if(!a.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new ro(n.key,r,new $r(a.toArray()),xa.none())}}function mV(n,e,t){n instanceof Hd?function(a,o,l){const u=a.value.clone(),f=JT(a.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ro?function(a,o,l){if(!Fh(a.precondition,o))return void o.convertToUnknownDocument(l.version);const u=JT(a.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(ER(a)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function dd(n,e,t,r){return n instanceof Hd?function(o,l,u,f){if(!Fh(o.precondition,l))return u;const h=o.value.clone(),g=eS(o.fieldTransforms,f,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof ro?function(o,l,u,f){if(!Fh(o.precondition,l))return u;const h=eS(o.fieldTransforms,f,l),g=l.data;return g.setAll(ER(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return Fh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function pV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=yR(r.transform,a||null);o!=null&&(t===null&&(t=Ir.empty()),t.set(r.field,o))}return t||null}function ZT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&yc(r,a,(o,l)=>fV(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hd extends np{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ro extends np{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ER(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function JT(n,e,t){const r=new Map;Pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const o=n[a],l=o.transform,u=e.data.field(o.field);r.set(o.field,dV(l,u,t[a]))}return r}function eS(n,e,t){const r=new Map;for(const a of n){const o=a.transform,l=t.data.field(a.field);r.set(a.field,uV(o,l,e))}return r}class Tb extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gV extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&mV(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pR();return this.mutations.forEach(a=>{const o=e.get(a.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(a.key)?null:u;const f=wR(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mt())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>ZT(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>ZT(t,r))}}class Sb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Pt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return iV}();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new Sb(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,bt;function xV(n){switch(n){case he.OK:return Xe(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Xe(15467,{code:n})}}function TR(n){if(n===void 0)return Xi("GRPC error has no .code"),he.UNKNOWN;switch(n){case Rn.OK:return he.OK;case Rn.CANCELLED:return he.CANCELLED;case Rn.UNKNOWN:return he.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return he.INTERNAL;case Rn.UNAVAILABLE:return he.UNAVAILABLE;case Rn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Rn.NOT_FOUND:return he.NOT_FOUND;case Rn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Rn.ABORTED:return he.ABORTED;case Rn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Rn.DATA_LOSS:return he.DATA_LOSS;default:return Xe(39323,{code:n})}}(bt=Rn||(Rn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Us([4294967295,4294967295],0);function tS(n){const e=$A().encode(n),t=new LA;return t.update(e),new Uint8Array(t.digest())}function nS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Us([t,r],0),new Us([a,o],0)]}class Db{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ed(`Invalid padding: ${t}`);if(r<0)throw new ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ed(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ed(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Us.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(Us.fromNumber(r)));return a.compare(_V)===1&&(a=new Us([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=tS(e),[r,a]=nS(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,a,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Db(o,a,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=tS(e),[r,a]=nS(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,a,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Yd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rp(Je.min(),a,new an(ct),Zi(),mt())}}class Yd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Yd(r,t,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class SR{constructor(e,t){this.targetId=e,this.Ce=t}}class DR{constructor(e,t,r=ar.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class rS{constructor(){this.Fe=0,this.Me=aS(),this.xe=ar.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mt(),t=mt(),r=mt();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Xe(38017,{changeType:o})}}),new Yd(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wV{constructor(e){this.ze=e,this.je=new Map,this.He=Zi(),this.Je=_h(),this.Ye=_h(),this.Ze=new an(ct)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Y0(o))if(r===0){const l=new $e(o.path);this.tt(t,l,hr.newNoDocument(l,Je.min()))}else Pt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),f=u?this.lt(u,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let l,u;try{l=Qs(r).toUint8Array()}catch(f){if(f instanceof WA)return gc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Db(l,a,o)}catch(f){return gc(f instanceof ed?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&Y0(u.target)){const f=new $e(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,hr.newNoDocument(f,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=mt();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const a=new rp(e,t,this.Ze,this.He,r);return this.He=Zi(),this.Je=_h(),this.Ye=_h(),this.Ze=new an(ct),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new rS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new jn(ct),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new jn(ct),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function _h(){return new an($e.comparator)}function aS(){return new an($e.comparator)}const EV={asc:"ASCENDING",desc:"DESCENDING"},TV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SV={and:"AND",or:"OR"};class DV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G0(n,e){return n.useProto3Json||Wm(e)?e:{value:e}}function mm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function AV(n,e){return mm(n,e.toTimestamp())}function ci(n){return Pt(!!n,49232),Je.fromTimestamp(function(t){const r=Gs(t);return new In(r.seconds,r.nanos)}(n))}function Ab(n,e){return Q0(n,e).canonicalString()}function Q0(n,e){const t=function(a){return new Kt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RR(n){const e=Kt.fromString(n);return Pt(PR(e),10190,{key:e.toString()}),e}function K0(n,e){return Ab(n.databaseId,e.path)}function Qy(n,e){const t=RR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(NR(t))}function CR(n,e){return Ab(n.databaseId,e)}function RV(n){const e=RR(n);return e.length===4?Kt.emptyPath():NR(e)}function W0(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NR(n){return Pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iS(n,e,t){return{name:K0(n,e),fields:t.value.mapValue.fields}}function CV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Xe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(Pt(g===void 0||typeof g=="string",58123),ar.fromBase64String(g||"")):(Pt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),ar.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const g=h.code===void 0?he.UNKNOWN:TR(h.code);return new Ne(g,h.message||"")}(l);t=new DR(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qy(n,r.document.name),o=ci(r.document.updateTime),l=r.document.createTime?ci(r.document.createTime):Je.min(),u=new Ir({mapValue:{fields:r.document.fields}}),f=hr.newFoundDocument(a,o,l,u),h=r.targetIds||[],g=r.removedTargetIds||[];t=new zh(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Qy(n,r.document),o=r.readTime?ci(r.readTime):Je.min(),l=hr.newNoDocument(a,o),u=r.removedTargetIds||[];t=new zh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Qy(n,r.document),o=r.removedTargetIds||[];t=new zh([],o,a,null)}else{if(!("filter"in e))return Xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new bV(a,o),u=r.targetId;t=new SR(u,l)}}return t}function NV(n,e){let t;if(e instanceof Hd)t={update:iS(n,e.key,e.value)};else if(e instanceof Tb)t={delete:K0(n,e.key)};else if(e instanceof ro)t={update:iS(n,e.key,e.data),updateMask:UV(e.fieldMask)};else{if(!(e instanceof gV))return Xe(16599,{ft:e.type});t={verify:K0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Nd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof xc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Md)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hm)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Xe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:AV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe(27497)}(n,e.precondition)),t}function MV(n,e){return n&&n.length>0?(Pt(e!==void 0,14353),n.map(t=>function(a,o){let l=a.updateTime?ci(a.updateTime):ci(o);return l.isEqual(Je.min())&&(l=ci(o)),new hV(l,a.transformResults||[])}(t,e))):[]}function kV(n,e){return{documents:[CR(n,e.path)]}}function PV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=CR(n,a);const o=function(h){if(h.length!==0)return kR(Pa.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(x){return{field:tc(x.field),direction:jV(x.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=G0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:a}}function OV(n){let e=RV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Pt(r===1,65062);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const x=MR(v);return x instanceof Pa&&sR(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(x=>function(E){return new Cd(nc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Wm(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(v){const x=!!v.before,w=v.values||[];return new fm(w,x)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new fm(w,x)}(t.endAt)),eV(e,a,l,o,u,"F",f,h)}function IV(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=nc(t.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=nc(t.unaryFilter.field);return Cn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nc(t.unaryFilter.field);return Cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nc(t.unaryFilter.field);return Cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Cn.create(nc(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pa.create(t.compositeFilter.filters.map(r=>MR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}}(t.compositeFilter.op))}(n):Xe(30097,{filter:n})}function jV(n){return EV[n]}function VV(n){return TV[n]}function LV(n){return SV[n]}function tc(n){return{fieldPath:n.canonicalString()}}function nc(n){return tr.fromServerFormat(n.fieldPath)}function kR(n){return n instanceof Cn?function(t){if(t.op==="=="){if($T(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NAN"}};if(qT(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($T(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NAN"}};if(qT(t.value))return{unaryFilter:{field:tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(t.field),op:VV(t.op),value:t.value}}}(n):n instanceof Pa?function(t){const r=t.getFilters().map(a=>kR(a));return r.length===1?r[0]:{compositeFilter:{op:LV(t.op),filters:r}}}(n):Xe(54877,{filter:n})}function UV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,a,o=Je.min(),l=Je.min(),u=ar.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.wt=e}}function FV(n){const e=OV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.yn=new HV}addToCollectionParentIndex(e,t){return this.yn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve($s.min())}updateCollectionGroup(e,t,r){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class HV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new jn(Kt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new jn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(OR,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new _c(0)}static ir(){return new _c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="LruGarbageCollector",YV=1048576;function lS([n,e],[t,r]){const a=ct(n,t);return a===0?ct(e,r):a}class qV{constructor(e){this.cr=e,this.buffer=new jn(lS),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $V{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ce(oS,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jc(t)?Ce(oS,"Ignoring IndexedDB error during garbage collection: ",t):await Ic(t)}await this.Ir(3e5)})}}class GV{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return me.resolve(Km.le);const r=new qV(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(sS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sS):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,o,l,u,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Jl()<=xt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function QV(n,e){return new GV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?me.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&dd(r.mutation,a,$r.empty(),In.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mt()){const a=Yo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let l=Ju();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mt()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,a){let o=Zi();const l=ud(),u=function(){return ud()}();return t.forEach((f,h)=>{const g=r.get(h.key);a.has(h.key)&&(g===void 0||g.mutation instanceof ro)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),dd(g.mutation,h,g.mutation.getFieldMask(),In.now())):l.set(h.key,$r.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>l.set(h,g)),t.forEach((h,g)=>{var v;return u.set(h,new WV(g,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ud();let a=new an((l,u)=>l-u),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||$r.empty();g=u.applyToLocalView(h,g),r.set(f,g);const v=(a.get(u.batchId)||mt()).add(f);a=a.insert(u.batchId,v)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,g=f.value,v=pR();g.forEach(x=>{if(!o.has(x)){const w=wR(t.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return me.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(l){return $e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):me.resolve(Yo());let u=Sd,f=o;return l.next(h=>me.forEach(h,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{f=f.insert(g,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,mt())).next(g=>({batchId:u,changes:mR(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let a=Ju();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let l=Ju();return this.indexManager.getCollectionParents(e,o).next(u=>me.forEach(u,f=>{const h=function(v,x){return new Vc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(g=>{g.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(l=>{o.forEach((f,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,hr.newInvalidDocument(g)))});let u=Ju();return l.forEach((f,h)=>{const g=o.get(f);g!==void 0&&dd(g.mutation,h,$r.empty(),In.now()),ep(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return me.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ci(a.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:FV(a.bundledQuery),readTime:ci(a.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(){this.overlays=new an($e.comparator),this.Or=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yo();return me.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.St(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,t,r){const a=Yo(),o=t.length+1,l=new $e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return me.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new an((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Yo(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=Yo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=a)););return me.resolve(u)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new vV(t,r));let o=this.Or.get(t);o===void 0&&(o=mt(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.sessionToken=ar.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.Nr=new jn($n.Br),this.Lr=new jn($n.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new $n(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new $n(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new $e(new Kt([])),r=new $n(t,e),a=new $n(t,e+1),o=[];return this.Lr.forEachInRange([r,a],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new $e(new Kt([])),r=new $n(t,e),a=new $n(t,e+1);let o=mt();return this.Lr.forEachInRange([r,a],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new $n(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return $e.comparator(e.key,t.key)||ct(e.Gr,t.Gr)}static kr(e,t){return ct(e.Gr,t.Gr)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new jn($n.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new yV(o,t,r,a);this.mutationQueue.push(l);for(const u of a)this.zr=this.zr.add(new $n(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(l)}lookupMutationBatch(e,t){return me.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),o=a<0?0:a;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?vb:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $n(t,0),a=new $n(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],l=>{const u=this.jr(l.Gr);o.push(u)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(ct);return t.forEach(a=>{const o=new $n(a,0),l=new $n(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{r=r.add(u.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;$e.isDocumentKey(o)||(o=o.child(""));const l=new $n(new $e(o),0);let u=new jn(ct);return this.zr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(u=u.add(f.Gr)),!0)},l),me.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Pt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(t.mutations,a=>{const o=new $n(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new $n(t,0),a=this.zr.firstAfterOrEqual(r);return me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.Zr=e,this.docs=function(){return new an($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return me.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=Zi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():hr.newInvalidDocument(a))}),me.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Zi();const l=t.path,u=new $e(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||k5(M5(g),r)<=0||(a.has(g.key)||ep(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Xe(9500)}Xr(e,t){return me.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rL(this)}getSize(e){return me.resolve(this.size)}}class rL extends KV{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),me.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.persistence=e,this.ei=new ll(t=>_b(t),wb),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rb,this.targetCount=0,this.ri=_c.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),me.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new _c(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.ar(t),me.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),me.waitFor(o).next(()=>a)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return me.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),me.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(l=>{o.push(a.markPotentiallyOrphaned(e,l))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),me.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return me.resolve(r)}containsKey(e,t){return me.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.ii={},this.overlays={},this.si=new Km(0),this.oi=!1,this.oi=!0,this._i=new eL,this.referenceDelegate=e(this),this.ai=new aL(this),this.indexManager=new zV,this.remoteDocumentCache=function(a){return new nL(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new BV(t),this.ci=new ZV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new tL(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){Ce("MemoryPersistence","Starting transaction:",e);const a=new iL(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,t){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class iL extends O5{constructor(e){super(),this.currentSequenceNumber=e}}class Cb{constructor(e){this.persistence=e,this.Ti=new Rb,this.Ii=null}static Ei(e){return new Cb(e)}get di(){if(this.Ii)return this.Ii;throw Xe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),me.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const a=$e.fromPath(r);return this.Ai(e,a).next(o=>{o||t.removeEntry(a,Je.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return me.or([()=>me.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class pm{constructor(e,t){this.persistence=e,this.Ri=new ll(r=>V5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=QV(this,t)}static Ei(e,t){return new pm(e,t)}li(){}hi(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return me.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?me.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Je.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),me.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uh(e.data.value)),t}gr(e,t,r){return me.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return me.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=mt(),a=mt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Nb(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ij()?8:I5(rj())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,a,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new sL;return this.fs(e,t,l).next(u=>{if(o.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>o.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(Jl()<=xt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(Jl()<=xt.DEBUG&&Ce("QueryEngine","Query:",ec(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Jl()<=xt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):me.resolve())}Rs(e,t){if(WT(t))return me.resolve(null);let r=li(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=$0(t,null,"F"),r=li(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=mt(...o);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.ps(t,u);return this.ys(t,h,l,f.readTime)?this.Rs(e,$0(t,null,"F")):this.ws(e,h,t,f)}))})))}Vs(e,t,r,a){return WT(t)||a.isEqual(Je.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,a)?me.resolve(null):(Jl()<=xt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ec(t)),this.ws(e,l,t,N5(a,Sd)).next(u=>u))})}ps(e,t){let r=new jn(fR(e));return t.forEach((a,o)=>{ep(e,o)&&(r=r.add(o))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,t,r){return Jl()<=xt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ec(t)),this.As.getDocumentsMatchingQuery(e,t,$s.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="LocalStore",lL=3e8;class cL{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new an(ct),this.Ds=new ll(o=>_b(o),wb),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XV(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function uL(n,e,t,r){return new cL(n,e,t,r)}async function jR(n,e){const t=tt(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let f=mt();for(const h of a){l.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Ms:h,removedBatchIds:l,addedBatchIds:u}))})})}function dL(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,g){const v=h.batch,x=v.keys();let w=me.resolve();return x.forEach(E=>{w=w.next(()=>g.getEntry(f,E)).next(D=>{const A=h.docVersions.get(E);Pt(A!==null,48541),D.version.compareTo(A)<0&&(v.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),g.addEntry(D)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=mt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function VR(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function fL(n,e){const t=tt(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const u=[];e.targetChanges.forEach((g,v)=>{const x=a.get(v);if(!x)return;u.push(t.ai.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(ar.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(v,w),function(D,A,O){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=lL?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(x,w,g)&&u.push(t.ai.updateTargetData(o,w))});let f=Zi(),h=mt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(hL(o,l,e.documentUpdates).next(g=>{f=g.xs,h=g.Os})),!r.isEqual(Je.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(g)}return me.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ss=a,o))}function hL(n,e,t){let r=mt(),a=mt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Zi();return t.forEach((u,f)=>{const h=o.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(Je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ce(Mb,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{xs:l,Os:a}})}function mL(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pL(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(o=>o?(a=o,me.resolve(a)):t.ai.allocateTargetId(r).next(l=>(a=new Os(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function X0(n,e,t){const r=tt(n),a=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!jc(l))throw l;Ce(Mb,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function cS(n,e,t){const r=tt(n);let a=Je.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,g){const v=tt(f),x=v.Ds.get(g);return x!==void 0?me.resolve(v.Ss.get(x)):v.ai.getTargetData(h,g)}(r,l,li(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?a:Je.min(),t?o:mt())).next(u=>(gL(r,nV(e),u),{documents:u,Ns:o})))}function gL(n,e,t){let r=n.vs.get(e)||Je.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class uS{constructor(){this.activeTargetIds=lV()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yL{constructor(){this.So=new uS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="ConnectivityMonitor";class fS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ce(dS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ce(dS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh=null;function Z0(){return wh===null?wh=function(){return 268435456+Math.round(2147483648*Math.random())}():wh++,"0x"+wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="RestConnection",bL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xL{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===um?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,o){const l=Z0(),u=this.$o(e,t.toUriEncodedString());Ce(Ky,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,a,o);const{host:h}=new URL(u),g=Qm(h);return this.Ko(e,u,f,r,g).then(v=>(Ce(Ky,`Received RPC '${e}' ${l}: `,v),v),v=>{throw gc(Ky,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Wo(e,t,r,a,o,l){return this.Qo(e,t,r,a,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,t){const r=bL[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class wL extends xL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a,o){const l=Z0();return new Promise((u,f)=>{const h=new UA;h.setWithCredentials(!0),h.listenOnce(BA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Lh.NO_ERROR:const v=h.getResponseJson();Ce(ur,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Lh.TIMEOUT:Ce(ur,`RPC '${e}' ${l} timed out`),f(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const x=h.getStatus();if(Ce(ur,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const D=function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(U)>=0?U:he.UNKNOWN}(E.status);f(new Ne(D,E.message))}else f(new Ne(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{s_:e,streamId:l,o_:h.getLastErrorCode(),__:h.getLastError()})}}finally{Ce(ur,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);Ce(ur,`RPC '${e}' ${l} sending request:`,a),h.send(t,"POST",g,r,15)})}a_(e,t,r){const a=Z0(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=HA(),u=zA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");Ce(ur,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=l.createWebChannel(g,f);let x=!1,w=!1;const E=new _L({Go:A=>{w?Ce(ur,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(x||(Ce(ur,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),Ce(ur,`RPC '${e}' stream ${a} sending:`,A),v.send(A))},zo:()=>v.close()}),D=(A,O,U)=>{A.listen(O,B=>{try{U(B)}catch($){setTimeout(()=>{throw $},0)}})};return D(v,Zu.EventType.OPEN,()=>{w||(Ce(ur,`RPC '${e}' stream ${a} transport opened.`),E.t_())}),D(v,Zu.EventType.CLOSE,()=>{w||(w=!0,Ce(ur,`RPC '${e}' stream ${a} transport closed`),E.r_())}),D(v,Zu.EventType.ERROR,A=>{w||(w=!0,gc(ur,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),E.r_(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),D(v,Zu.EventType.MESSAGE,A=>{var O;if(!w){const U=A.data[0];Pt(!!U,16349);const B=U,$=(B==null?void 0:B.error)||((O=B[0])===null||O===void 0?void 0:O.error);if($){Ce(ur,`RPC '${e}' stream ${a} received error:`,$);const k=$.status;let Y=function(C){const N=Rn[C];if(N!==void 0)return TR(N)}(k),I=$.message;Y===void 0&&(Y=he.INTERNAL,I="Unknown error status: "+k+" with message "+$.message),w=!0,E.r_(new Ne(Y,I)),v.close()}else Ce(ur,`RPC '${e}' stream ${a} received:`,U),E.i_(U)}}),D(u,FA.STAT_EVENT,A=>{A.stat===U0.PROXY?Ce(ur,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===U0.NOPROXY&&Ce(ur,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{E.n_()},0),E}}function Wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return new DV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&Ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="PersistentStream";class UR{constructor(e,t,r,a,o,l,u,f){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new LR(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Xi(t.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ce(hS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ce(hS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EL extends UR{constructor(e,t,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=CV(this.serializer,e),r=function(o){if(!("targetChange"in o))return Je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Je.min():l.readTime?ci(l.readTime):Je.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=W0(this.serializer),t.addTarget=function(o,l){let u;const f=l.target;if(u=Y0(f)?{documents:kV(o,f)}:{query:PV(o,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=AR(o,l.resumeToken);const h=G0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Je.min())>0){u.readTime=mm(o,l.snapshotVersion.toTimestamp());const h=G0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=IV(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=W0(this.serializer),t.removeTarget=e,this.F_(t)}}class TL extends UR{constructor(e,t,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=MV(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=W0(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>NV(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{}class DL extends SL{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Q0(t,r),a,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(he.UNKNOWN,o.toString())})}Wo(e,t,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Q0(t,r),a,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(he.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class AL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Xi(t),this.ea=!1):Ce("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="RemoteStore";class RL{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{cl(this)&&(Ce(Jo,"Restarting streams for network reachability change."),await async function(f){const h=tt(f);h.aa.add(4),await qd(h),h.la.set("Unknown"),h.aa.delete(4),await ip(h)}(this))})}),this.la=new AL(r,a)}}async function ip(n){if(cl(n))for(const e of n.ua)await e(!0)}async function qd(n){for(const e of n.ua)await e(!1)}function BR(n,e){const t=tt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ib(t)?Ob(t):Lc(t).b_()&&Pb(t,e))}function kb(n,e){const t=tt(n),r=Lc(t);t._a.delete(e),r.b_()&&FR(t,e),t._a.size===0&&(r.b_()?r.v_():cl(t)&&t.la.set("Unknown"))}function Pb(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Lc(n).U_(e)}function FR(n,e){n.ha.Ke(e),Lc(n).K_(e)}function Ob(n){n.ha=new wV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Lc(n).start(),n.la.ta()}function Ib(n){return cl(n)&&!Lc(n).w_()&&n._a.size>0}function cl(n){return tt(n).aa.size===0}function zR(n){n.ha=void 0}async function CL(n){n.la.set("Online")}async function NL(n){n._a.forEach((e,t)=>{Pb(n,e)})}async function ML(n,e){zR(n),Ib(n)?(n.la.ia(e),Ob(n)):n.la.set("Unknown")}async function kL(n,e,t){if(n.la.set("Online"),e instanceof DR&&e.state===2&&e.cause)try{await async function(a,o){const l=o.cause;for(const u of o.targetIds)a._a.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a._a.delete(u),a.ha.removeTarget(u))}(n,e)}catch(r){Ce(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(n,r)}else if(e instanceof zh?n.ha.Xe(e):e instanceof SR?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Je.min()))try{const r=await VR(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.ha.It(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(h);g&&o._a.set(h,g.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(ar.EMPTY_BYTE_STRING,g.snapshotVersion)),FR(o,f);const v=new Os(g.target,f,h,g.sequenceNumber);Pb(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){Ce(Jo,"Failed to raise snapshot:",r),await gm(n,r)}}async function gm(n,e,t){if(!jc(e))throw e;n.aa.add(1),await qd(n),n.la.set("Offline"),t||(t=()=>VR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ce(Jo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await ip(n)})}function HR(n,e){return e().catch(t=>gm(n,t,e))}async function sp(n){const e=tt(n),t=Ws(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:vb;for(;PL(e);)try{const a=await mL(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,OL(e,a)}catch(a){await gm(e,a)}YR(e)&&qR(e)}function PL(n){return cl(n)&&n.oa.length<10}function OL(n,e){n.oa.push(e);const t=Ws(n);t.b_()&&t.W_&&t.G_(e.mutations)}function YR(n){return cl(n)&&!Ws(n).w_()&&n.oa.length>0}function qR(n){Ws(n).start()}async function IL(n){Ws(n).H_()}async function jL(n){const e=Ws(n);for(const t of n.oa)e.G_(t.mutations)}async function VL(n,e,t){const r=n.oa.shift(),a=Sb.from(r,e,t);await HR(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await sp(n)}async function LL(n,e){e&&Ws(n).W_&&await async function(r,a){if(function(l){return xV(l)&&l!==he.ABORTED}(a.code)){const o=r.oa.shift();Ws(r).D_(),await HR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await sp(r)}}(n,e),YR(n)&&qR(n)}async function mS(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ce(Jo,"RemoteStore received new credentials");const r=cl(t);t.aa.add(3),await qd(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await ip(t)}async function UL(n,e){const t=tt(n);e?(t.aa.delete(2),await ip(t)):e||(t.aa.add(2),await qd(t),t.la.set("Unknown"))}function Lc(n){return n.Pa||(n.Pa=function(t,r,a){const o=tt(t);return o.Y_(),new EL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:CL.bind(null,n),Jo:NL.bind(null,n),Zo:ML.bind(null,n),Q_:kL.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ib(n)?Ob(n):n.la.set("Unknown")):(await n.Pa.stop(),zR(n))})),n.Pa}function Ws(n){return n.Ta||(n.Ta=function(t,r,a){const o=tt(t);return o.Y_(),new TL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:IL.bind(null,n),Zo:LL.bind(null,n),z_:jL.bind(null,n),j_:VL.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await sp(n)):(await n.Ta.stop(),n.oa.length>0&&(Ce(Jo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const l=Date.now()+r,u=new jb(e,t,l,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vb(n,e){if(Xi("AsyncQueue",`${e}: ${n}`),jc(n))return new Ne(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{static emptySet(e){return new cc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Ju(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Ia=new an($e.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Xe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class wc{constructor(e,t,r,a,o,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,a,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new wc(e,t,cc.emptySet(t),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class FL{constructor(){this.queries=gS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=tt(t),o=a.queries;a.queries=gS(),o.forEach((l,u)=>{for(const f of u.Ra)f.onError(r)})})(this,new Ne(he.ABORTED,"Firestore shutting down"))}}function gS(){return new ll(n=>dR(n),Jm)}async function Lb(n,e){const t=tt(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new BL,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(a,!0);break;case 1:o.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Vb(l,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Bb(t)}async function Ub(n,e){const t=tt(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function zL(n,e){const t=tt(n);let r=!1;for(const a of e){const o=a.query,l=t.queries.get(o);if(l){for(const u of l.Ra)u.pa(a)&&(r=!0);l.Aa=a}}r&&Bb(t)}function HL(n,e,t){const r=tt(n),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(t);r.queries.delete(e)}function Bb(n){n.fa.forEach(e=>{e.next()})}var J0,yS;(yS=J0||(J0={})).ya="default",yS.Cache="cache";class Fb{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.key=e}}class GR{constructor(e){this.key=e}}class YL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=mt(),this.mutatedKeys=mt(),this.Ua=fR(e),this.Ka=new cc(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new pS,a=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const x=a.get(g),w=ep(this.query,v)?v:null,E=!!x&&this.mutatedKeys.has(x.key),D=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;x&&w?x.data.isEqual(w.data)?E!==D&&(r.track({type:3,doc:w}),A=!0):this.ja(x,w)||(r.track({type:2,doc:w}),A=!0,(f&&this.Ua(w,f)>0||h&&this.Ua(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),A=!0):x&&!w&&(r.track({type:1,doc:x}),A=!0,(f||h)&&(u=!0)),A&&(w?(l=l.add(w),o=D?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:l,za:r,ys:u,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((g,v)=>function(w,E){const D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Vt:A})}};return D(w)-D(E)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),a=a!=null&&a;const u=t&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,h=f!==this.Qa;return this.Qa=f,l.length!==0||h?{snapshot:new wc(this.query,e.Ka,o,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new pS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=mt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new GR(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new $R(r))}),t}Xa(e){this.qa=e.Ns,this.$a=mt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return wc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const zb="SyncEngine";class qL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $L{constructor(e){this.key=e,this.tu=!1}}class GL{constructor(e,t,r,a,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new ll(u=>dR(u),Jm),this.iu=new Map,this.su=new Set,this.ou=new an($e.comparator),this._u=new Map,this.au=new Rb,this.uu={},this.cu=new Map,this.lu=_c.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function QL(n,e,t=!0){const r=JR(n);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await QR(r,e,t,!0),a}async function KL(n,e){const t=JR(n);await QR(t,e,!0,!1)}async function QR(n,e,t,r){const a=await pL(n.localStore,li(e)),o=a.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await WL(n,e,o,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&BR(n.remoteStore,a),u}async function WL(n,e,t,r,a){n.Pu=(v,x,w)=>async function(D,A,O,U){let B=A.view.Ga(O);B.ys&&(B=await cS(D.localStore,A.query,!1).then(({documents:I})=>A.view.Ga(I,B)));const $=U&&U.targetChanges.get(A.targetId),k=U&&U.targetMismatches.get(A.targetId)!=null,Y=A.view.applyChanges(B,D.isPrimaryClient,$,k);return bS(D,A.targetId,Y.Ya),Y.snapshot}(n,v,x,w);const o=await cS(n.localStore,e,!0),l=new YL(e,o.Ns),u=l.Ga(o.documents),f=Yd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),h=l.applyChanges(u,n.isPrimaryClient,f);bS(n,t,h.Ya);const g=new qL(e,t,l);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),h.snapshot}async function XL(n,e,t){const r=tt(n),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(l=>!Jm(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await X0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&kb(r.remoteStore,a.targetId),ev(r,a.targetId)}).catch(Ic)):(ev(r,a.targetId),await X0(r.localStore,a.targetId,!0))}async function ZL(n,e){const t=tt(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kb(t.remoteStore,r.targetId))}async function JL(n,e,t){const r=s9(n);try{const a=await function(l,u){const f=tt(l),h=In.now(),g=u.reduce((w,E)=>w.add(E.key),mt());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Zi(),D=mt();return f.Cs.getEntries(w,g).next(A=>{E=A,E.forEach((O,U)=>{U.isValidDocument()||(D=D.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,E)).next(A=>{v=A;const O=[];for(const U of u){const B=pV(U,v.get(U.key).overlayedDocument);B!=null&&O.push(new ro(U.key,B,rR(B.value.mapValue),xa.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,O,u)}).next(A=>{x=A;const O=A.applyToLocalDocumentSet(v,D);return f.documentOverlayCache.saveOverlays(w,A.batchId,O)})}).then(()=>({batchId:x.batchId,changes:mR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,f){let h=l.uu[l.currentUser.toKey()];h||(h=new an(ct)),h=h.insert(u,f),l.uu[l.currentUser.toKey()]=h}(r,a.batchId,t),await $d(r,a.changes),await sp(r.remoteStore)}catch(a){const o=Vb(a,"Failed to persist write");t.reject(o)}}async function KR(n,e){const t=tt(n);try{const r=await fL(t.localStore,e);e.targetChanges.forEach((a,o)=>{const l=t._u.get(o);l&&(Pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.tu=!0:a.modifiedDocuments.size>0?Pt(l.tu,14607):a.removedDocuments.size>0&&(Pt(l.tu,42227),l.tu=!1))}),await $d(t,r,e)}catch(r){await Ic(r)}}function vS(n,e,t){const r=tt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((o,l)=>{const u=l.view.ga(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const f=tt(l);f.onlineState=u;let h=!1;f.queries.forEach((g,v)=>{for(const x of v.Ra)x.ga(u)&&(h=!0)}),h&&Bb(f)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e9(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),o=a&&a.key;if(o){let l=new an($e.comparator);l=l.insert(o,hr.newNoDocument(o,Je.min()));const u=mt().add(o),f=new rp(Je.min(),new Map,new an(ct),l,u);await KR(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Hb(r)}else await X0(r.localStore,e,!1).then(()=>ev(r,e,t)).catch(Ic)}async function t9(n,e){const t=tt(n),r=e.batch.batchId;try{const a=await dL(t.localStore,e);XR(t,r,null),WR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await $d(t,a)}catch(a){await Ic(a)}}async function n9(n,e,t){const r=tt(n);try{const a=await function(l,u){const f=tt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,u).next(v=>(Pt(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);XR(r,e,t),WR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await $d(r,a)}catch(a){await Ic(a)}}function WR(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function XR(n,e,t){const r=tt(n);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ev(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||ZR(n,r)})}function ZR(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(kb(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Hb(n))}function bS(n,e,t){for(const r of t)r instanceof $R?(n.au.addReference(r.key,e),r9(n,r)):r instanceof GR?(Ce(zb,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||ZR(n,r.key)):Xe(19791,{Iu:r})}function r9(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(Ce(zb,"New document in limbo: "+t),n.su.add(r),Hb(n))}function Hb(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new $e(Kt.fromString(e)),r=n.lu.next();n._u.set(r,new $L(t)),n.ou=n.ou.insert(t,r),BR(n.remoteStore,new Os(li(Zm(t.path)),r,"TargetPurposeLimboResolution",Km.le))}}async function $d(n,e,t){const r=tt(n),a=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,f)=>{l.push(r.Pu(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){a.push(h);const v=Nb.Ps(f.targetId,h);o.push(v)}}))}),await Promise.all(l),r.nu.Q_(a),await async function(f,h){const g=tt(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>me.forEach(h,x=>me.forEach(x.ls,w=>g.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>me.forEach(x.hs,w=>g.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!jc(v))throw v;Ce(Mb,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=g.Ss.get(x),E=w.snapshotVersion,D=w.withLastLimboFreeSnapshotVersion(E);g.Ss=g.Ss.insert(x,D)}}}(r.localStore,o))}async function a9(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ce(zb,"User change. New user:",e.toKey());const r=await jR(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(u=>{u.forEach(f=>{f.reject(new Ne(he.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $d(t,r.Ms)}}function i9(n,e){const t=tt(n),r=t._u.get(e);if(r&&r.tu)return mt().add(r.key);{let a=mt();const o=t.iu.get(e);if(!o)return a;for(const l of o){const u=t.ru.get(l);a=a.unionWith(u.view.Wa)}return a}}function JR(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e9.bind(null,e),e.nu.Q_=zL.bind(null,e.eventManager),e.nu.Tu=HL.bind(null,e.eventManager),e}function s9(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n9.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return uL(this.persistence,new oL,e.initialUser,this.serializer)}Ru(e){return new IR(Cb.Ei,this.serializer)}Au(e){return new yL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class o9 extends ym{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Pt(this.persistence.referenceDelegate instanceof pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $V(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new IR(r=>pm.Ei(r,t),this.serializer)}}class tv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a9.bind(null,this.syncEngine),await UL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FL}()}createDatastore(e){const t=ap(e.databaseInfo.databaseId),r=function(o){return new wL(o)}(e.databaseInfo);return function(o,l,u,f){return new DL(o,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,l,u){return new RL(r,a,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>vS(this.syncEngine,t,0),function(){return fS.C()?new fS:new vL}())}createSyncEngine(e,t){return function(a,o,l,u,f,h,g){const v=new GL(a,o,l,u,f,h);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=tt(a);Ce(Jo,"RemoteStore shutting down."),o.aa.add(5),await qd(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tv.provider={build:()=>new tv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class l9{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=fr.UNAUTHENTICATED,this.clientId=GA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Ce(Xs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Ce(Xs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xy(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(Xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await jR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await c9(n);Ce(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>mS(e.remoteStore,a)),n._onlineComponents=e}async function c9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(Xs,"Using user provided OfflineComponentProvider");try{await Xy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;gc("Error using user provided cache. Falling back to memory cache: "+t),await Xy(n,new ym)}}else Ce(Xs,"Using default OfflineComponentProvider"),await Xy(n,new o9(void 0));return n._offlineComponents}async function eC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(Xs,"Using user provided OnlineComponentProvider"),await xS(n,n._uninitializedComponentsProvider._online)):(Ce(Xs,"Using default OnlineComponentProvider"),await xS(n,new tv))),n._onlineComponents}function u9(n){return eC(n).then(e=>e.syncEngine)}async function vm(n){const e=await eC(n),t=e.eventManager;return t.onListen=QL.bind(null,e.syncEngine),t.onUnlisten=XL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZL.bind(null,e.syncEngine),t}function d9(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const g=new Yb({next:x=>{g.yu(),l.enqueueAndForget(()=>Ub(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Fb(Zm(u.path),g,{includeMetadataChanges:!0,Fa:!0});return Lb(o,v)}(await vm(n),n.asyncQueue,e,t,r)),r.promise}function f9(n,e,t={}){const r=new Hi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const g=new Yb({next:x=>{g.yu(),l.enqueueAndForget(()=>Ub(o,v)),x.fromCache&&f.source==="server"?h.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new Fb(u,g,{includeMetadataChanges:!0,Fa:!0});return Lb(o,v)}(await vm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n,e,t){if(!t)throw new Ne(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h9(n,e,t,r){if(e===!0&&r===!0)throw new Ne(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wS(n){if(!$e.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ES(n){if($e.isDocumentKey(n))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function op(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe(12329,{type:typeof n})}function jr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=op(n);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firestore.googleapis.com",TS=!0;class SS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rC,this.ssl=TS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YV)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _5;switch(r.type){case"firstParty":return new S5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=_S.get(t);r&&(Ce("ComponentProvider","Removing Datastore"),_S.delete(t),r.terminate())}(this),Promise.resolve()}}function m9(n,e,t,r={}){var a;n=jr(n,lp);const o=Qm(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&RA(`https://${f}`),l.host!==rC&&l.host!==f&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:o,emulatorOptions:r});if(!wd(h,u)&&(n._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=fr.MOCK_USER;else{g=DA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fr(x)}n._authCredentials=new w5(new qA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Bs extends ao{constructor(e,t,r){super(e,t,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new $e(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function Xt(n,e,...t){if(n=Vr(n),nC("collection","path",e),n instanceof lp){const r=Kt.fromString(e,...t);return ES(r),new Bs(n,null,r)}{if(!(n instanceof yr||n instanceof Bs))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return ES(r),new Bs(n.firestore,null,r)}}function On(n,e,...t){if(n=Vr(n),arguments.length===1&&(e=GA.newId()),nC("doc","path",e),n instanceof lp){const r=Kt.fromString(e,...t);return wS(r),new yr(n,null,new $e(r))}{if(!(n instanceof yr||n instanceof Bs))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return wS(r),new yr(n.firestore,n instanceof Bs?n.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="AsyncQueue";class AS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new LR(this,"async_queue_retry"),this.ju=()=>{const r=Wy();r&&Ce(DS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Wy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Wy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Hi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!jc(e))throw e;Ce(DS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Xi("INTERNAL UNHANDLED ERROR: ",RS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=jb.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Xe(47125,{ec:RS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function RS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Ji extends lp{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new AS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AS(e),this._firestoreClient=void 0,await e}}}function aC(n,e){const t=typeof n=="object"?n:IA(),r=typeof n=="string"?n:um,a=kA(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=TA("firestore");o&&m9(a,...o)}return a}function cp(n){if(n._terminated)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||p9(n),n._firestoreClient}function p9(n){var e,t,r;const a=n._freezeSettings(),o=function(u,f,h,g){return new B5(u,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,tC(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new l9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(ar.fromBase64String(e))}catch(t){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ec(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=/^__.*__$/;class y9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hd(e,this.data,t,this.fieldTransforms)}}class iC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{oc:n})}}class dp{constructor(e,t,r,a,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return bm(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(sC(this.oc)&&g9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class v9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}dc(e,t,r,a=!1){return new dp({oc:e,methodName:t,Ec:r,path:tr.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=ap(n._databaseId);return new v9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oC(n,e,t,r,a,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,a);Kb("Data must be an object, but it was:",l,r);const u=lC(r,l);let f,h;if(o.merge)f=new $r(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=nv(e,v,t);if(!l.contains(x))throw new Ne(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);uC(g,x)||g.push(x)}f=new $r(g),h=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=l.fieldTransforms;return new y9(new Ir(u),f,h)}class hp extends Gd{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}function b9(n,e,t){return new dp({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Gb extends Gd{_toFieldTransform(e){return new _R(e.path,new Nd)}isEqual(e){return e instanceof Gb}}class Qb extends Gd{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=b9(this,e,!0),r=this.Ac.map(o=>Uc(o,t)),a=new xc(r);return new _R(e.path,a)}isEqual(e){return e instanceof Qb&&wd(this.Ac,e.Ac)}}function x9(n,e,t,r){const a=n.dc(1,e,t);Kb("Data must be an object, but it was:",a,r);const o=[],l=Ir.empty();no(r,(f,h)=>{const g=Wb(e,f,t);h=Vr(h);const v=a.hc(g);if(h instanceof hp)o.push(g);else{const x=Uc(h,v);x!=null&&(o.push(g),l.set(g,x))}});const u=new $r(o);return new iC(l,u,a.fieldTransforms)}function _9(n,e,t,r,a,o){const l=n.dc(1,e,t),u=[nv(e,r,t)],f=[a];if(o.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(nv(e,o[x])),f.push(o[x+1]);const h=[],g=Ir.empty();for(let x=u.length-1;x>=0;--x)if(!uC(h,u[x])){const w=u[x];let E=f[x];E=Vr(E);const D=l.hc(w);if(E instanceof hp)h.push(w);else{const A=Uc(E,D);A!=null&&(h.push(w),g.set(w,A))}}const v=new $r(h);return new iC(g,v,l.fieldTransforms)}function w9(n,e,t,r=!1){return Uc(t,n.dc(r?4:3,e))}function Uc(n,e){if(cC(n=Vr(n)))return Kb("Unsupported field value:",e,n),lC(n,e);if(n instanceof Gd)return function(r,a){if(!sC(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let l=0;for(const u of r){let f=Uc(u,a.Pc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=In.fromDate(r);return{timestampValue:mm(a.serializer,o)}}if(r instanceof In){const o=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mm(a.serializer,o)}}if(r instanceof qb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:AR(a.serializer,r._byteString)};if(r instanceof yr){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ab(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $b)return function(l,u){return{mapValue:{fields:{[tR]:{stringValue:nR},[dm]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Tc("VectorValues must only contain numeric values.");return Eb(u.serializer,h)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${op(r)}`)}(n,e)}function lC(n,e){const t={};return KA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(r,a)=>{const o=Uc(a,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function cC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof In||n instanceof qb||n instanceof Ec||n instanceof yr||n instanceof Gd||n instanceof $b)}function Kb(n,e,t){if(!cC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=op(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function nv(n,e,t){if((e=Vr(e))instanceof up)return e._internalPath;if(typeof e=="string")return Wb(n,e);throw bm("Field path arguments must be of type string or ",n,!1,void 0,t)}const E9=new RegExp("[~\\*/\\[\\]]");function Wb(n,e,t){if(e.search(E9)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new up(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bm(n,e,t,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Ne(he.INVALID_ARGUMENT,u+n+f)}function uC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T9 extends dC{data(){return super.data()}}function mp(n,e){return typeof e=="string"?Wb(n,e):e instanceof up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xb{}class hC extends Xb{}function Dr(n,e,...t){let r=[];e instanceof Xb&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof Zb).length,u=o.filter(f=>f instanceof pp).length;if(l>1||l>0&&u>0)throw new Ne(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class pp extends hC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new pp(e,t,r)}_apply(e){const t=this._parse(e);return mC(e._query,t),new ao(e.firestore,e.converter,q0(e._query,t))}_parse(e){const t=fp(e.firestore);return function(o,l,u,f,h,g,v){let x;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){MS(v,g);const E=[];for(const D of v)E.push(NS(f,o,D));x={arrayValue:{values:E}}}else x=NS(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||MS(v,g),x=w9(u,l,v,g==="in"||g==="not-in");return Cn.create(h,g,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mr(n,e,t){const r=e,a=mp("where",n);return pp._create(a,r,t)}class Zb extends Xb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Pa.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let l=a;const u=o.getFlattenedFilters();for(const f of u)mC(l,f),l=q0(l,f)}(e._query,t),new ao(e.firestore,e.converter,q0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jb extends hC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jb(e,t)}_apply(e){const t=function(a,o,l){if(a.startAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cd(o,l)}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(a,o){const l=a.explicitOrderBy.concat([o]);return new Vc(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function xm(n,e="asc"){const t=e,r=mp("orderBy",n);return Jb._create(r,t)}function NS(n,e,t){if(typeof(t=Vr(t))=="string"){if(t==="")throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uR(e)&&t.indexOf("/")!==-1)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!$e.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return YT(n,new $e(r))}if(t instanceof yr)return YT(n,t._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(t)}.`)}function MS(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mC(n,e){const t=function(a,o){for(const l of a)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class S9{convertValue(e,t="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return no(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[dm].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>xn(l.doubleValue));return new $b(o)}convertGeoPoint(e){return new qb(xn(e.latitude),xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Pt(PR(r),9688,{name:e});const a=new Ad(r.get(1),r.get(3)),o=new $e(r.popFirst(5));return a.isEqual(t)||Xi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gC extends dC{constructor(e,t,r,a,o,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hh extends gC{data(e={}){return super.data(e)}}class yC{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new td(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hh(this._firestore,this._userDataWriter,r.key,r,new td(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const f=new Hh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new td(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new Hh(a._firestore,a._userDataWriter,u.doc.key,u.doc,new td(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,g=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:D9(u.type),doc:f,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function D9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){n=jr(n,yr);const e=jr(n.firestore,Ji);return d9(cp(e),n._key).then(t=>bC(e,n,t))}class ex extends S9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function pr(n){n=jr(n,ao);const e=jr(n.firestore,Ji),t=cp(e),r=new ex(e);return fC(n._query),f9(t,n._query).then(a=>new yC(e,r,n,a))}function tx(n,e,t){n=jr(n,yr);const r=jr(n.firestore,Ji),a=pC(n.converter,e,t);return gp(r,[oC(fp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,xa.none())])}function Go(n,e,t,...r){n=jr(n,yr);const a=jr(n.firestore,Ji),o=fp(a);let l;return l=typeof(e=Vr(e))=="string"||e instanceof up?_9(o,"updateDoc",n._key,e,t,r):x9(o,"updateDoc",n._key,e),gp(a,[l.toMutation(n._key,xa.exists(!0))])}function vC(n){return gp(jr(n.firestore,Ji),[new Tb(n._key,xa.none())])}function kd(n,e){const t=jr(n.firestore,Ji),r=On(n),a=pC(n.converter,e);return gp(t,[oC(fp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,xa.exists(!1))]).then(()=>r)}function rv(n,...e){var t,r,a;n=Vr(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||CS(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CS(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,h,g;if(n instanceof yr)h=jr(n.firestore,Ji),g=Zm(n._key.path),f={next:v=>{e[l]&&e[l](bC(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=jr(n,ao);h=jr(v.firestore,Ji),g=v._query;const x=new ex(h);f={next:w=>{e[l]&&e[l](new yC(h,x,v,w))},error:e[l+1],complete:e[l+2]},fC(n._query)}return function(x,w,E,D){const A=new Yb(D),O=new Fb(w,A,E);return x.asyncQueue.enqueueAndForget(async()=>Lb(await vm(x),O)),()=>{A.yu(),x.asyncQueue.enqueueAndForget(async()=>Ub(await vm(x),O))}}(cp(h),g,u,f)}function gp(n,e){return function(r,a){const o=new Hi;return r.asyncQueue.enqueueAndForget(async()=>JL(await u9(r),a,o)),o.promise}(cp(n),e)}function bC(n,e,t){const r=t.docs.get(e._key),a=new ex(n);return new gC(n,a,e._key,r,new td(t.hasPendingWrites,t.fromCache),e.converter)}function el(){return new Gb("serverTimestamp")}function Zy(...n){return new Qb("arrayUnion",n)}(function(e,t=!0){(function(a){Oc=a})(OA),Ed(new pc("firestore",(r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Ji(new E5(r.getProvider("auth-internal")),new D5(l,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(h.options.projectId,g)}(l,a),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Ls(kT,PT,e),Ls(kT,PT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebasestorage.googleapis.com",_C="storageBucket",A9=2*60*1e3,R9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends ol{constructor(e,t,r=0){super(Jy(e),`Firebase Storage: ${t} (${Jy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function Jy(n){return"storage/"+n}function nx(){const n="An unknown error occurred, please check the error payload for server response.";return new mn(fn.UNKNOWN,n)}function C9(n){return new mn(fn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function N9(n){return new mn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(fn.UNAUTHENTICATED,n)}function k9(){return new mn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function P9(n){return new mn(fn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function O9(){return new mn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I9(){return new mn(fn.CANCELED,"User canceled the upload/download.")}function j9(n){return new mn(fn.INVALID_URL,"Invalid URL '"+n+"'.")}function V9(n){return new mn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function L9(){return new mn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_C+"' property when initializing the app?")}function U9(){return new mn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B9(){return new mn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function F9(n){return new mn(fn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function av(n){return new mn(fn.INVALID_ARGUMENT,n)}function wC(){return new mn(fn.APP_DELETED,"The Firebase app was deleted.")}function z9(n){return new mn(fn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fd(n,e){return new mn(fn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Hu(n){throw new mn(fn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gr.makeFromUrl(e,t)}catch{return new Gr(e,"")}if(r.path==="")return r;throw V9(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${g}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},D=t===xC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",O=new RegExp(`^https?://${D}/${a}/${A}`,"i"),B=[{regex:u,indices:f,postModify:o},{regex:w,indices:E,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let $=0;$<B.length;$++){const k=B[$],Y=k.regex.exec(e);if(Y){const I=Y[k.indices.bucket];let R=Y[k.indices.path];R||(R=""),r=new Gr(I,R),k.postModify(r);break}}if(r==null)throw j9(e);return r}}class H9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(n,e,t){let r=1,a=null,o=null,l=!1,u=0;function f(){return u===2}let h=!1;function g(...A){h||(h=!0,e.apply(null,A))}function v(A){a=setTimeout(()=>{a=null,n(w,f())},A)}function x(){o&&clearTimeout(o)}function w(A,...O){if(h){x();return}if(A){x(),g.call(null,A,...O);return}if(f()||l){x(),g.call(null,A,...O);return}r<64&&(r*=2);let B;u===1?(u=2,B=0):B=(r+Math.random())*1e3,v(B)}let E=!1;function D(A){E||(E=!0,x(),!h&&(a!==null?(A||(u=2),clearTimeout(a),v(0)):A||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,D(!0)},t),D}function q9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(n){return n!==void 0}function G9(n){return typeof n=="object"&&!Array.isArray(n)}function rx(n){return typeof n=="string"||n instanceof String}function kS(n){return ax()&&n instanceof Blob}function ax(){return typeof Blob<"u"}function PS(n,e,t,r){if(r<e)throw av(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw av(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function EC(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var Qo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,t,r,a,o,l,u,f,h,g,v,x=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,D)=>{this.resolve_=E,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Eh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Qo.NO_ERROR,f=o.getStatus();if(!u||Q9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Qo.ABORT;r(!1,new Eh(!1,null,g));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Eh(h,o))})},t=(r,a)=>{const o=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());$9(f)?o(f):o()}catch(f){l(f)}else if(u!==null){const f=nx();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(a.canceled){const f=this.appDelete_?wC():I9();l(f)}else{const f=O9();l(f)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=Y9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function W9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function X9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Z9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function J9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function e8(n,e,t,r,a,o,l=!0,u=!1){const f=EC(n.urlParams),h=n.url+f,g=Object.assign({},n.headers);return Z9(g,e),W9(g,t),X9(g,o),J9(g,r),new K9(h,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n8(...n){const e=t8();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(ax())return new Blob(n);throw new mn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function r8(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(n){if(typeof atob>"u")throw F9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class e0{constructor(e,t){this.data=e,this.contentType=t||null}}function i8(n,e){switch(n){case ri.RAW:return new e0(TC(e));case ri.BASE64:case ri.BASE64URL:return new e0(SC(n,e));case ri.DATA_URL:return new e0(o8(e),l8(e))}throw nx()}function TC(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function s8(n){let e;try{e=decodeURIComponent(n)}catch{throw fd(ri.DATA_URL,"Malformed data URL.")}return TC(e)}function SC(n,e){switch(n){case ri.BASE64:{const a=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(a||o)throw fd(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const a=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(a||o)throw fd(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=a8(e)}catch(a){throw a.message.includes("polyfill")?a:fd(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class DC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw fd(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=c8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function o8(n){const e=new DC(n);return e.base64?SC(ri.BASE64,e.rest):s8(e.rest)}function l8(n){return new DC(n).contentType}function c8(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){let r=0,a="";kS(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(kS(this.data_)){const r=this.data_,a=r8(r,e,t);return a===null?null:new Ps(a)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ps(r,!0)}}static getBlob(...e){if(ax()){const t=e.map(r=>r instanceof Ps?r.data_:r);return new Ps(n8.apply(null,t))}else{const t=e.map(l=>rx(l)?i8(ri.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const a=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)a[o++]=l[u]}),new Ps(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){let e;try{e=JSON.parse(n)}catch{return null}return G9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function d8(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function RC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(n,e){return e}class Tr{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||f8}}let Th=null;function h8(n){return!rx(n)||n.length<2?n:RC(n)}function CC(){if(Th)return Th;const n=[];n.push(new Tr("bucket")),n.push(new Tr("generation")),n.push(new Tr("metageneration")),n.push(new Tr("name","fullPath",!0));function e(o,l){return h8(l)}const t=new Tr("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const a=new Tr("size");return a.xform=r,n.push(a),n.push(new Tr("timeCreated")),n.push(new Tr("updated")),n.push(new Tr("md5Hash",null,!0)),n.push(new Tr("cacheControl",null,!0)),n.push(new Tr("contentDisposition",null,!0)),n.push(new Tr("contentEncoding",null,!0)),n.push(new Tr("contentLanguage",null,!0)),n.push(new Tr("contentType",null,!0)),n.push(new Tr("metadata","customMetadata",!0)),Th=n,Th}function m8(n,e){function t(){const r=n.bucket,a=n.fullPath,o=new Gr(r,a);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function p8(n,e,t){const r={};r.type="file";const a=t.length;for(let o=0;o<a;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return m8(r,n),r}function NC(n,e,t){const r=AC(e);return r===null?null:p8(n,r,t)}function g8(n,e,t,r){const a=AC(e);if(a===null||!rx(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const g=n.bucket,v=n.fullPath,x="/b/"+l(g)+"/o/"+l(v),w=ix(x,t,r),E=EC({alt:"media",token:h});return w+E})[0]}function y8(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const o=e[a];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class MC{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(n){if(!n)throw nx()}function v8(n,e){function t(r,a){const o=NC(n,a,e);return kC(o!==null),o}return t}function b8(n,e){function t(r,a){const o=NC(n,a,e);return kC(o!==null),g8(o,a,n.host,n._protocol)}return t}function PC(n){function e(t,r){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=k9():a=M9():t.getStatus()===402?a=N9(n.bucket):t.getStatus()===403?a=P9(n.path):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}return e}function x8(n){const e=PC(n);function t(r,a){let o=e(r,a);return r.getStatus()===404&&(o=C9(n.path)),o.serverResponse=a.serverResponse,o}return t}function _8(n,e,t){const r=e.fullServerUrl(),a=ix(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,u=new MC(a,o,b8(n,t),l);return u.errorHandler=x8(e),u}function w8(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function E8(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=w8(null,e)),r}function T8(n,e,t,r,a){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let B="";for(let $=0;$<2;$++)B=B+Math.random().toString().slice(2);return B}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const h=E8(e,r,a),g=y8(h,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+f+"--",w=Ps.getBlob(v,r,x);if(w===null)throw U9();const E={name:h.fullPath},D=ix(o,n.host,n._protocol),A="POST",O=n.maxUploadRetryTime,U=new MC(D,A,v8(n,t),O);return U.urlParams=E,U.headers=l,U.body=w.uploadData(),U.errorHandler=PC(e),U}class S8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a,o){if(this.sent_)throw Hu("cannot .send() more than once");if(Qm(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class D8 extends S8{initXhr(){this.xhr_.responseType="text"}}function OC(){return new D8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){this._service=e,t instanceof Gr?this._location=t:this._location=Gr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new tl(e,t)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RC(this._location.path)}get storage(){return this._service}get parent(){const e=u8(this._location.path);if(e===null)return null;const t=new Gr(this._location.bucket,e);return new tl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw z9(e)}}function A8(n,e,t){n._throwIfRoot("uploadBytes");const r=T8(n.storage,n._location,CC(),new Ps(e,!0),t);return n.storage.makeRequestWithTokens(r,OC).then(a=>({metadata:a,ref:n}))}function R8(n){n._throwIfRoot("getDownloadURL");const e=_8(n.storage,n._location,CC());return n.storage.makeRequestWithTokens(e,OC).then(t=>{if(t===null)throw B9();return t})}function C8(n,e){const t=d8(n._location.path,e),r=new Gr(n._location.bucket,t);return new tl(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(n){return/^[A-Za-z]+:\/\//.test(n)}function M8(n,e){return new tl(n,e)}function IC(n,e){if(n instanceof sx){const t=n;if(t._bucket==null)throw L9();const r=new tl(t,t._bucket);return e!=null?IC(r,e):r}else return e!==void 0?C8(n,e):n}function k8(n,e){if(e&&N8(e)){if(n instanceof sx)return M8(n,e);throw av("To use ref(service, url), the first argument must be a Storage instance.")}else return IC(n,e)}function OS(n,e){const t=e==null?void 0:e[_C];return t==null?null:Gr.makeFromBucketSpec(t,n)}function P8(n,e,t,r={}){n.host=`${e}:${t}`;const a=Qm(e);a&&RA(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:DA(o,n.app.options.projectId))}class sx{constructor(e,t,r,a,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=xC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A9,this._maxUploadRetryTime=R9,this._requests=new Set,a!=null?this._bucket=Gr.makeFromBucketSpec(a,this._host):this._bucket=OS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=OS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(PA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tl(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new H9(wC());{const l=e8(e,this._appId,r,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const IS="@firebase/storage",jS="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="storage";function O8(n,e,t){return n=Vr(n),A8(n,e,t)}function I8(n){return n=Vr(n),R8(n)}function j8(n,e){return n=Vr(n),k8(n,e)}function VC(n=IA(),e){n=Vr(n);const r=kA(n,jC).getImmediate({identifier:e}),a=TA("storage");return a&&V8(r,...a),r}function V8(n,e,t,r={}){P8(n,e,t,r)}function L8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new sx(t,r,a,e,OA)}function U8(){Ed(new pc(jC,L8,"PUBLIC").setMultipleInstances(!0)),Ls(IS,jS,""),Ls(IS,jS,"esm2017")}U8();const B8={apiKey:"AIzaSyDePZqpCrFdNsN1hUdw2_rwMfKP41SJgvU",authDomain:"nafa3ny-de185.firebaseapp.com",projectId:"nafa3ny-de185",storageBucket:"nafa3ny-de185.firebasestorage.app",messagingSenderId:"346694832541",appId:"1:346694832541:web:d2869f3ffb43e3c69a5f74"},F8={apiKey:"AIzaSyAtavYnI9TNKfwxDm2cwFuLoxsgdTcNU8s",authDomain:"nafany2-589de.firebaseapp.com",projectId:"nafany2-589de",storageBucket:"nafany2-589de.firebasestorage.app",messagingSenderId:"440873274458",appId:"1:440873274458:web:2236ff7a246bdcd45a1c63"},LC=gb(B8),UC=gb(F8,"app2"),rt=aC(LC);aC(UC);const z8=VC(LC);VC(UC);const H8=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),[a,o]=M.useState(""),[l,u]=M.useState(""),[f,h]=M.useState(!1),g=ir(),v=async x=>{x.preventDefault(),u(""),h(!0);try{n==="admin"&&t==="admin1"&&g("/nafany/admin");const E=Xt(rt,a==="user"?"users":"serviceProviders"),D=Dr(E,mr("email","==",n)),A=await pr(D);if(A.empty){u("الحساب غير موجود");return}const O=A.docs[0],U=O.data();if(U.password!==t){u("كلمة المرور غير صحيحة");return}const B={uid:O.id,email:U.email,name:U.name||"",phone:U.phone||"",role:a,governorate:U.governorate||"",...a==="provider"&&{profession:U.profession||"",category:U.category||"",profileImage:U.profileImage||""}};localStorage.setItem("currentUser",JSON.stringify(B)),a==="user"?g("/nafany"):a==="provider"&&g("/nafany/servicer_page")}catch(w){console.error("خطأ أثناء تسجيل الدخول:",w),u("حدث خطأ أثناء تسجيل الدخول")}finally{h(!1)}};return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100",dir:"rtl",children:[y.jsx(ve.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:"تسجيل الدخول"}),l&&y.jsx("p",{className:"text-red-600 text-center mb-4",children:l}),y.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"البريد الإلكتروني أو رقم الهاتف*"}),y.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"كلمة المرور*"}),y.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsx("div",{className:"flex items-center justify-between mb-6",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"user",name:"role",value:"user",checked:a==="user",onChange:()=>o("user"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"user",className:"mr-2 block text-sm text-gray-700",children:"مستخدم"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"provider",name:"role",value:"provider",checked:a==="provider",onChange:()=>o("provider"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"provider",className:"mr-2 block text-sm text-gray-700",children:"مقدم خدمة"})]})]})}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx(ve.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full py-3 bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 text-white rounded-md text-center font-medium shadow-md",disabled:f,children:f?"جاري التحميل...":"تسجيل الدخول"}),y.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx("button",{onClick:()=>g(-1),className:"block w-full py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md text-center font-medium shadow-md",children:"رجوع"})})]})]}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("p",{className:"text-gray-600 mb-3",children:"ليس لديك حساب؟"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(em,{to:"/nafany/register_user",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"إنشاء حساب مستخدم جديد"}),y.jsx(em,{to:"/nafany/register",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"التسجيل كمقدم خدمة"})]})]})]})})},Y8=()=>{var C;const n=ir(),[e,t]=M.useState({name:"",email:"",password:"",nationalId:"",governorate:"",category:"",profession:"",subscriptionFee:"",idFrontImage:null,idBackImage:null,profileImage:null,bio:"",allowContact:!1,phone:"",address:"",ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0,role:"user"}),[r,a]=M.useState(null),[o,l]=M.useState(null),[u,f]=M.useState(null),[h,g]=M.useState({}),[v,x]=M.useState(!1),[w,E]=M.useState(!1),D=["وسط البلد","الزمالك"],A={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد","فني تكييفات","نقاش","ترزي"],"خدمات صحية":["طبيب عام","صيدلي","أخصائي تغذية","ممرض","أخصائي علاج طبيعي","طبيب أسنان"],"خدمات عامة":["سوبر ماركت","مطعم","كافيه","مولات"],"خدمات أخرى":["عطار","جزار","فكهاني","خضري","محل ألبان"]},O=["100 جنيه","200 جنيه","300 جنيه"];M.useEffect(()=>{t(N=>({...N,governorate:D[0],category:Object.keys(A)[0],profession:A[Object.keys(A)[0]][0],subscriptionFee:O[0]}))},[]);const U=()=>{let N={};return e.name.trim()||(N.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(N.email="البريد الإلكتروني غير صالح"):N.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(N.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):N.password="كلمة المرور مطلوبة",e.nationalId.trim()||(N.nationalId="الرقم القومي مطلوب"),e.idFrontImage||(N.idFrontImage="صورة البطاقة الأمامية مطلوبة"),e.idBackImage||(N.idBackImage="صورة البطاقة الخلفية مطلوبة"),e.phone.trim()||(N.phone="رقم الهاتف مطلوب"),e.address.trim()||(N.address="العنوان مطلوب"),g(N),Object.keys(N).length===0},B=async N=>{const L=Dr(Xt(rt,"serviceProviders"),mr("email","==",N));return!(await pr(L)).empty},$=(N,L)=>{if(!N)return;const H=new FileReader;H.onload=()=>{const F=H.result;t(Te=>({...Te,[L]:F})),L==="idFrontImage"?(a(F),g({...h,idFrontImage:""})):L==="idBackImage"?(l(F),g({...h,idBackImage:""})):L==="profileImage"&&f(F)},H.readAsDataURL(N)},k=N=>{const L=N.target.value;t(H=>({...H,category:L,profession:A[L][0],allowContact:L==="خدمات فنية"?H.allowContact:!1}))},Y=async N=>{if(N.preventDefault(),E(!0),!U()){E(!1);return}try{if(await B(e.email)){x(!0),E(!1);return}if(!e.idFrontImage||!e.idBackImage){g({...h,idFrontImage:e.idFrontImage?"":"صورة البطاقة الأمامية مطلوبة",idBackImage:e.idBackImage?"":"صورة البطاقة الخلفية مطلوبة"}),E(!1);return}const H={name:e.name,email:e.email,password:e.password,nationalId:e.nationalId,governorate:e.governorate,category:e.category,profession:e.profession,subscriptionFee:e.subscriptionFee,idFrontImage:e.idFrontImage,idBackImage:e.idBackImage,profileImage:e.profileImage,bio:e.bio,phone:e.phone,address:e.address,createdAt:new Date,ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0};e.category==="خدمات فنية"&&(H.allowContact=e.allowContact),await tx(On(rt,"serviceProviders",e.email),H),alert("تم التسجيل بنجاح"),n("/nafany/login")}catch(L){console.error("حدث خطأ أثناء التسجيل: ",L),alert("حدث خطأ أثناء التسجيل، يرجى المحاولة مرة أخرى")}finally{E(!1)}},I=N=>{const{name:L,value:H}=N.target;t({...e,[L]:H}),h[L]&&g({...h,[L]:""}),L==="email"&&v&&x(!1)},R=(N,L)=>{const H={name:"الاسم",email:"البريد الإلكتروني",password:"كلمة المرور",nationalId:"الرقم القومي",phone:"رقم الهاتف",address:"العنوان"},F={password:"password",email:"email",nationalId:"number",phone:"tel",default:"text"};return y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:L*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:H[N]}),y.jsx("input",{type:F[N]||F.default,name:N,placeholder:`أدخل ${H[N]}`,className:`w-full border ${h[N]?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,required:!0,value:e[N],onChange:I}),h[N]&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:h[N]}),N==="email"&&v&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:"البريد الإلكتروني مستخدم بالفعل"})]},L)};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل مقدم الخدمة"}),y.jsxs(ve.form,{onSubmit:Y,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[["name","email","password","nationalId","phone","address"].map((N,L)=>R(N,L)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"التصنيف"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.category,onChange:k,children:Object.keys(A).map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المهنة/الخدمة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.profession,onChange:N=>t(L=>({...L,profession:N.target.value})),children:(C=A[e.category])==null?void 0:C.map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),e.category==="خدمات فنية"&&y.jsx(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:e.allowContact,onChange:N=>t(L=>({...L,allowContact:N.target.checked})),className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر بين الفني والعميل"})]})}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المحافظة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:N=>t(L=>({...L,governorate:N.target.value})),children:D.map((N,L)=>y.jsx("option",{className:`${L<3&&L!=0?"text-red-600":""}`,value:N,children:N},L))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"رسوم الاشتراك"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.subscriptionFee,onChange:N=>t(L=>({...L,subscriptionFee:N.target.value})),children:O.map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"idFrontImage",label:"صورة البطاقة من الأمام",preview:r,error:h.idFrontImage},{field:"idBackImage",label:"صورة البطاقة من الخلف",preview:o,error:h.idBackImage}].map((N,L)=>y.jsxs(ve.div,{className:"space-y-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:L*.3},children:[y.jsxs("div",{className:`bg-gray-50 border-2 border-dashed ${N.error?"border-red-500":"border-gray-300"} rounded-lg p-4 text-center hover:border-cyan-400 transition-colors`,children:[y.jsx("input",{type:"file",className:"hidden",id:`id-image-${L}`,required:!0,onChange:H=>$(H.target.files[0],N.field),accept:"image/*"}),y.jsx("label",{htmlFor:`id-image-${L}`,className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:N.preview?y.jsx("img",{src:N.preview,alt:N.label,className:"h-20 w-20 object-cover rounded-lg mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:N.label}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]}),N.error&&y.jsx("p",{className:"text-red-500 text-sm",children:N.error})]},L))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),y.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[y.jsx("input",{type:"file",className:"hidden",id:"profile-image",onChange:N=>$(N.target.files[0],"profileImage"),accept:"image/*"}),y.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:u?y.jsx("img",{src:u,alt:"الصورة الشخصية",className:"h-20 w-20 object-cover rounded-full mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:"صورة شخصية"}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]})]}),y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"تعريف شخصي"}),y.jsx("textarea",{placeholder:"أدخل تعريفاً شخصياً مختصراً عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:e.bio,onChange:N=>t(L=>({...L,bio:N.target.value}))})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:`py-3 ${w?"bg-cyan-400":"bg-cyan-600 hover:bg-cyan-700"} text-white rounded-lg font-medium shadow-md flex items-center justify-center`,whileHover:{scale:w?1:1.03},whileTap:{scale:w?1:.97},disabled:w,children:w?"جاري التسجيل...":"تسجيل"})]})]})]})})},q8=()=>{const n=ir(),[e,t]=M.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",chats:{}}),[r,a]=M.useState({}),[o,l]=M.useState(!1),[u,f]=M.useState(!1),h=["وسط البلد","الزمالك"],g=()=>{let D={};return e.name.trim()||(D.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(D.email="البريد الإلكتروني غير صالح"):D.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(D.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):D.password="كلمة المرور مطلوبة",e.governorate||(D.governorate="يجب اختيار المحافظة"),a(D),Object.keys(D).length===0},v=async D=>{const A=Dr(Xt(rt,"users"),mr("email","==",D));return!(await pr(A)).empty},x=async D=>(await Tc(On(rt,"users",D))).exists(),w=async D=>{if(D.preventDefault(),!g())return;const A=e.email.split("@")[0],O=await v(e.email),U=await x(A);if(O){l(!0);return}if(U){f(!0);return}try{await tx(On(rt,"users",A),{...e}),alert("User registered successfully"),n("/nafany/login")}catch(B){console.error("Error adding user: ",B)}},E=D=>{t({...e,[D.target.name]:D.target.value}),a({...r,[D.target.name]:""}),D.target.name==="email"&&(l(!1),f(!1))};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل المستخدم"}),y.jsxs(ve.form,{onSubmit:w,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[[{label:"الاسم",name:"name"},{label:"عنوان البريد",name:"email"},{label:"كلمة المرور",name:"password",type:"password"},{label:"رقم الهاتف",name:"phoneNumber"}].map(({label:D,name:A,type:O="text"},U)=>y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:U*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:D}),y.jsx("input",{type:O,name:A,placeholder:`أدخل ${D}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[A],onChange:E}),r[A]&&y.jsx("p",{className:"text-red-500 text-sm",children:r[A]}),A==="email"&&o&&y.jsx("p",{className:"text-red-500 text-sm",children:"البريد الإلكتروني مستخدم بالفعل"}),A==="email"&&u&&y.jsx("p",{className:"text-red-500 text-sm",children:"اسم المستخدم مستخدم بالفعل"})]},U)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المنطقة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:E,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),h.map((D,A)=>y.jsx("option",{className:`${A<3&&A!=0?"text-red-600":""}`,value:D,children:D},A))]}),r.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:r.governorate})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"تسجيل"})]})]})]})})};var BC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=X.createContext&&X.createContext(BC),$8=["attr","size","title"];function G8(n,e){if(n==null)return{};var t=Q8(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Q8(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function _m(){return _m=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_m.apply(this,arguments)}function LS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function wm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(t),!0).forEach(function(r){K8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function K8(n,e,t){return e=W8(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W8(n){var e=X8(n,"string");return typeof e=="symbol"?e:e+""}function X8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FC(n){return n&&n.map((e,t)=>X.createElement(e.tag,wm({key:t},e.attr),FC(e.child)))}function Vn(n){return e=>X.createElement(Z8,_m({attr:wm({},n.attr)},e),FC(n.child))}function Z8(n){var e=t=>{var{attr:r,size:a,title:o}=n,l=G8(n,$8),u=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),X.createElement("svg",_m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:wm(wm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&X.createElement("title",null,o),n.children)};return VS!==void 0?X.createElement(VS.Consumer,null,t=>e(t)):e(BC)}function J8(n){return Vn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function e7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function t7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function n7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function r7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function zC(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function a7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function i7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function s7(n){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function o7(n){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function l7(n){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function c7(n){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function iv(n){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function u7(n){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function d7(n){return Vn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function f7(n){return Vn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function ox(n){return Vn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function HC(n){return Vn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const YC=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=ir(),[a,o]=X.useState(!1);return y.jsxs(ve.header,{className:"bg-white shadow-md px-4 md:px-8 py-3 md:py-4 flex justify-between items-center relative",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},dir:"rtl",children:[y.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto",children:[y.jsx("img",{src:"/nafany/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20 object-contain ml-2 md:ml-4"}),y.jsxs("nav",{className:"hidden md:flex items-center mr-4 space-x-reverse space-x-4 lg:space-x-6 font-bold text-base lg:text-xl",children:[y.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الشكاوى والاقتراحات"}),y.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>r("/nafany/settings"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الإعدادات"})]}),y.jsx("button",{className:"md:hidden text-gray-700 mr-2 z-50",onClick:()=>o(!a),"aria-label":"القائمة",children:a?y.jsx(d7,{size:24}):y.jsx(a7,{size:24})})]}),y.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[n&&y.jsxs("span",{className:"text-gray-700 font-medium text-base mb-2",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]}),y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})]}),y.jsx(vP,{children:a&&y.jsx(ve.div,{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),children:y.jsxs(ve.div,{className:"absolute top-16 right-0 w-3/4 max-w-sm h-full bg-white shadow-lg z-50 overflow-y-auto overflow-x-hidden",initial:{x:300},animate:{x:0},exit:{x:300},transition:{type:"spring",damping:25,stiffness:300},onClick:l=>l.stopPropagation(),children:[n&&y.jsx("div",{className:"px-6 pt-6 pb-2 border-b border-gray-200",children:y.jsxs("span",{className:"text-gray-700 font-medium text-base block text-right",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]})}),y.jsxs("nav",{className:"flex flex-col items-end p-6 space-y-6 font-bold text-lg",children:[y.jsx("button",{onClick:()=>{r("/nafany/settings"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الإعدادات"}),y.jsx("button",{onClick:()=>{r("/nafany/contact"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>{r("/nafany/complaints"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الشكاوى والاقتراحات"}),y.jsx("div",{className:"w-full pt-4 border-t border-gray-200",children:y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login"),o(!1)},className:"bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 text-base w-full text-center",whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})})]})]})})})]})},h7=({title:n,description:e,image:t,bgColor:r})=>{const a=ir();return y.jsx(ve.div,{className:`relative overflow-hidden rounded-xl shadow-lg p-6 ${r} transform transition-all duration-300 cursor-pointer`,whileHover:{scale:1.05,transition:{duration:.3}},onClick:()=>a(`/nafany/service_categories/${n}`),children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("img",{src:t,alt:n,className:"w-32 h-32 object-cover mb-4 rounded-full shadow-md"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n}),y.jsx("p",{className:"text-center text-white opacity-80",children:e})]})})},m7=({title:n,description:e,discount:t,isLoggedIn:r})=>{const a=ir(),o=()=>{r?a("/nafany"):(alert("يجب تسجيل الدخول أولاً للاستفادة من العروض"),a("/nafany/login"))};return y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 overflow-hidden border-2 border-cyan-100 w-full",whileHover:{scale:1.03,transition:{duration:.3}},dir:"rtl",children:y.jsxs("div",{className:"flex flex-col items-start",children:[y.jsx("h3",{className:"text-lg sm:text-xl font-bold text-cyan-800 mb-2 sm:mb-3",children:n}),y.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 flex-grow line-clamp-3",children:e}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-3 sm:gap-0",children:[y.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:["خصم ",t,"%"]}),y.jsx("button",{className:"bg-cyan-600 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-sm hover:bg-cyan-700 w-full sm:w-auto text-center",onClick:o,children:r?"استكشف العرض":"سجل للاستفادة"})]})]})})},p7=()=>{const[n,e]=M.useState(!1),[t,r]=M.useState(null),[a,o]=M.useState(!0),[l,u]=M.useState([]),f=ir();M.useEffect(()=>{const D=async()=>{try{const O=localStorage.getItem("currentUser");if(O&&O!=='""'){const U=JSON.parse(O);if(U)if(r(U),e(!0),U.role==="provider")f("/nafany/servicer_page");else{const B=await h(U.id||U.uid);u(B),console.log("User chats:",B)}}}catch(O){console.error("Error parsing user data:",O),localStorage.removeItem("currentUser")}o(!1)};D();const A=O=>{O.key==="currentUser"&&D()};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[f]);const h=async D=>{try{const A=Dr(Xt(rt,"chats"),mr("participants","array-contains",D),xm("lastMessageTime","desc"));return(await pr(A)).docs.map(U=>{var B,$;return{id:U.id,...U.data(),lastMessageTime:(($=(B=U.data().lastMessageTime)==null?void 0:B.toDate)==null?void 0:$.call(B))||new Date}})}catch(A){return console.error("Error fetching chats:",A),[]}},g=(D,A,O)=>{const U=t.id||t.uid;f(`/nafany/chat/${D}`,{state:{provider:{id:D,name:A,email:O||"provider@example.com"},user:{id:U,name:t.name,email:t.email,profileImage:t.profileImage}}})},v=()=>{localStorage.removeItem("currentUser"),e(!1),r(null),f("/nafany")},x=[{title:"خدمات فنية",description:"سباك، نجار، كهربائي، ميكانيكي، حداد، فني تكييفات، نقاش، ترزي",image:"/nafany/electric.jpg",bgColor:"bg-[#2f4156]"},{title:"خدمات صحية",description:"مستشفيات، عيادات، صيدليات، مراكز طبية",image:"/nafany/medicin.jpg",bgColor:"bg-[#567c8d]"},{title:"خدمات عامة",description:"سوبر ماركت، مطاعم، كافيهات، مولات، خدمات تجارية",image:"/nafany/download.png",bgColor:"bg-[#808080]"},{title:"خدمات أخرى",description:"عطار، جزار، فكهاني، خضري، محل ألبان، خدمات متفرقة",image:"/nafany/download (1).png",bgColor:"bg-[#62a2d3]"}],w=[{title:"عرض الصيانة",description:"خصم خاص على خدمات الصيانة المنزلية الشاملة",discount:20},{title:"عرض التركيبات",description:"أسعار مخفضة للتركيبات الفنية المتكاملة",discount:25}],E=()=>n?y.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"محادثاتك مع مقدمي الخدمة"}),l.length>0?y.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 direction-rtl",children:y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map(D=>{var B;const A=D.participants[0]===t.id?D.participants[0]:D.participants[1],O=D.participantsNames[0]===t.name?D.participantsNames[1]:D.participantsNames[0],U=(B=D.participantsEmails)==null?void 0:B.find($=>$!==t.email);return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>g(A,O,U),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(ox,{className:"text-gray-400 text-2xl ml-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-cyan-800",children:O}),y.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:D.lastMessage})]})]}),y.jsx(zC,{className:"text-cyan-600"})]},D.id)})})}):y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 text-center",children:[y.jsx("p",{className:"text-gray-500",children:"لا توجد محادثات حتى الآن"}),y.jsx("p",{className:"text-cyan-600 mt-2",children:"ابحث عن مقدم خدمة للتواصل معه"})]})]}):null;return a?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsx(YC,{isLoggedIn:n,onLogout:v,userData:t}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"مرحبًا بك في نفعني"}),y.jsx(ve.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:x.map((D,A)=>y.jsx(h7,{...D},A))}),E(),y.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6},children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"العروض والتخفيضات الحالية"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map((D,A)=>y.jsx(m7,{...D,isLoggedIn:n},A))})]})]})]})},g7=()=>{const{serviceType:n,professionType:e}=Fm(),t=ir(),[r,a]=M.useState([]),[o,l]=M.useState([]),[u,f]=M.useState(!0),[h,g]=M.useState("الكل"),[v,x]=M.useState("الكل"),[w,E]=M.useState([]),[D,A]=M.useState([]);M.useEffect(()=>{(async()=>{try{f(!0);const $=Dr(Xt(rt,"serviceProviders"),mr("category","==",n),mr("profession","==",e)),k=await pr($),Y=[],I=new Set(["الكل"]),R=new Set(["الكل"]);k.forEach(C=>{const N=C.data(),L=N.profession||"بدون تخصص",H=N.governorate||"غير محدد";Y.push({id:C.id,title:L,description:N.bio||"لا يوجد وصف",imageUrl:N.profileImage||N.idFrontImage||"../../public/IMG-20250322-WA0070.jpg",governorate:H,providerData:{...N,id:C.id}}),I.add(L),R.add(H)}),a(Y),l(Y),console.log("Jobs data:",Y),E(Array.from(I)),A([...R]),f(!1)}catch($){console.error("Error fetching jobs:",$),f(!1)}})()},[n,e]),M.useEffect(()=>{let B=[...r];h!=="الكل"&&(B=B.filter($=>$.title===h)),v!=="الكل"&&(B=B.filter($=>$.governorate===v)),l(B)},[h,v,r]);const O=(B,$)=>{t(`/nafany/book_page/${B.id}`,{state:{provider:B,bool:$}})},U=()=>{let B=`${e} - ${n}`;return v!=="الكل"?B+=` في ${v}`:B+=" في جميع المناطق السكنية",B};return y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:U()}),y.jsxs(ve.div,{className:"bg-white p-4 rounded-lg shadow-md mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"تصفية حسب المنطقة ابسكنية:"}),y.jsx("select",{value:v,onChange:B=>x(B.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:D.map((B,$)=>y.jsx("option",{className:`${$<3&&$!=0?"text-red-600":""}`,value:B,children:B},`gov-${$}`))})]})}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{onClick:()=>{g("الكل"),x("الكل")},className:"text-cyan-600 hover:text-cyan-800 text-sm",children:"إعادة تعيين الفلتر"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," نتيجة متاحة"]})]})]}),u?y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"جاري تحميل البيانات..."}):o.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((B,$)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.1},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("img",{src:B.imageUrl,alt:B.title,className:"w-20 h-20 object-cover rounded-full mr-4 border-2 border-cyan-100",onError:k=>{k.target.onerror=null,k.target.src="../../public/IMG-20250322-WA0070.jpg"}}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:B.title}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:B.description})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4",children:[y.jsx("span",{className:"text-sm text-gray-500",children:B.governorate}),y.jsx("button",{onClick:()=>O(B.providerData,B.providerData.category=="خدمات صحية"||B.providerData.category=="خدمات فنية"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"عرض الملف الشخصي"})]})]},$))}):y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"لا توجد نتائج مطابقة للبحث"})]})]})},y7=()=>{const n=ir(),e=Ia(),[t,r]=M.useState(null),[a,o]=M.useState([]),[l,u]=M.useState([]),[f,h]=M.useState([]),[g,v]=M.useState(!0),[x,w]=M.useState(!1),[E,D]=M.useState([]),[A,O]=M.useState(1),[U,B]=M.useState(!0),[$,k]=M.useState({title:"",description:"",images:[],previewImages:[]}),[Y,I]=M.useState(null),[R,C]=M.useState({title:"",description:"",images:[],previewImages:[]}),[N,L]=M.useState({allProviders:[],currentProvider:null,totalProviders:0});M.useEffect(()=>{const ge=new AbortController;return(async()=>{try{const ke=localStorage.getItem("currentUser");if(ke&&ke!=='""'){const Me=JSON.parse(ke);r(Me),w(!0),await F(Me.email),v(!1),H(Me.email).then(Ze=>{Ze&&L(Ze)}),_e(Me.id||Me.uid).then(Ze=>{Ze&&h(Ze)}),Te(Me.email,A).then(Ze=>{Ze&&(D(Ze),B(Ze.length===10))})}else n("/nafany/login")}catch(ke){ke.name!=="AbortError"&&(console.error(ke),v(!1))}})(),()=>ge.abort()},[n,e,A]);const H=async ge=>{try{const pe=Dr(Xt(rt,"serviceProviders")),ke=await pr(pe),Me=Dr(Xt(rt,"reviews")),zt=(await pr(Me)).docs.map(nt=>nt.data()),we=ke.docs.map(nt=>{const ot=nt.data(),Jt=zt.filter(Ht=>Ht.providerEmail===ot.email),sn=Jt.length,sr=Jt.reduce((Ht,pn)=>Ht+pn.rating,0),En=sn>0?(sr/sn).toFixed(1):0;return{id:nt.id,...ot,ratingsCount:sn,ratingsTotal:sr,averageRating:En}});we.sort((nt,ot)=>ot.averageRating-nt.averageRating),we.forEach((nt,ot)=>{nt.rank=ot+1});const Ie=we.find(nt=>nt.email===ge);return{allProviders:we,currentProvider:Ie,totalProviders:we.length}}catch(pe){return console.error("Error fetching providers:",pe),null}},F=async ge=>{try{const pe=Dr(Xt(rt,"providerWorks"),mr("providerEmail","==",ge)),Me=(await pr(pe)).docs.map(Ie=>({id:Ie.id,...Ie.data()})),Ze=Dr(Xt(rt,"reviews"),mr("providerEmail","==",ge)),we=(await pr(Ze)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));return o(Me),u(we),Me}catch(pe){return console.error("Error fetching works:",pe),[]}},Te=async ge=>{try{const pe=Dr(Xt(rt,"bookings"),mr("providerEmail","==",ge),xm("createdAt","desc"));return(await pr(pe)).docs.map(Me=>{const Ze=Me.data();return{id:Me.id,...Ze,createdAt:K(Ze.createdAt),bookingDate:Ze.bookingDate||"غير محدد",bookingTime:Ze.bookingTime||"غير محدد"}})}catch(pe){return console.error("Error fetching bookings:",pe),[]}},xe=async()=>{const ge=A+1,pe=await Te(t.email);pe.length>0?(D(ke=>[...ke,...pe]),O(ge),B(pe.length===10)):B(!1)},K=ge=>ge?ge.seconds?new Date(ge.seconds*1e3).toLocaleString("ar-EG"):ge.toDate?ge.toDate().toLocaleString("ar-EG"):ge:"غير محدد",ne=async(ge,pe)=>{try{await Go(On(rt,"bookings",ge),{status:pe,updatedAt:el()}),D(ke=>ke.map(Me=>Me.id===ge?{...Me,status:pe}:Me)),F(t.email)}catch(ke){console.error("Error updating booking status:",ke)}},se=async(ge,pe=!1)=>{try{const ke=[];for(const Me of ge){const Ze=j8(z8,`works/${Date.now()}_${Me.name}`);await O8(Ze,Me);const zt=await I8(Ze);ke.push(zt)}pe?C(Me=>({...Me,images:[...Me.images,...ke],previewImages:[...Me.previewImages,...ke]})):k(Me=>({...Me,images:ke,previewImages:ke}))}catch(ke){console.error("Error uploading images:",ke)}},be=async ge=>{if(ge.preventDefault(),!!t)try{const pe={...$,providerEmail:t.email,providerName:t.name,createdAt:el(),comments:[],ratings:[]};await kd(Xt(rt,"providerWorks"),pe),await F(t.email),k({title:"",description:"",images:[],previewImages:[]})}catch(pe){console.error("Error adding work:",pe)}},P=ge=>{I(ge.id),C({title:ge.title,description:ge.description,images:ge.images,previewImages:ge.images})},ee=async ge=>{ge.preventDefault();try{const pe=On(rt,"providerWorks",Y);await Go(pe,{title:R.title,description:R.description,images:R.images}),await F(t.email),I(null),C({title:"",description:"",images:[],previewImages:[]})}catch(pe){console.error("Error updating work:",pe)}},ce=async ge=>{if(window.confirm("هل أنت متأكد من حذف هذا العمل؟"))try{await vC(On(rt,"providerWorks",ge)),await F(t.email)}catch(pe){console.error("Error deleting work:",pe)}},de=(ge,pe,ke)=>{const Me=t.id||t.uid;n(`/nafany/chat/${ge}`,{state:{provider:{id:Me,name:t.name,email:t.email,profileImage:t.profileImage},user:{id:ge,name:pe,email:ke||"client@example.com"}}})},_e=async ge=>{try{const pe=Dr(Xt(rt,"chats"),mr("participants","array-contains",ge),xm("lastMessageTime","desc"));return(await pr(pe)).docs.map(Me=>{var Ze,zt;return{id:Me.id,...Me.data(),lastMessageTime:((zt=(Ze=Me.data().lastMessageTime)==null?void 0:Ze.toDate)==null?void 0:zt.call(Ze))||new Date}})}catch(pe){return console.error("Error fetching chats:",pe),[]}},ze=ge=>[...Array(5)].map((pe,ke)=>y.jsx("span",{className:ke<ge?"text-yellow-500":"text-gray-300",children:ke<ge?y.jsx(iv,{}):y.jsx(HC,{})},ke)),Ge=()=>{var we;if(!N.currentProvider)return null;const{currentProvider:ge,allProviders:pe,totalProviders:ke}=N,Me=ge.averageRating||0,Ze=ge.ratingsCount||0,zt=((we=pe.find(Ie=>Ie.email===ge.email))==null?void 0:we.rank)||ke;return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"تصنيفك وتقييمك"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:Me}),y.jsx("div",{className:"flex justify-center mb-2",children:ze(Math.floor(Me))}),y.jsx("p",{className:"text-gray-600",children:"متوسط التقييم"})]}),y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:Ze}),y.jsx("p",{className:"text-gray-600",children:"عدد التقييمات"})]}),y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:zt}),y.jsxs("p",{className:"text-gray-600",children:["من أصل ",ke," مقدم خدمة"]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"أحدث التعليقات"}),l.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map((Ie,nt)=>{var ot,Jt;return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-medium text-cyan-800",children:Ie.clientName}),y.jsx("div",{className:"flex",children:ze(Ie.rating)})]}),y.jsx("p",{className:"text-gray-700",children:Ie.review}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((Jt=(ot=Ie.createdAt)==null?void 0:ot.toDate)==null?void 0:Jt.call(ot).toLocaleDateString())||"تاريخ غير معروف"})]},nt)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد تعليقات بعد"})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"المحادثات الحديثة"}),f.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:f.map(Ie=>{const nt=Ie.participants[0]===t.id?Ie.participants[1]:Ie.participants[0],ot=Ie.participantsNames[0]===t.name?Ie.participantsNames[1]:Ie.participantsNames[0];return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>{var Jt;return de(nt,ot,(Jt=Ie.participantsEmails)==null?void 0:Jt.find(sn=>sn!==t.email))},children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(ox,{className:"text-gray-400 text-2xl mr-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-cyan-800",children:ot}),y.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:Ie.lastMessage})]})]}),y.jsx(zC,{className:"text-cyan-600"})]},Ie.id)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد محادثات بعد"})]})]})},Ut=()=>a.map(ge=>y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:Y===ge.id?y.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:R.title,onChange:pe=>C(ke=>({...ke,title:pe.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:R.description,onChange:pe=>C(ke=>({...ke,description:pe.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:pe=>se(pe.target.files,!0),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),R.previewImages.length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:R.previewImages.map((pe,ke)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:pe,alt:`Preview ${ke+1}`,className:"w-full h-20 object-cover rounded-lg"}),y.jsx("button",{type:"button",onClick:()=>{const Me=[...R.images],Ze=[...R.previewImages];Me.splice(ke,1),Ze.splice(ke,1),C(zt=>({...zt,images:Me,previewImages:Ze}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},ke))}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg flex-1",children:"حفظ التعديلات"}),y.jsx("button",{type:"button",onClick:()=>{I(null),C({title:"",description:"",images:[],previewImages:[]})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg flex-1",children:"إلغاء"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:ge.title}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>P(ge),className:"text-blue-600 hover:text-blue-800 p-2",title:"تعديل",children:y.jsx(l7,{})}),y.jsx("button",{onClick:()=>ce(ge.id),className:"text-red-600 hover:text-red-800 p-2",title:"حذف",children:y.jsx(f7,{})})]})]}),y.jsx("p",{className:"text-gray-600",children:ge.description}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:ge.images.map((pe,ke)=>y.jsx("img",{src:pe,alt:`Work ${ke+1}`,className:"w-full h-40 object-cover rounded-lg"},ke))})]})},ge.id)),it=()=>{const ge=pe=>pe?pe.seconds?new Date(pe.seconds*1e3).toLocaleDateString("ar-EG"):pe.toDate?pe.toDate().toLocaleDateString("ar-EG"):pe:"غير محدد";return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"حجوزات العملاء"}),E.length>0?y.jsxs("div",{className:"space-y-4",children:[E.map((pe,ke)=>{const Me=ge(pe.createdAt),Ze=ge(pe.bookingDate);return y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ke*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:pe.clientName||"عميل غير معروف"}),y.jsx("p",{className:"text-gray-600 text-sm",children:pe.clientEmail||"لا يوجد بريد إلكتروني"})]}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${pe.status==="confirmed"?"bg-green-100 text-green-800":pe.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:pe.status==="confirmed"?"مؤكد":pe.status==="pending"?"قيد الانتظار":"ملغى"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الإنشاء:"}),y.jsx("p",{className:"text-gray-700",children:Me})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الحجز:"}),y.jsx("p",{className:"text-gray-700",children:Ze})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"الوقت:"}),y.jsx("p",{className:"text-gray-700",children:pe.bookingTime||"غير محدد"})]})]}),pe.note&&y.jsxs("div",{className:"mt-3",children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"ملاحظات العميل:"}),y.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:pe.note})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[pe.status==="pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>ne(pe.id,"confirmed"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"تأكيد"}),y.jsx("button",{onClick:()=>ne(pe.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"إلغاء"})]}),y.jsx("button",{onClick:()=>de(pe.clientId||"unknown",pe.clientName,pe.clientEmail),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"محادثة"})]})]},pe.id)}),U&&y.jsx("div",{className:"text-center mt-4",children:y.jsx("button",{onClick:xe,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg",children:"تحميل المزيد من الحجوزات"})})]}):y.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد حجوزات حتى الآن"})]})},He=()=>{localStorage.removeItem("currentUser"),w(!1),r(null),n("/nafany")};return g?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx(YC,{isLoggedIn:x,onLogout:He,userData:t}),y.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:"لوحة تحكم مقدم الخدمة"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:Y?"تعديل العمل":"إضافة عمل جديد"}),y.jsxs("form",{onSubmit:Y?ee:be,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:Y?R.title:$.title,onChange:ge=>Y?C(pe=>({...pe,title:ge.target.value})):k(pe=>({...pe,title:ge.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:Y?R.description:$.description,onChange:ge=>Y?C(pe=>({...pe,description:ge.target.value})):k(pe=>({...pe,description:ge.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:ge=>se(ge.target.files,Y),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),(Y?R.previewImages:$.previewImages).length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:(Y?R.previewImages:$.previewImages).map((ge,pe)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:ge,alt:`Preview ${pe+1}`,className:"w-full h-20 object-cover rounded-lg"}),Y&&y.jsx("button",{type:"button",onClick:()=>{const ke=[...R.images],Me=[...R.previewImages];ke.splice(pe,1),Me.splice(pe,1),C(Ze=>({...Ze,images:ke,previewImages:Me}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},pe))}),y.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700",children:Y?"حفظ التعديلات":"إضافة العمل"}),Y&&y.jsx("button",{type:"button",onClick:()=>{I(null),C({title:"",description:"",images:[],previewImages:[]})},className:"w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 mt-2",children:"إلغاء التعديل"})]})]}),y.jsxs(ve.div,{className:"space-y-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},children:[Ge(),it(),y.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:"أعمالك السابقة"}),a.length>0?y.jsx("div",{className:"space-y-6",children:Ut()}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لم تقم بإضافة أي أعمال بعد"})]})]})]})]})};function qC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=qC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function nr(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=qC(n))&&(r&&(r+=" "),r+=e);return r}const $C=6048e5,v7=864e5,yp=6e4,vp=36e5,b7=1e3,US=Symbol.for("constructDateFrom");function jt(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&US in n?n[US](e):n instanceof Date?new n.constructor(e):new Date(e)}function Le(n,e){return jt(e||n,n)}function ka(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(e)?jt((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Oa(n,e,t){const r=Le(n,t==null?void 0:t.in);if(isNaN(e))return jt(n,NaN);if(!e)return r;const a=r.getDate(),o=jt(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return a>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function GC(n,e,t){return jt(n,+Le(n)+e)}function x7(n,e,t){return GC(n,e*vp)}let _7={};function ul(){return _7}function es(n,e){var u,f,h,g;const t=ul(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?7:0)+o-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Sc(n,e){return es(n,{...e,weekStartsOn:1})}function QC(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=jt(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=Sc(a),l=jt(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Sc(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Em(n){const e=Le(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ts(n,...e){const t=jt.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function nl(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Dc(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e),o=nl(r),l=nl(a),u=+o-Em(o),f=+l-Em(l);return Math.round((u-f)/v7)}function w7(n,e){const t=QC(n,e),r=jt(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Sc(r)}function sv(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*yp),r}function lx(n,e,t){return Oa(n,e*3,t)}function E7(n,e,t){return GC(n,e*1e3)}function Tm(n,e,t){return ka(n,e*7,t)}function Yi(n,e,t){return Oa(n,e*12,t)}function BS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=jt.bind(null,a));const o=Le(a,r);(!t||t<o||isNaN(+o))&&(t=o)}),jt(r,t||NaN)}function FS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=jt.bind(null,a));const o=Le(a,r);(!t||t>o||isNaN(+o))&&(t=o)}),jt(r,t||NaN)}function T7(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e);return+nl(r)==+nl(a)}function qi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Sm(n){return!(!qi(n)&&typeof n!="number"||isNaN(+Le(n)))}function Dm(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function Ko(n,e){const t=Le(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Am(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=Ko(r)-Ko(a);return o*4+l}function Rm(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function S7(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e),o=zS(r,a),l=Math.abs(Dc(r,a));r.setDate(r.getDate()-o*l);const u=+(zS(r,a)===-o),f=o*(l-u);return f===0?0:f}function zS(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function KC(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function WC(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ov(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function XC(n,e){const t=Le(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function ZC(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function bp(n,e){const t=Le(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function D7(n,e){var u,f;const t=ul(),r=t.weekStartsOn??((f=(u=t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const A7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},R7=(n,e,t)=>{let r;const a=A7[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function t0(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const C7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},M7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k7={date:t0({formats:C7,defaultWidth:"full"}),time:t0({formats:N7,defaultWidth:"full"}),dateTime:t0({formats:M7,defaultWidth:"full"})},P7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},O7=(n,e,t,r)=>P7[n];function Yu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return a[o]}}const I7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},j7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},V7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},F7=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},z7={ordinalNumber:F7,era:Yu({values:I7,defaultWidth:"wide"}),quarter:Yu({values:j7,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Yu({values:V7,defaultWidth:"wide"}),day:Yu({values:L7,defaultWidth:"wide"}),dayPeriod:Yu({values:U7,defaultWidth:"wide",formattingValues:B7,defaultFormattingWidth:"wide"})};function qu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(a);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?Y7(u,v=>v.test(l)):H7(u,v=>v.test(l));let h;h=n.valueCallback?n.valueCallback(f):f,h=t.valueCallback?t.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function H7(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Y7(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function q7(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const $7=/^(\d+)(th|st|nd|rd)?/i,G7=/\d+/i,Q7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K7={any:[/^b/i,/^(a|c)/i]},W7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X7={any:[/1/i,/2/i,/3/i,/4/i]},Z7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aU={ordinalNumber:q7({matchPattern:$7,parsePattern:G7,valueCallback:n=>parseInt(n,10)}),era:qu({matchPatterns:Q7,defaultMatchWidth:"wide",parsePatterns:K7,defaultParseWidth:"any"}),quarter:qu({matchPatterns:W7,defaultMatchWidth:"wide",parsePatterns:X7,defaultParseWidth:"any",valueCallback:n=>n+1}),month:qu({matchPatterns:Z7,defaultMatchWidth:"wide",parsePatterns:J7,defaultParseWidth:"any"}),day:qu({matchPatterns:eU,defaultMatchWidth:"wide",parsePatterns:tU,defaultParseWidth:"any"}),dayPeriod:qu({matchPatterns:nU,defaultMatchWidth:"any",parsePatterns:rU,defaultParseWidth:"any"})},JC={code:"en-US",formatDistance:R7,formatLong:k7,formatRelative:O7,localize:z7,match:aU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iU(n,e){const t=Le(n,e==null?void 0:e.in);return Dc(t,bp(t))+1}function cx(n,e){const t=Le(n,e==null?void 0:e.in),r=+Sc(t)-+w7(t);return Math.round(r/$C)+1}function ux(n,e){var g,v,x,w;const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=ul(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(x=a.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=jt((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=es(l,e),f=jt((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const h=es(f,e);return+t>=+u?r+1:+t>=+h?r:r-1}function sU(n,e){var u,f,h,g;const t=ul(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=ux(n,e),o=jt((e==null?void 0:e.in)||n,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),es(o,e)}function eN(n,e){const t=Le(n,e==null?void 0:e.in),r=+es(t,e)-+sU(t,e);return Math.round(r/$C)+1}function It(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Rs={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return It(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):It(t+1,2)},d(n,e){return It(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return It(n.getHours()%12||12,e.length)},H(n,e){return It(n.getHours(),e.length)},m(n,e){return It(n.getMinutes(),e.length)},s(n,e){return It(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return It(a,e.length)}},Zl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Rs.y(n,e)},Y:function(n,e,t,r){const a=ux(n,r),o=a>0?a:1-a;if(e==="YY"){const l=o%100;return It(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):It(o,e.length)},R:function(n,e){const t=QC(n);return It(t,e.length)},u:function(n,e){const t=n.getFullYear();return It(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Rs.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=eN(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):It(a,e.length)},I:function(n,e,t){const r=cx(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Rs.d(n,e)},D:function(n,e,t){const r=iU(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return It(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return It(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return It(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=Zl.noon:r===0?a=Zl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=Zl.evening:r>=12?a=Zl.afternoon:r>=4?a=Zl.morning:a=Zl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Rs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Rs.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Rs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Rs.s(n,e)},S:function(n,e){return Rs.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qS(r);case"XXXX":case"XX":return Uo(r);case"XXXXX":case"XXX":default:return Uo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return qS(r);case"xxxx":case"xx":return Uo(r);case"xxxxx":case"xxx":default:return Uo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YS(r,":");case"OOOO":default:return"GMT"+Uo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YS(r,":");case"zzzz":default:return"GMT"+Uo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return It(r,e.length)},T:function(n,e,t){return It(+n,e.length)}};function YS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+It(o,2)}function qS(n,e){return n%60===0?(n>0?"-":"+")+It(Math.abs(n)/60,2):Uo(n,e)}function Uo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=It(Math.trunc(r/60),2),o=It(r%60,2);return t+a+e+o}const $S=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oU=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return $S(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",$S(r,e)).replace("{{time}}",tN(a,e))},lv={p:tN,P:oU},lU=/^D+$/,cU=/^Y+$/,uU=["D","DD","YY","YYYY"];function dU(n){return lU.test(n)}function fU(n){return cU.test(n)}function hU(n,e,t){const r=mU(n,e,t);if(console.warn(r),uU.includes(n))throw new RangeError(r)}function mU(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yU=/^'([^]*?)'?$/,vU=/''/g,bU=/[a-zA-Z]/;function GS(n,e,t){var g,v,x,w,E,D,A,O;const r=ul(),a=(t==null?void 0:t.locale)??r.locale??JC,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((D=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((O=(A=r.locale)==null?void 0:A.options)==null?void 0:O.weekStartsOn)??0,u=Le(n,t==null?void 0:t.in);if(!Sm(u))throw new RangeError("Invalid time value");let f=e.match(gU).map(U=>{const B=U[0];if(B==="p"||B==="P"){const $=lv[B];return $(U,a.formatLong)}return U}).join("").match(pU).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const B=U[0];if(B==="'")return{isToken:!1,value:xU(U)};if(HS[B])return{isToken:!0,value:U};if(B.match(bU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:U}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return f.map(U=>{if(!U.isToken)return U.value;const B=U.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&fU(B)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&dU(B))&&hU(B,e,String(n));const $=HS[B[0]];return $(u,B,a.localize,h)}).join("")}function xU(n){const e=n.match(yU);return e?e[1].replace(vU,"'"):n}function QS(n,e){return Le(n,e==null?void 0:e.in).getDate()}function _U(n,e){return Le(n,e==null?void 0:e.in).getDay()}function wU(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=t.getMonth(),o=jt(t,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function EU(){return Object.assign({},ul())}function $i(n,e){return Le(n,e==null?void 0:e.in).getHours()}function TU(n,e){const t=Le(n,e==null?void 0:e.in).getDay();return t===0?7:t}function Gi(n,e){return Le(n,e==null?void 0:e.in).getMinutes()}function Rr(n,e){return Le(n,e==null?void 0:e.in).getMonth()}function Fs(n){return Le(n).getSeconds()}function cv(n){return+Le(n)}function dt(n,e){return Le(n,e==null?void 0:e.in).getFullYear()}function Zs(n,e){return+Le(n)>+Le(e)}function rl(n,e){return+Le(n)<+Le(e)}function SU(n,e){return+Le(n)==+Le(e)}function DU(n,e){const t=AU(e)?new e(0):jt(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function AU(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const RU=10;class nN{constructor(){Re(this,"subPriority",0)}validate(e,t){return!0}}class CU extends nN{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class NU extends nN{constructor(t,r){super();Re(this,"priority",RU);Re(this,"subPriority",-1);this.context=t||(a=>jt(r,a))}set(t,r){return r.timestampIsSet?t:jt(t,DU(t,this.context))}}class Nt{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new CU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class MU extends Nt{constructor(){super(...arguments);Re(this,"priority",140);Re(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,r,a){return r.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const _n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ti={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function wn(n,e){return n&&{value:e(n.value),rest:n.rest}}function rn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function ni(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*vp+o*yp+l*b7),rest:e.slice(t[0].length)}}function rN(n){return rn(_n.anyDigitsSigned,n)}function hn(n,e){switch(n){case 1:return rn(_n.singleDigit,e);case 2:return rn(_n.twoDigits,e);case 3:return rn(_n.threeDigits,e);case 4:return rn(_n.fourDigits,e);default:return rn(new RegExp("^\\d{1,"+n+"}"),e)}}function Cm(n,e){switch(n){case 1:return rn(_n.singleDigitSigned,e);case 2:return rn(_n.twoDigitsSigned,e);case 3:return rn(_n.threeDigitsSigned,e);case 4:return rn(_n.fourDigitsSigned,e);default:return rn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function dx(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aN(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const o=r+50,l=Math.trunc(o/100)*100,u=n>=o%100;a=n+l-(u?100:0)}return t?a:1-a}function iN(n){return n%400===0||n%4===0&&n%100!==0}class kU extends Nt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return wn(hn(4,t),o);case"yo":return wn(a.ordinalNumber(t,{unit:"year"}),o);default:return wn(hn(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a){const o=t.getFullYear();if(a.isTwoDigitYear){const u=aN(a.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class PU extends Nt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return wn(hn(4,t),o);case"Yo":return wn(a.ordinalNumber(t,{unit:"year"}),o);default:return wn(hn(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a,o){const l=ux(t,o);if(a.isTwoDigitYear){const f=aN(a.year,l);return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),es(t,o)}const u=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),es(t,o)}}class OU extends Nt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Cm(r==="R"?4:r.length,t)}set(t,r,a){const o=jt(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Sc(o)}}class IU extends Nt{constructor(){super(...arguments);Re(this,"priority",130);Re(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Cm(r==="u"?4:r.length,t)}set(t,r,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class jU extends Nt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"Q":case"QQ":return hn(r.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class VU extends Nt{constructor(){super(...arguments);Re(this,"priority",120);Re(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"q":case"qq":return hn(r.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class LU extends Nt{constructor(){super(...arguments);Re(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Re(this,"priority",110)}parse(t,r,a){const o=l=>l-1;switch(r){case"M":return wn(rn(_n.month,t),o);case"MM":return wn(hn(2,t),o);case"Mo":return wn(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class UU extends Nt{constructor(){super(...arguments);Re(this,"priority",110);Re(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,a){const o=l=>l-1;switch(r){case"L":return wn(rn(_n.month,t),o);case"LL":return wn(hn(2,t),o);case"Lo":return wn(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function BU(n,e,t){const r=Le(n,t==null?void 0:t.in),a=eN(r,t)-e;return r.setDate(r.getDate()-a*7),Le(r,t==null?void 0:t.in)}class FU extends Nt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,a){switch(r){case"w":return rn(_n.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a,o){return es(BU(t,a,o),o)}}function zU(n,e,t){const r=Le(n,t==null?void 0:t.in),a=cx(r,t)-e;return r.setDate(r.getDate()-a*7),r}class HU extends Nt{constructor(){super(...arguments);Re(this,"priority",100);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,a){switch(r){case"I":return rn(_n.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a){return Sc(zU(t,a))}}const YU=[31,28,31,30,31,30,31,31,30,31,30,31],qU=[31,29,31,30,31,30,31,31,30,31,30,31];class $U extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subPriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"d":return rn(_n.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return hn(r.length,t)}}validate(t,r){const a=t.getFullYear(),o=iN(a),l=t.getMonth();return o?r>=1&&r<=qU[l]:r>=1&&r<=YU[l]}set(t,r,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class GU extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"subpriority",1);Re(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,a){switch(r){case"D":case"DD":return rn(_n.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return hn(r.length,t)}}validate(t,r){const a=t.getFullYear();return iN(a)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function fx(n,e,t){var v,x,w,E;const r=ul(),a=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((E=(w=r.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,o=Le(n,t==null?void 0:t.in),l=o.getDay(),f=(e%7+7)%7,h=7-a,g=e<0||e>6?e-(l+h)%7:(f+h)%7-(l+h)%7;return ka(o,g,t)}class QU extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=fx(t,a,o),t.setHours(0,0,0,0),t}}class KU extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"e":case"ee":return wn(hn(r.length,t),l);case"eo":return wn(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=fx(t,a,o),t.setHours(0,0,0,0),t}}class WU extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"c":case"cc":return wn(hn(r.length,t),l);case"co":return wn(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=fx(t,a,o),t.setHours(0,0,0,0),t}}function XU(n,e,t){const r=Le(n,t==null?void 0:t.in),a=TU(r,t),o=e-a;return ka(r,o,t)}class ZU extends Nt{constructor(){super(...arguments);Re(this,"priority",90);Re(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,a){const o=l=>l===0?7:l;switch(r){case"i":case"ii":return hn(r.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return wn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return wn(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return wn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return wn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,a){return t=XU(t,a),t.setHours(0,0,0,0),t}}class JU extends Nt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(dx(a),0,0,0),t}}class eB extends Nt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(dx(a),0,0,0),t}}class tB extends Nt{constructor(){super(...arguments);Re(this,"priority",80);Re(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(dx(a),0,0,0),t}}class nB extends Nt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,a){switch(r){case"h":return rn(_n.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class rB extends Nt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,a){switch(r){case"H":return rn(_n.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,a){return t.setHours(a,0,0,0),t}}class aB extends Nt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,a){switch(r){case"K":return rn(_n.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class iB extends Nt{constructor(){super(...arguments);Re(this,"priority",70);Re(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,a){switch(r){case"k":return rn(_n.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return hn(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class sB extends Nt{constructor(){super(...arguments);Re(this,"priority",60);Re(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"m":return rn(_n.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setMinutes(a,0,0),t}}class oB extends Nt{constructor(){super(...arguments);Re(this,"priority",50);Re(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"s":return rn(_n.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return hn(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setSeconds(a,0),t}}class lB extends Nt{constructor(){super(...arguments);Re(this,"priority",30);Re(this,"incompatibleTokens",["t","T"])}parse(t,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return wn(hn(r.length,t),a)}set(t,r,a){return t.setMilliseconds(a),t}}class cB extends Nt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ni(ti.basicOptionalMinutes,t);case"XX":return ni(ti.basic,t);case"XXXX":return ni(ti.basicOptionalSeconds,t);case"XXXXX":return ni(ti.extendedOptionalSeconds,t);case"XXX":default:return ni(ti.extended,t)}}set(t,r,a){return r.timestampIsSet?t:jt(t,t.getTime()-Em(t)-a)}}class uB extends Nt{constructor(){super(...arguments);Re(this,"priority",10);Re(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ni(ti.basicOptionalMinutes,t);case"xx":return ni(ti.basic,t);case"xxxx":return ni(ti.basicOptionalSeconds,t);case"xxxxx":return ni(ti.extendedOptionalSeconds,t);case"xxx":default:return ni(ti.extended,t)}}set(t,r,a){return r.timestampIsSet?t:jt(t,t.getTime()-Em(t)-a)}}class dB extends Nt{constructor(){super(...arguments);Re(this,"priority",40);Re(this,"incompatibleTokens","*")}parse(t){return rN(t)}set(t,r,a){return[jt(t,a*1e3),{timestampIsSet:!0}]}}class fB extends Nt{constructor(){super(...arguments);Re(this,"priority",20);Re(this,"incompatibleTokens","*")}parse(t){return rN(t)}set(t,r,a){return[jt(t,a),{timestampIsSet:!0}]}}const hB={G:new MU,y:new kU,Y:new PU,R:new OU,u:new IU,Q:new jU,q:new VU,M:new LU,L:new UU,w:new FU,I:new HU,d:new $U,D:new GU,E:new QU,e:new KU,c:new WU,i:new ZU,a:new JU,b:new eB,B:new tB,h:new nB,H:new rB,K:new aB,k:new iB,m:new sB,s:new oB,S:new lB,X:new cB,x:new uB,t:new dB,T:new fB},mB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gB=/^'([^]*?)'?$/,yB=/''/g,vB=/\S/,bB=/[a-zA-Z]/;function xB(n,e,t,r){var A,O,U,B,$,k,Y,I;const a=()=>jt((r==null?void 0:r.in)||t,NaN),o=EU(),l=(r==null?void 0:r.locale)??o.locale??JC,u=(r==null?void 0:r.firstWeekContainsDate)??((O=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:O.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(U=o.locale)==null?void 0:U.options)==null?void 0:B.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((k=($=r==null?void 0:r.locale)==null?void 0:$.options)==null?void 0:k.weekStartsOn)??o.weekStartsOn??((I=(Y=o.locale)==null?void 0:Y.options)==null?void 0:I.weekStartsOn)??0;if(!e)return n?a():Le(t,r==null?void 0:r.in);const h={firstWeekContainsDate:u,weekStartsOn:f,locale:l},g=[new NU(r==null?void 0:r.in,t)],v=e.match(pB).map(R=>{const C=R[0];if(C in lv){const N=lv[C];return N(R,l.formatLong)}return R}).join("").match(mB),x=[];for(let R of v){const C=R[0],N=hB[C];if(N){const{incompatibleTokens:L}=N;if(Array.isArray(L)){const F=x.find(Te=>L.includes(Te.token)||Te.token===C);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${R}\` at the same time`)}else if(N.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${R}\` and any other token at the same time`);x.push({token:C,fullToken:R});const H=N.run(n,R,l.match,h);if(!H)return a();g.push(H.setter),n=H.rest}else{if(C.match(bB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(R==="''"?R="'":C==="'"&&(R=_B(R)),n.indexOf(R)===0)n=n.slice(R.length);else return a()}}if(n.length>0&&vB.test(n))return a();const w=g.map(R=>R.priority).sort((R,C)=>C-R).filter((R,C,N)=>N.indexOf(R)===C).map(R=>g.filter(C=>C.priority===R).sort((C,N)=>N.subPriority-C.subPriority)).map(R=>R[0]);let E=Le(t,r==null?void 0:r.in);if(isNaN(+E))return a();const D={};for(const R of w){if(!R.validate(E,h))return a();const C=R.set(E,D,h);Array.isArray(C)?(E=C[0],Object.assign(D,C[1])):E=C}return E}function _B(n){return n.match(gB)[1].replace(yB,"'")}function wB(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function EB(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e);return+ov(r)==+ov(a)}function TB(n,e,t){const[r,a]=ts(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()}function Pd(n,e,t){const r=+Le(n,t==null?void 0:t.in),[a,o]=[+Le(e.start,t==null?void 0:t.in),+Le(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return r>=a&&r<=o}function SB(n,e,t){return ka(n,-1,t)}function DB(n,e){const t=()=>jt(e==null?void 0:e.in,NaN),a=NB(n);let o;if(a.date){const h=MB(a.date,2);o=kB(h.restDateString,h.year)}if(!o||isNaN(+o))return t();const l=+o;let u=0,f;if(a.time&&(u=PB(a.time),isNaN(u)))return t();if(a.timezone){if(f=OB(a.timezone),isNaN(f))return t()}else{const h=new Date(l+u),g=Le(0,e==null?void 0:e.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return Le(l+u+f,e==null?void 0:e.in)}const Sh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},AB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,RB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,CB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NB(n){const e={},t=n.split(Sh.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Sh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Sh.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=Sh.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function MB(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function kB(n,e){if(e===null)return new Date(NaN);const t=n.match(AB);if(!t)return new Date(NaN);const r=!!t[4],a=$u(t[1]),o=$u(t[2])-1,l=$u(t[3]),u=$u(t[4]),f=$u(t[5])-1;if(r)return UB(e,u,f)?IB(e,u,f):new Date(NaN);{const h=new Date(0);return!VB(e,o,l)||!LB(e,a)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(a,l)),h)}}function $u(n){return n?parseInt(n):1}function PB(n){const e=n.match(RB);if(!e)return NaN;const t=n0(e[1]),r=n0(e[2]),a=n0(e[3]);return BB(t,r,a)?t*vp+r*yp+a*1e3:NaN}function n0(n){return n&&parseFloat(n.replace(",","."))||0}function OB(n){if(n==="Z")return 0;const e=n.match(CB);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return FB(r,a)?t*(r*vp+a*yp):NaN}function IB(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const jB=[31,null,31,30,31,30,31,31,30,31,30,31];function sN(n){return n%400===0||n%4===0&&n%100!==0}function VB(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(jB[e]||(sN(n)?29:28))}function LB(n,e){return e>=1&&e<=(sN(n)?366:365)}function UB(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function BB(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function FB(n,e){return e>=0&&e<=59}function va(n,e,t){const r=Le(n,t==null?void 0:t.in),a=r.getFullYear(),o=r.getDate(),l=jt(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=wU(l);return r.setMonth(e,Math.min(o,u)),r}function Yh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setHours(e),r}function qh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setMinutes(e),r}function rc(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Math.trunc(r.getMonth()/3)+1,o=e-a;return va(r,r.getMonth()+o*3)}function $h(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Ja(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(+r)?jt(n,NaN):(r.setFullYear(e),r)}function Wo(n,e,t){return Oa(n,-e,t)}function oN(n,e,t){return lx(n,-1,t)}function KS(n,e,t){return Tm(n,-1,t)}function Ac(n,e,t){return Yi(n,-e,t)}function xp(){return typeof window<"u"}function Bc(n){return lN(n)?(n.nodeName||"").toLowerCase():"#document"}function Kr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function pi(n){var e;return(e=(lN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function lN(n){return xp()?n instanceof Node||n instanceof Kr(n).Node:!1}function Cr(n){return xp()?n instanceof Element||n instanceof Kr(n).Element:!1}function fi(n){return xp()?n instanceof HTMLElement||n instanceof Kr(n).HTMLElement:!1}function WS(n){return!xp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kr(n).ShadowRoot}function Qd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=wa(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function zB(n){return["table","td","th"].includes(Bc(n))}function _p(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function hx(n){const e=mx(),t=Cr(n)?wa(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function HB(n){let e=Js(n);for(;fi(e)&&!Rc(e);){if(hx(e))return e;if(_p(e))return null;e=Js(e)}return null}function mx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rc(n){return["html","body","#document"].includes(Bc(n))}function wa(n){return Kr(n).getComputedStyle(n)}function wp(n){return Cr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Js(n){if(Bc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||WS(n)&&n.host||pi(n);return WS(e)?e.host:e}function cN(n){const e=Js(n);return Rc(e)?n.ownerDocument?n.ownerDocument.body:n.body:fi(e)&&Qd(e)?e:cN(e)}function Od(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=cN(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),l=Kr(a);if(o){const u=uv(l);return e.concat(l,l.visualViewport||[],Qd(a)?a:[],u&&t?Od(u):[])}return e.concat(a,Od(a,[],t))}function uv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Cc=Math.min,Xo=Math.max,Nm=Math.round,Dh=Math.floor,ui=n=>({x:n,y:n}),YB={left:"right",right:"left",bottom:"top",top:"bottom"},qB={start:"end",end:"start"};function $B(n,e,t){return Xo(n,Cc(e,t))}function Ep(n,e){return typeof n=="function"?n(e):n}function Nc(n){return n.split("-")[0]}function Kd(n){return n.split("-")[1]}function GB(n){return n==="x"?"y":"x"}function px(n){return n==="y"?"height":"width"}function Id(n){return["top","bottom"].includes(Nc(n))?"y":"x"}function gx(n){return GB(Id(n))}function QB(n,e,t){t===void 0&&(t=!1);const r=Kd(n),a=gx(n),o=px(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Mm(l)),[l,Mm(l)]}function KB(n){const e=Mm(n);return[dv(n),e,dv(e)]}function dv(n){return n.replace(/start|end/g,e=>qB[e])}function WB(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:l;default:return[]}}function XB(n,e,t,r){const a=Kd(n);let o=WB(Nc(n),t==="start",r);return a&&(o=o.map(l=>l+"-"+a),e&&(o=o.concat(o.map(dv)))),o}function Mm(n){return n.replace(/left|right|bottom|top/g,e=>YB[e])}function ZB(n){return{top:0,right:0,bottom:0,left:0,...n}}function uN(n){return typeof n!="number"?ZB(n):{top:n,right:n,bottom:n,left:n}}function km(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function XS(n,e,t){let{reference:r,floating:a}=n;const o=Id(e),l=gx(e),u=px(l),f=Nc(e),h=o==="y",g=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:g,y:r.y-a.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-a.width,y:v};break;default:w={x:r.x,y:r.y}}switch(Kd(e)){case"start":w[l]-=x*(t&&h?-1:1);break;case"end":w[l]+=x*(t&&h?-1:1);break}return w}const JB=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:g,y:v}=XS(h,r,f),x=r,w={},E=0;for(let D=0;D<u.length;D++){const{name:A,fn:O}=u[D],{x:U,y:B,data:$,reset:k}=await O({x:g,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:w,rects:h,platform:l,elements:{reference:n,floating:e}});g=U??g,v=B??v,w={...w,[A]:{...w[A],...$}},k&&E<=50&&(E++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(h=k.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):k.rects),{x:g,y:v}=XS(h,x,f)),D=-1)}return{x:g,y:v,placement:x,strategy:a,middlewareData:w}};async function eF(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:l,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:w=0}=Ep(e,n),E=uN(w),A=u[x?v==="floating"?"reference":"floating":v],O=km(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(A)))==null||t?A:A.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:f})),U=v==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),$=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},k=km(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:B,strategy:f}):U);return{top:(O.top-k.top+E.top)/$.y,bottom:(k.bottom-O.bottom+E.bottom)/$.y,left:(O.left-k.left+E.left)/$.x,right:(k.right-O.right+E.right)/$.x}}const tF=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:g=0}=Ep(n,e)||{};if(h==null)return{};const v=uN(g),x={x:t,y:r},w=gx(a),E=px(w),D=await l.getDimensions(h),A=w==="y",O=A?"top":"left",U=A?"bottom":"right",B=A?"clientHeight":"clientWidth",$=o.reference[E]+o.reference[w]-x[w]-o.floating[E],k=x[w]-o.reference[w],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let I=Y?Y[B]:0;(!I||!await(l.isElement==null?void 0:l.isElement(Y)))&&(I=u.floating[B]||o.floating[E]);const R=$/2-k/2,C=I/2-D[E]/2-1,N=Cc(v[O],C),L=Cc(v[U],C),H=N,F=I-D[E]-L,Te=I/2-D[E]/2+R,xe=$B(H,Te,F),K=!f.arrow&&Kd(a)!=null&&Te!==xe&&o.reference[E]/2-(Te<H?N:L)-D[E]/2<0,ne=K?Te<H?Te-H:Te-F:0;return{[w]:x[w]+ne,data:{[w]:xe,centerOffset:Te-xe-ne,...K&&{alignmentOffset:ne}},reset:K}}}),nF=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:D=!0,...A}=Ep(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const O=Nc(a),U=Id(u),B=Nc(u)===u,$=await(f.isRTL==null?void 0:f.isRTL(h.floating)),k=x||(B||!D?[Mm(u)]:KB(u)),Y=E!=="none";!x&&Y&&k.push(...XB(u,D,E,$));const I=[u,...k],R=await eF(e,A),C=[];let N=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&C.push(R[O]),v){const Te=QB(a,l,$);C.push(R[Te[0]],R[Te[1]])}if(N=[...N,{placement:a,overflows:C}],!C.every(Te=>Te<=0)){var L,H;const Te=(((L=o.flip)==null?void 0:L.index)||0)+1,xe=I[Te];if(xe)return{data:{index:Te,overflows:N},reset:{placement:xe}};let K=(H=N.filter(ne=>ne.overflows[0]<=0).sort((ne,se)=>ne.overflows[1]-se.overflows[1])[0])==null?void 0:H.placement;if(!K)switch(w){case"bestFit":{var F;const ne=(F=N.filter(se=>{if(Y){const be=Id(se.placement);return be===U||be==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(be=>be>0).reduce((be,P)=>be+P,0)]).sort((se,be)=>se[1]-be[1])[0])==null?void 0:F[0];ne&&(K=ne);break}case"initialPlacement":K=u;break}if(a!==K)return{reset:{placement:K}}}return{}}}};async function rF(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Nc(t),u=Kd(t),f=Id(t)==="y",h=["left","top"].includes(l)?-1:1,g=o&&f?-1:1,v=Ep(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(w=u==="end"?E*-1:E),f?{x:w*g,y:x*h}:{x:x*h,y:w*g}}const aF=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:l,middlewareData:u}=e,f=await rF(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:l}}}}};function dN(n){const e=wa(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=fi(n),o=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Nm(t)!==o||Nm(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function yx(n){return Cr(n)?n:n.contextElement}function uc(n){const e=yx(n);if(!fi(e))return ui(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=dN(e);let l=(o?Nm(t.width):t.width)/r,u=(o?Nm(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const iF=ui(0);function fN(n){const e=Kr(n);return!mx()||!e.visualViewport?iF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sF(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kr(n)?!1:e}function al(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=yx(n);let l=ui(1);e&&(r?Cr(r)&&(l=uc(r)):l=uc(n));const u=sF(o,t,r)?fN(o):ui(0);let f=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,g=a.width/l.x,v=a.height/l.y;if(o){const x=Kr(o),w=r&&Cr(r)?Kr(r):r;let E=x,D=uv(E);for(;D&&r&&w!==E;){const A=uc(D),O=D.getBoundingClientRect(),U=wa(D),B=O.left+(D.clientLeft+parseFloat(U.paddingLeft))*A.x,$=O.top+(D.clientTop+parseFloat(U.paddingTop))*A.y;f*=A.x,h*=A.y,g*=A.x,v*=A.y,f+=B,h+=$,E=Kr(D),D=uv(E)}}return km({width:g,height:v,x:f,y:h})}function vx(n,e){const t=wp(n).scrollLeft;return e?e.left+t:al(pi(n)).left+t}function hN(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:vx(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function oF(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",l=pi(r),u=e?_p(e.floating):!1;if(r===l||u&&o)return t;let f={scrollLeft:0,scrollTop:0},h=ui(1);const g=ui(0),v=fi(r);if((v||!v&&!o)&&((Bc(r)!=="body"||Qd(l))&&(f=wp(r)),fi(r))){const w=al(r);h=uc(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const x=l&&!v&&!o?hN(l,f,!0):ui(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+g.x+x.x,y:t.y*h.y-f.scrollTop*h.y+g.y+x.y}}function lF(n){return Array.from(n.getClientRects())}function cF(n){const e=pi(n),t=wp(n),r=n.ownerDocument.body,a=Xo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Xo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+vx(n);const u=-t.scrollTop;return wa(r).direction==="rtl"&&(l+=Xo(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:u}}function uF(n,e){const t=Kr(n),r=pi(n),a=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(a){o=a.width,l=a.height;const h=mx();(!h||h&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:u,y:f}}function dF(n,e){const t=al(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=fi(n)?uc(n):ui(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,f=a*o.x,h=r*o.y;return{width:l,height:u,x:f,y:h}}function ZS(n,e,t){let r;if(e==="viewport")r=uF(n,t);else if(e==="document")r=cF(pi(n));else if(Cr(e))r=dF(e,t);else{const a=fN(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return km(r)}function mN(n,e){const t=Js(n);return t===e||!Cr(t)||Rc(t)?!1:wa(t).position==="fixed"||mN(t,e)}function fF(n,e){const t=e.get(n);if(t)return t;let r=Od(n,[],!1).filter(u=>Cr(u)&&Bc(u)!=="body"),a=null;const o=wa(n).position==="fixed";let l=o?Js(n):n;for(;Cr(l)&&!Rc(l);){const u=wa(l),f=hx(l);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Qd(l)&&!f&&mN(n,l))?r=r.filter(g=>g!==l):a=u,l=Js(l)}return e.set(n,r),r}function hF(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?_p(e)?[]:fF(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((h,g)=>{const v=ZS(e,g,a);return h.top=Xo(v.top,h.top),h.right=Cc(v.right,h.right),h.bottom=Cc(v.bottom,h.bottom),h.left=Xo(v.left,h.left),h},ZS(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function mF(n){const{width:e,height:t}=dN(n);return{width:e,height:t}}function pF(n,e,t){const r=fi(e),a=pi(e),o=t==="fixed",l=al(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=ui(0);if(r||!r&&!o)if((Bc(e)!=="body"||Qd(a))&&(u=wp(e)),r){const x=al(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else a&&(f.x=vx(a));const h=a&&!r&&!o?hN(a,u):ui(0),g=l.left+u.scrollLeft-f.x-h.x,v=l.top+u.scrollTop-f.y-h.y;return{x:g,y:v,width:l.width,height:l.height}}function r0(n){return wa(n).position==="static"}function JS(n,e){if(!fi(n)||wa(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return pi(n)===t&&(t=t.ownerDocument.body),t}function pN(n,e){const t=Kr(n);if(_p(n))return t;if(!fi(n)){let a=Js(n);for(;a&&!Rc(a);){if(Cr(a)&&!r0(a))return a;a=Js(a)}return t}let r=JS(n,e);for(;r&&zB(r)&&r0(r);)r=JS(r,e);return r&&Rc(r)&&r0(r)&&!hx(r)?t:r||HB(n)||t}const gF=async function(n){const e=this.getOffsetParent||pN,t=this.getDimensions,r=await t(n.floating);return{reference:pF(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yF(n){return wa(n).direction==="rtl"}const vF={convertOffsetParentRelativeRectToViewportRelativeRect:oF,getDocumentElement:pi,getClippingRect:hF,getOffsetParent:pN,getElementRects:gF,getClientRects:lF,getDimensions:mF,getScale:uc,isElement:Cr,isRTL:yF};function gN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function bF(n,e){let t=null,r;const a=pi(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:g,top:v,width:x,height:w}=h;if(u||e(),!x||!w)return;const E=Dh(v),D=Dh(a.clientWidth-(g+x)),A=Dh(a.clientHeight-(v+w)),O=Dh(g),B={rootMargin:-E+"px "+-D+"px "+-A+"px "+-O+"px",threshold:Xo(0,Cc(1,f))||1};let $=!0;function k(Y){const I=Y[0].intersectionRatio;if(I!==f){if(!$)return l();I?l(!1,I):r=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!gN(h,n.getBoundingClientRect())&&l(),$=!1}try{t=new IntersectionObserver(k,{...B,root:a.ownerDocument})}catch{t=new IntersectionObserver(k,B)}t.observe(n)}return l(!0),o}function xF(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=yx(n),g=a||o?[...h?Od(h):[],...Od(e)]:[];g.forEach(O=>{a&&O.addEventListener("scroll",t,{passive:!0}),o&&O.addEventListener("resize",t)});const v=h&&u?bF(h,t):null;let x=-1,w=null;l&&(w=new ResizeObserver(O=>{let[U]=O;U&&U.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let E,D=f?al(n):null;f&&A();function A(){const O=al(n);D&&!gN(D,O)&&t(),D=O,E=requestAnimationFrame(A)}return t(),()=>{var O;g.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),v==null||v(),(O=w)==null||O.disconnect(),w=null,f&&cancelAnimationFrame(E)}}const _F=aF,wF=nF,e2=tF,EF=(n,e,t)=>{const r=new Map,a={platform:vF,...t},o={...a.platform,_c:r};return JB(n,e,{...a,platform:o})};var Gh=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Pm(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Pm(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!Pm(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function yN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function t2(n,e){const t=yN(n);return Math.round(e*t)/t}function a0(n){const e=M.useRef(n);return Gh(()=>{e.current=n}),e}function TF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[g,v]=M.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=M.useState(r);Pm(x,r)||w(r);const[E,D]=M.useState(null),[A,O]=M.useState(null),U=M.useCallback(se=>{se!==Y.current&&(Y.current=se,D(se))},[]),B=M.useCallback(se=>{se!==I.current&&(I.current=se,O(se))},[]),$=o||E,k=l||A,Y=M.useRef(null),I=M.useRef(null),R=M.useRef(g),C=f!=null,N=a0(f),L=a0(a),H=a0(h),F=M.useCallback(()=>{if(!Y.current||!I.current)return;const se={placement:e,strategy:t,middleware:x};L.current&&(se.platform=L.current),EF(Y.current,I.current,se).then(be=>{const P={...be,isPositioned:H.current!==!1};Te.current&&!Pm(R.current,P)&&(R.current=P,Pv.flushSync(()=>{v(P)}))})},[x,e,t,L,H]);Gh(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,v(se=>({...se,isPositioned:!1})))},[h]);const Te=M.useRef(!1);Gh(()=>(Te.current=!0,()=>{Te.current=!1}),[]),Gh(()=>{if($&&(Y.current=$),k&&(I.current=k),$&&k){if(N.current)return N.current($,k,F);F()}},[$,k,F,N,C]);const xe=M.useMemo(()=>({reference:Y,floating:I,setReference:U,setFloating:B}),[U,B]),K=M.useMemo(()=>({reference:$,floating:k}),[$,k]),ne=M.useMemo(()=>{const se={position:t,left:0,top:0};if(!K.floating)return se;const be=t2(K.floating,g.x),P=t2(K.floating,g.y);return u?{...se,transform:"translate("+be+"px, "+P+"px)",...yN(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:P}},[t,u,K.floating,g.x,g.y]);return M.useMemo(()=>({...g,update:F,refs:xe,elements:K,floatingStyles:ne}),[g,F,xe,K,ne])}const SF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?e2({element:r.current,padding:a}).fn(t):{}:r?e2({element:r,padding:a}).fn(t):{}}}},DF=(n,e)=>({..._F(n),options:[n,e]}),AF=(n,e)=>({...wF(n),options:[n,e]}),RF=(n,e)=>({...SF(n),options:[n,e]}),vN={...a4},CF=vN.useInsertionEffect,NF=CF||(n=>n());function MF(n){const e=M.useRef(()=>{});return NF(()=>{e.current=n}),M.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var Om=typeof document<"u"?M.useLayoutEffect:M.useEffect;let n2=!1,kF=0;const r2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kF++;function PF(){const[n,e]=M.useState(()=>n2?r2():void 0);return Om(()=>{n==null&&e(r2())},[]),M.useEffect(()=>{n2=!0},[]),n}const OF=vN.useId,bN=OF||PF,IF=M.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:o,shift:l}},width:u=14,height:f=7,tipRadius:h=0,strokeWidth:g=0,staticOffset:v,stroke:x,d:w,style:{transform:E,...D}={},...A}=e,O=bN(),[U,B]=M.useState(!1);if(Om(()=>{if(!a)return;wa(a).direction==="rtl"&&B(!0)},[a]),!a)return null;const[$,k]=r.split("-"),Y=$==="top"||$==="bottom";let I=v;(Y&&l!=null&&l.x||!Y&&l!=null&&l.y)&&(I=null);const R=g*2,C=R/2,N=u/2*(h/-8+1),L=f/2*h/4,H=!!w,F=I&&k==="end"?"bottom":"top";let Te=I&&k==="end"?"right":"left";I&&U&&(Te=k==="end"?"left":"right");const xe=(o==null?void 0:o.x)!=null?I||o.x:"",K=(o==null?void 0:o.y)!=null?I||o.y:"",ne=w||"M0,0"+(" H"+u)+(" L"+(u-N)+","+(f-L))+(" Q"+u/2+","+f+" "+N+","+(f-L))+" Z",se={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[$];return y.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:H?u:u+R,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Te]:xe,[F]:K,[$]:Y||H?"100%":"calc(100% - "+R/2+"px)",transform:[se,E].filter(be=>!!be).join(" "),...D},children:[R>0&&y.jsx("path",{clipPath:"url(#"+O+")",fill:"none",stroke:x,strokeWidth:R+(w?0:1),d:ne}),y.jsx("path",{stroke:R&&!w?A.fill:"none",d:ne}),y.jsx("clipPath",{id:O,children:y.jsx("rect",{x:-C,y:C*(H?-1:1),width:u+R,height:u})})]})});function jF(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const VF=M.createContext(null),LF=M.createContext(null),UF=()=>{var n;return((n=M.useContext(VF))==null?void 0:n.id)||null},BF=()=>M.useContext(LF);function FF(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=bN(),o=M.useRef({}),[l]=M.useState(()=>jF()),u=UF()!=null,[f,h]=M.useState(r.reference),g=MF((w,E,D)=>{o.current.openEvent=w?E:void 0,l.emit("openchange",{open:w,event:E,reason:D,nested:u}),t==null||t(w,E,D)}),v=M.useMemo(()=>({setPositionReference:h}),[]),x=M.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return M.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:x,events:l,floatingId:a,refs:v}),[e,g,x,l,a,v])}function zF(n){n===void 0&&(n={});const{nodeId:e}=n,t=FF({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,l]=M.useState(null),[u,f]=M.useState(null),g=(a==null?void 0:a.domReference)||o,v=M.useRef(null),x=BF();Om(()=>{g&&(v.current=g)},[g]);const w=TF({...n,elements:{...a,...u&&{reference:u}}}),E=M.useCallback(B=>{const $=Cr(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;f($),w.refs.setReference($)},[w.refs]),D=M.useCallback(B=>{(Cr(B)||B===null)&&(v.current=B,l(B)),(Cr(w.refs.reference.current)||w.refs.reference.current===null||B!==null&&!Cr(B))&&w.refs.setReference(B)},[w.refs]),A=M.useMemo(()=>({...w.refs,setReference:D,setPositionReference:E,domReference:v}),[w.refs,D,E]),O=M.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),U=M.useMemo(()=>({...w,...r,refs:A,elements:O,nodeId:e}),[w,A,O,e,r]);return Om(()=>{r.dataRef.current.floatingContext=U;const B=x==null?void 0:x.nodesRef.current.find($=>$.id===e);B&&(B.context=U)}),M.useMemo(()=>({...w,context:U,refs:A,elements:O}),[w,A,O,U])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var fv=function(e,t){return fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},fv(e,t)};function Gn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Et=function(){return Et=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Et.apply(this,arguments)};function ai(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var HF=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,o=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return X.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},YF=function(n,e){var t=M.useRef(null),r=M.useRef(n);r.current=n;var a=M.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(f){return f instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,o))},[e]);return M.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},Tp=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,o=n.style,l=n.ignoreClass,u=YF(t,l);return X.createElement("div",{className:r,style:o,ref:function(f){u.current=f,a&&(a.current=f)}},e)},Ae;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Ae||(Ae={}));function xN(){var n=typeof window<"u"?window:globalThis;return n}var Wd=12;function kt(n){if(n==null)return new Date;var e=typeof n=="string"?DB(n):Le(n);return Sp(e)?e:new Date}function i0(n,e,t,r,a){a===void 0&&(a=kt());for(var o=Mc(t)||Mc(bx()),l=Array.isArray(e)?e:[e],u=0,f=l;u<f.length;u++){var h=f[u],g=xB(n,h,a,{locale:o});if(Sp(g)&&(!r||n===Zt(g,h,t)))return g}return null}function Sp(n,e){return Sm(n)&&!rl(n,new Date("1/1/1800"))}function Zt(n,e,t){if(t==="en")return GS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Mc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Mc(bx()),GS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ya(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Zt(n,a,r)||""}function qF(n,e,t){if(!n)return"";var r=ya(n,t),a=e?ya(e,t):"";return"".concat(r," - ").concat(a)}function $F(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?ya(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=ya(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function s0(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return Yh(qh($h(n,u),o),r)}function GF(n){return cx(n)}function QF(n,e){return Zt(n,"ddd",e)}function Qh(n){return nl(n)}function zs(n,e,t){var r=Mc(e||bx());return es(n,{locale:r,weekStartsOn:t})}function Qi(n){return XC(n)}function nd(n){return bp(n)}function a2(n){return ov(n)}function i2(){return nl(kt())}function s2(n){return KC(n)}function KF(n){return D7(n)}function WF(n){return WC(n)}function ei(n,e){return n&&e?TB(n,e):!n&&!e}function Sr(n,e){return n&&e?wB(n,e):!n&&!e}function Im(n,e){return n&&e?EB(n,e):!n&&!e}function wt(n,e){return n&&e?T7(n,e):!n&&!e}function qo(n,e){return n&&e?SU(n,e):!n&&!e}function rd(n,e,t){var r,a=nl(e),o=KC(t);try{r=Pd(n,{start:a,end:o})}catch{r=!1}return r}function bx(){var n=xN();return n.__localeId__}function Mc(n){if(typeof n=="string"){var e=xN();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function XF(n,e,t){return e(Zt(n,"EEEE",t))}function ZF(n,e){return Zt(n,"EEEEEE",e)}function JF(n,e){return Zt(n,"EEE",e)}function xx(n,e){return Zt(va(kt(),n),"LLLL",e)}function _N(n,e){return Zt(va(kt(),n),"LLL",e)}function ez(n,e){return Zt(rc(kt(),n),"QQQ",e)}function ba(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,h=t.filterDate;return Xd(n,{minDate:r,maxDate:a})||o&&o.some(function(g){return g instanceof Date?wt(n,g):wt(n,g.date)})||l&&l.some(function(g){var v=g.start,x=g.end;return Pd(n,{start:v,end:x})})||u&&!u.some(function(g){return wt(n,g)})||f&&!f.some(function(g){var v=g.start,x=g.end;return Pd(n,{start:v,end:x})})||h&&!h(kt(n))||!1}function _x(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var l=o.start,u=o.end;return Pd(n,{start:l,end:u})}):r&&r.some(function(o){var l;return o instanceof Date?wt(n,o):wt(n,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function wN(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Xd(n,{minDate:r?XC(r):void 0,maxDate:a?WC(a):void 0})||(o==null?void 0:o.some(function(f){return Sr(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Sr(n,f)})||u&&!u(kt(n))||!1}function Ah(n,e,t,r){var a=dt(n),o=Rr(n),l=dt(e),u=Rr(e),f=dt(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function tz(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates;return Xd(n,{minDate:r,maxDate:a})||o&&o.some(function(u){return Sr(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return Sr(u,n)})||!1}function Rh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Xd(n,{minDate:r,maxDate:a})||(o==null?void 0:o.some(function(f){return Im(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Im(n,f)})||u&&!u(kt(n))||!1}function Ch(n,e,t){if(!e||!t||!Sm(e)||!Sm(t))return!1;var r=dt(e),a=dt(t);return r<=n&&a>=n}function Kh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,f=new Date(n,0,1);return Xd(f,{minDate:r?bp(r):void 0,maxDate:a?ZC(a):void 0})||(o==null?void 0:o.some(function(h){return ei(f,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return ei(f,h)})||u&&!u(kt(f))||!1}function Nh(n,e,t,r){var a=dt(n),o=Ko(n),l=dt(e),u=Ko(e),f=dt(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function Xd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,o=r.maxDate;return(t=a&&Dc(n,a)<0||o&&Dc(n,o)>0)!==null&&t!==void 0?t:!1}function o2(n,e){return e.some(function(t){return $i(t)===$i(n)&&Gi(t)===Gi(n)&&Fs(t)===Fs(n)})}function l2(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return r&&o2(n,r)||a&&!o2(n,a)||o&&!o(n)||!1}function c2(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=kt();a=Yh(a,$i(n)),a=qh(a,Gi(n)),a=$h(a,Fs(n));var o=kt();o=Yh(o,$i(t)),o=qh(o,Gi(t)),o=$h(o,Fs(t));var l=kt();l=Yh(l,$i(r)),l=qh(l,Gi(r)),l=$h(l,Fs(r));var u;try{u=!Pd(a,{start:o,end:l})}catch{u=!1}return u}function u2(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Wo(n,1);return r&&Dm(r,o)>0||a&&a.every(function(l){return Dm(l,o)>0})||!1}function d2(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Oa(n,1);return r&&Dm(o,r)>0||a&&a.every(function(l){return Dm(o,l)>0})||!1}function nz(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=bp(n),l=oN(o);return r&&Am(r,l)>0||a&&a.every(function(u){return Am(u,l)>0})||!1}function rz(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=ZC(n),l=lx(o,1);return r&&Am(l,r)>0||a&&a.every(function(u){return Am(l,u)>0})||!1}function f2(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=Ac(n,1);return r&&Rm(r,o)>0||a&&a.every(function(l){return Rm(l,o)>0})||!1}function az(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,o=a===void 0?Wd:a,l=nd(Ac(n,o)),u=Is(l,o).endPeriod,f=r&&dt(r);return f&&f>u||!1}function h2(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Yi(n,1);return r&&Rm(o,r)>0||a&&a.every(function(l){return Rm(o,l)>0})||!1}function iz(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,o=a===void 0?Wd:a,l=Yi(n,o),u=Is(l,o).startPeriod,f=r&&dt(r);return f&&f<u||!1}function EN(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Dc(a,e)>=0});return FS(r)}else return t?FS(t):e}function TN(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return Dc(a,e)<=0});return BS(r)}else return t?BS(t):e}function m2(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,o=n.length;a<o;a++){var l=n[a];if(qi(l)){var u=Zt(l,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof l=="object"){var h=Object.keys(l),g=(t=h[0])!==null&&t!==void 0?t:"",v=l[g];if(typeof g=="string"&&Array.isArray(v))for(var x=0,w=v.length;x<w;x++){var E=v[x];if(E){var u=Zt(E,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(g)||(f.push(g),r.set(u,f))}}}}return r}function sz(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function oz(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,o=r.holidayName;if(qi(a)){var l=Zt(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&sz(u.holidayNames,[o]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?ai(ai([],f,!0),[o],!1):[o],t.set(l,u)}}}),t}function lz(n,e,t,r,a){for(var o=a.length,l=[],u=0;u<o;u++){var f=n,h=a[u];h&&(f=x7(f,$i(h)),f=sv(f,Gi(h)),f=E7(f,Fs(h)));var g=sv(n,(t+1)*r);Zs(f,e)&&rl(f,g)&&h!=null&&l.push(h)}return l}function p2(n){return n<10?"0".concat(n):"".concat(n)}function Is(n,e){e===void 0&&(e=Wd);var t=Math.ceil(dt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function cz(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function g2(n){var e=n.getSeconds(),t=n.getMilliseconds();return Le(n.getTime()-e*1e3-t)}function uz(n,e){return g2(n).getTime()===g2(e).getTime()}function y2(n){if(!qi(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function v2(n,e){if(!qi(n)||!qi(e))throw new Error("Invalid date received");var t=y2(n),r=y2(e);return rl(t,r)}function SN(n){return n.key===Ae.Space}var dz=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=X.createRef(),r.onTimeChange=function(a){var o,l;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),h=f?u:new Date;if(a!=null&&a.includes(":")){var g=a.split(":"),v=g[0],x=g[1];h.setHours(Number(v)),h.setMinutes(Number(x))}(l=(o=r.props).onChange)===null||l===void 0||l.call(o,h)},r.renderTimeInput=function(){var a=r.state.time,o=r.props,l=o.date,u=o.timeString,f=o.customTimeInput;return f?M.cloneElement(f,{date:l,value:a,onChange:r.onTimeChange}):X.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:a,onChange:function(h){r.onTimeChange(h.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return X.createElement("div",{className:"react-datepicker__input-time-container"},X.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),X.createElement("div",{className:"react-datepicker-time__input-container"},X.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(M.Component),fz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=M.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isSameDay=function(r){return wt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ba(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return _x(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return wt(t.props.day,zs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&wt(r,zs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,o=r.highlightDates;if(!o)return!1;var l=Zt(a,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var r,a=t.props,o=a.day,l=a.holidays;if(!l)return[void 0];var u=Zt(o,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:rd(a,o,l)},t.isInSelectingRange=function(){var r,a=t.props,o=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.selectsDisabledDaysInRange,g=a.startDate,v=a.endDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||u||f)||!x||!h&&t.isDisabled()?!1:l&&v&&(rl(x,v)||qo(x,v))?rd(o,x,v):u&&g&&(Zs(x,g)||qo(x,g))||f&&g&&!v&&(Zs(x,g)||qo(x,g))?rd(o,g,x):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.startDate,u=a.selectsStart,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?wt(o,f):wt(o,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||f?wt(o,h):wt(o,l)},t.isRangeStart=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:wt(o,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:wt(l,a)},t.isWeekend=function(){var r=_U(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Rr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Rr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(kt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return nr("react-datepicker__day",a,"react-datepicker__day--"+QF(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,o=r.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?f:l;return"".concat(h," ").concat(Zt(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,o=r.holidays,l=o===void 0?new Map:o,u=r.excludeDates,f=Zt(a,"MM.dd.yyyy"),h=[];return l.has(f)&&h.push.apply(h,l.get(f).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(g){return g instanceof Date?wt(g,a):wt(g==null?void 0:g.date,a)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),h.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&wt(a,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(QS(t.props.day),t.props.day):QS(t.props.day)},t.render=function(){return X.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&X.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(M.Component),hz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=M.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.props.date,t.props.selected)&&wt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||wt(t.props.date,t.props.selected)&&wt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&wt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&wt(this.props.date,this.props.selected)};return X.createElement("div",{ref:this.weekNumberEl,className:nr(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(M.Component),mz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ba(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,o){for(var l,u,f,h=new Date(r),g=0;g<7;g++){var v=new Date(r);v.setDate(v.getDate()+g);var x=!t.isDisabled(v);if(x){h=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,a,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):GF(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=ka(r,6),o=new Date(r);o<=a;){if(!t.isDisabled(o))return!1;o=ka(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;a.push(X.createElement(hz,Et({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=ka(r,u);return X.createElement(fz,Et({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return zs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!wt(t.startOfWeek(),t.props.selected)&&wt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":wt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return X.createElement("div",{className:nr(t)},this.renderDays())},e}(M.Component),Gu,pz=6,dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},o0=(Gu={},Gu[dc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Gu[dc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Gu[dc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Gu),Mh=1;function b2(n,e){return n?dc.FOUR_COLUMNS:e?dc.TWO_COLUMNS:dc.THREE_COLUMNS}var gz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ai([],Array(12),!0).map(function(){return M.createRef()}),t.QUARTER_REFS=ai([],Array(4),!0).map(function(){return M.createRef()}),t.isDisabled=function(r){return ba(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return _x(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Sr(va(o,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Im(rc(o,r),l)},t.isRangeEndMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Sr(va(o,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Im(rc(o,r),u)},t.isInSelectingRangeMonth=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?Ah(x,v,r,l):f&&g||h&&g&&!v?Ah(g,x,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.startDate,f=o.selectsStart,h=va(l,r),g=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?Sr(h,g):Sr(h,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.endDate,f=o.selectsEnd,h=o.selectsRange,g=va(l,r),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||h?Sr(g,v):Sr(g,u)},t.isInSelectingRangeQuarter=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?Nh(x,v,r,l):f&&g||h&&g&&!v?Nh(g,x,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,o=ka(r,6);return Sr(r,a)||Sr(o,a)},t.isCurrentMonth=function(r,a){return dt(r)===dt(kt())&&a===Rr(kt())},t.isCurrentQuarter=function(r,a){return dt(r)===dt(kt())&&a===Ko(kt())},t.isSelectedMonth=function(r,a,o){return Rr(o)===a&&dt(r)===dt(o)},t.isSelectMonthInList=function(r,a,o){return o.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,o){return Ko(r)===a&&dt(r)===dt(o)},t.renderWeeks=function(){for(var r=[],a=t.props.fixedHeight,o=0,l=!1,u=zs(Qi(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(E){return t.props.showWeekPicker?zs(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(E){return t.props.showWeekPicker?zs(E,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?h(t.props.selected):void 0,v=t.props.preSelection?f(t.props.preSelection):void 0;r.push(X.createElement(mz,Et({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:Rr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=Tm(u,1);var x=a&&o>=pz,w=!a&&!t.isWeekInMonth(u);if(x||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var o=t.isMonthDisabledForLabelDate(a),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick(Qi(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),o=a.isDisabled,l=a.labelDate;o||t.handleDayMouseEnter(Qi(l))},t.handleMonthNavigation=function(r,a){var o,l,u,f;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,o){var l,u=t.props,f=u.selected,h=u.preSelection,g=u.setPreSelection,v=u.minDate,x=u.maxDate,w=u.showFourColumnMonthYearPicker,E=u.showTwoColumnMonthYearPicker;if(h){var D=b2(w,E),A=t.getVerticalOffset(D),O=(l=o0[D])===null||l===void 0?void 0:l.grid,U=function(I,R,C){var N,L,H=R,F=C;switch(I){case Ae.ArrowRight:H=Oa(R,Mh),F=C===11?0:C+Mh;break;case Ae.ArrowLeft:H=Wo(R,Mh),F=C===0?11:C-Mh;break;case Ae.ArrowUp:H=Wo(R,A),F=!((N=O==null?void 0:O[0])===null||N===void 0)&&N.includes(C)?C+12-A:C-A;break;case Ae.ArrowDown:H=Oa(R,A),F=!((L=O==null?void 0:O[O.length-1])===null||L===void 0)&&L.includes(C)?C-12+A:C+A;break}return{newCalculatedDate:H,newCalculatedMonth:F}},B=function(I,R,C){for(var N=40,L=I,H=!1,F=0,Te=U(L,R,C),xe=Te.newCalculatedDate,K=Te.newCalculatedMonth;!H;){if(F>=N){xe=R,K=C;break}if(v&&xe<v){L=Ae.ArrowRight;var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}if(x&&xe>x){L=Ae.ArrowLeft;var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}if(tz(xe,t.props)){var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}else H=!0;F++}return{newCalculatedDate:xe,newCalculatedMonth:K}};if(a===Ae.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),g==null||g(f));return}var $=B(a,h,o),k=$.newCalculatedDate,Y=$.newCalculatedMonth;switch(a){case Ae.ArrowRight:case Ae.ArrowLeft:case Ae.ArrowUp:case Ae.ArrowDown:t.handleMonthNavigation(Y,k);break}}},t.getVerticalOffset=function(r){var a,o;return(o=(a=o0[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,a){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,f=r.key;f!==Ae.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var o=rc(t.props.day,a);Rh(o,t.props)||t.handleDayClick(a2(o),r)},t.onQuarterMouseEnter=function(r){var a=rc(t.props.day,r);Rh(a,t.props)||t.handleDayMouseEnter(a2(a))},t.handleQuarterNavigation=function(r,a){var o,l,u,f;t.isDisabled(a)||t.isExcluded(a)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var o,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Ae.Enter:t.onQuarterClick(r,a),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Ae.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,lx(t.props.preSelection,1));break;case Ae.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,oN(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,o=t.props,l=o.day,u=o.minDate,f=o.maxDate,h=o.excludeDates,g=o.includeDates,v=va(l,r);return{isDisabled:(a=(u||f||h||g)&&wN(v,t.props))!==null&&a!==void 0?a:!1,labelDate:v}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.preSelection,h=a.monthClassName,g=h?h(va(o,r)):void 0,v=t.getSelection();return nr("react-datepicker__month-text","react-datepicker__month-".concat(r),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(o,r,f)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?Ah(l,u,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Rr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Ko(t.props.preSelection),o=Rh(t.props.day,t.props),l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,o=a.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,h=a.day,g=a.locale,v=va(h,r),x=t.isDisabled(v)||t.isExcluded(v)?f:l;return"".concat(x," ").concat(Zt(v,"MMMM yyyy",g))},t.getQuarterClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.selected,h=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,w=a.filterDate,E=a.preSelection,D=a.disabledKeyboardNavigation,A=(h||g||v||x||w)&&Rh(rc(o,r),t.props);return nr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":f?t.isSelectedQuarter(o,r,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!D&&E&&t.isSelectedQuarter(o,r,E)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?Nh(l,u,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,r)})},t.getMonthContent=function(r){var a=t.props,o=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,f=a.day,h=_N(r,u),g=xx(r,u);return l?l(r,h,g,f):o?g:h},t.getQuarterContent=function(r){var a,o=t.props,l=o.renderQuarterContent,u=o.locale,f=ez(r,u);return(a=l==null?void 0:l(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,o=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,h=(r=o0[b2(l,o)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(g,v){return X.createElement("div",{className:"react-datepicker__month-wrapper",key:v},g.map(function(x,w){return X.createElement("div",{ref:t.MONTH_REFS[x],key:w,onClick:function(E){t.onMonthClick(E,x)},onKeyDown:function(E){SN(E)&&(E.preventDefault(),E.key=Ae.Enter),t.onMonthKeyDown(E,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,o=r.selected,l=[1,2,3,4];return X.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,f){return X.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(a,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,o=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,h=r.showWeekPicker;return nr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,f=u?u.trim()+" ":"";return X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(Zt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(M.Component),yz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,a){return X.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?X.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return X.createElement(Tp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),vz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,o){return X.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(r){return X.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return X.createElement(yz,Et({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,r)];return a&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return _N(o,t.props.locale)}:function(o){return xx(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return X.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(M.Component);function bz(n,e){for(var t=[],r=Qi(n),a=Qi(e);!Zs(r,a);)t.push(kt(r)),r=Oa(r,1);return t}var xz=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var o=cv(a),l=ei(r.props.date,a)&&Sr(r.props.date,a);return X.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":l?"true":void 0},l?X.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Zt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:bz(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=nr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return X.createElement(Tp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),_z=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Qi(t.props.minDate),a=Qi(t.props.maxDate),o=[];!Zs(r,a);){var l=cv(r);o.push(X.createElement("option",{key:l,value:l},Zt(r,t.props.dateFormat,t.props.locale))),r=Oa(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:cv(Qi(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=Zt(t.props.date,t.props.dateFormat,t.props.locale);return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return X.createElement(xz,Et({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=kt(r);ei(t.props.date,a)&&Sr(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),wz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var a,o;(t.props.minTime||t.props.maxTime)&&c2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&l2(r,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&uz(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&c2(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&l2(r,t.props)},t.liClasses=function(r){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&($i(r)*3600+Gi(r)*60+Fs(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,a){var o,l;r.key===Ae.Space&&(r.preventDefault(),r.key=Ae.Enter),(r.key===Ae.ArrowUp||r.key===Ae.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ae.ArrowDown||r.key===Ae.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ae.Enter&&t.handleClick(a),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,r)},t.renderTimes=function(){for(var r,a=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||kt(),f=Qh(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(A,O){return A.getTime()-O.getTime()}),g=60*cz(u),v=g/l,x=0;x<v;x++){var w=sv(f,x*l);if(a.push(w),h){var E=lz(f,w,x,l,h);a=a.concat(E)}}var D=a.reduce(function(A,O){return O.getTime()<=u.getTime()?O:A},a[0]);return a.map(function(A){return X.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(O){A===D&&(t.centerLi=O)},onKeyDown:function(O){t.handleOnKeyDown(O,A)},tabIndex:A===D?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},Zt(A,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?X.createElement(X.Fragment,null):X.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},X.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return X.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),X.createElement("div",{className:"react-datepicker__time"},X.createElement("div",{className:"react-datepicker__time-box"},X.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(M.Component),x2=3,Ez=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ai([],Array(r.props.yearItemNumber),!0).map(function(){return M.createRef()}),r.isDisabled=function(a){return ba(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return _x(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var o=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleYearNavigation=function(a,o){var l,u,f,h,g=r.props,v=g.date,x=g.yearItemNumber;if(!(v===void 0||x===void 0)){var w=Is(v,x).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,o),a-w<0?r.updateFocusOnPaginate(x-(w-a)):a-w>=x?r.updateFocusOnPaginate(Math.abs(x-(a-w))):(h=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus())}},r.isSameDay=function(a,o){return wt(a,o)},r.isCurrentYear=function(a){return a===dt(kt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&ei(Ja(kt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&ei(Ja(kt(),a),r.props.endDate)},r.isInRange=function(a){return Ch(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var o=r.props,l=o.selectsStart,u=o.selectsEnd,f=o.selectsRange,h=o.startDate,g=o.endDate;return!(l||u||f)||!r.selectingDate()?!1:l&&g?Ch(a,r.selectingDate(),g):u&&h||f&&h&&!g?Ch(a,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,f=l.selectsStart,h=Ja(kt(),a);return f?ei(h,(o=r.selectingDate())!==null&&o!==void 0?o:null):ei(h,u??null)},r.isSelectingRangeEnd=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,f=l.selectsEnd,h=l.selectsRange,g=Ja(kt(),a);return f||h?ei(g,(o=r.selectingDate())!==null&&o!==void 0?o:null):ei(g,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,l=o.minDate,u=o.maxDate,f=o.excludeDates,h=o.includeDates,g=o.filterDate,v=nd(Ja(r.props.date,a)),x=(l||u||f||h||g)&&Kh(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!wt(v,nd(r.props.selected))&&wt(v,nd(r.props.preSelection))&&!x}},r.onYearClick=function(a,o){var l=r.props.date;l!==void 0&&r.handleYearClick(nd(Ja(l,o)),a)},r.onYearKeyDown=function(a,o){var l,u,f=a.key,h=r.props,g=h.date,v=h.yearItemNumber,x=h.handleOnKeyDown;if(f!==Ae.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Ae.Enter:if(r.props.selected==null)break;r.onYearClick(a,o),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case Ae.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,Yi(r.props.preSelection,1));break;case Ae.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,Ac(r.props.preSelection,1));break;case Ae.ArrowUp:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var w=Is(g,v).startPeriod,E=x2,D=o-E;if(D<w){var A=v%E;o>=w&&o<w+A?E=A:E+=A,D=o-E}r.handleYearNavigation(D,Ac(r.props.preSelection,E));break}case Ae.ArrowDown:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var O=Is(g,v).endPeriod,E=x2,D=o+E;if(D>O){var A=v%E;o<=O&&o>O-A?E=A:E+=A,D=o+E}r.handleYearNavigation(D,Yi(r.props.preSelection,E));break}}x&&x(a)},r.getYearClassNames=function(a){var o=r.props,l=o.date,u=o.minDate,f=o.maxDate,h=o.selected,g=o.excludeDates,v=o.includeDates,x=o.filterDate,w=o.yearClassName;return nr("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w==null?void 0:w(Ja(l,a)):void 0,{"react-datepicker__year-text--selected":h?a===dt(h):void 0,"react-datepicker__year-text--disabled":(u||f||g||v||x)&&Kh(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=dt(r.props.preSelection),l=Kh(a,r.props);return a===o&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,o=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(o===void 0)return null;for(var h=Is(o,l),g=h.startPeriod,v=h.endPeriod,x=function(D){r.push(X.createElement("div",{ref:w.YEAR_REFS[D-g],onClick:function(A){t.onYearClick(A,D)},onKeyDown:function(A){SN(A)&&(A.preventDefault(),A.key=Ae.Enter),t.onYearKeyDown(A,D)},tabIndex:Number(w.getYearTabIndex(D)),className:w.getYearClassNames(D),onMouseEnter:w.props.usePointerEvent?void 0:function(A){return u(A,D)},onPointerEnter:w.props.usePointerEvent?function(A){return u(A,D)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(A){return f(A,D)},onPointerLeave:w.props.usePointerEvent?function(A){return f(A,D)}:void 0,key:D,"aria-current":w.isCurrentYear(D)?"date":void 0},w.getYearContent(D)))},w=this,E=g;E<=v;E++)x(E);return X.createElement("div",{className:"react-datepicker__year"},X.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(M.Component);function Tz(n,e,t,r){for(var a=[],o=0;o<2*e+1;o++){var l=n+e-o,u=!0;t&&(u=dt(t)<=l),r&&u&&(u=dt(r)>=l),u&&a.push(l)}return a}var Sz=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,f=r.state.yearsList.map(function(v){return X.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?X.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),h=r.props.minDate?dt(r.props.minDate):null,g=r.props.maxDate?dt(r.props.maxDate):null;return(!g||!r.state.yearsList.find(function(v){return v===g}))&&f.unshift(X.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.push(X.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(h){return h+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=a||(o?10:5);return r.state={yearsList:Tz(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=M.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=nr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return X.createElement(Tp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(M.Component),Dz=function(n){Gn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?dt(t.props.minDate):1900,a=t.props.maxDate?dt(t.props.maxDate):2100,o=[],l=r;l<=a;l++)o.push(X.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},X.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return X.createElement(Sz,Et({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(M.Component),Az=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Rz=function(n){var e=(n.className||"").split(/\s+/);return Az.some(function(t){return e.indexOf(t)>=0})},Cz=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var o,l;Rz(a.target)&&((l=(o=r.props).onDropdownFocus)===null||l===void 0||l.call(o,a))},r.getDateInView=function(){var a=r.props,o=a.preSelection,l=a.selected,u=a.openToDate,f=EN(r.props),h=TN(r.props),g=kt(),v=u||l||o;return v||(f&&rl(g,f)?f:h&&Zs(g,h)?h:g)},r.increaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Oa(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Wo(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,o,l){r.props.onSelect(a,o,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,o){r.setState({selectingDate:Ja(kt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,o)},r.handleYearMouseLeave=function(a,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,o)},r.handleYearChange=function(a){var o,l,u,f;(l=(o=r.props).onYearChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!ba(a,r.props))return a;for(var o=Qi(a),l=WF(a),u=S7(l,o),f=null,h=0;h<=u;h++){var g=ka(o,h);if(!ba(g,r.props)){f=g;break}}return f},r.handleMonthChange=function(a){var o,l,u,f=(o=r.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var o,l;(l=(o=r.props).onMonthChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(o){var l=o.date;return{date:Ja(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(o){var l=o.date;return{date:va(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(o){var l=o.date;return{date:Ja(va(l,Rr(a)),dt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var o=zs(a,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(X.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var f=ka(o,u),h=r.formatWeekday(f,r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return X.createElement("div",{key:u,"aria-label":Zt(f,"EEEE",r.props.locale),className:nr("react-datepicker__day-name",g)},h)}))},r.formatWeekday=function(a,o){return r.props.formatWeekDay?XF(a,r.props.formatWeekDay,o):r.props.useWeekdaysShort?JF(a,o):ZF(a,o)},r.decreaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:Ac(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,o,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,g=Wo(r.state.date,h),v;switch(!0){case r.props.showMonthYearPicker:v=f2(r.state.date,r.props);break;case r.props.showYearPicker:v=az(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=nz(r.state.date,r.props);break;default:v=u2(g,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(E=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),E=void 0);var D=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,O=A.previousMonthButtonLabel,U=O===void 0?e.defaultProps.previousMonthButtonLabel:O,B=A.previousYearButtonLabel,$=B===void 0?e.defaultProps.previousYearButtonLabel:B,k=r.props,Y=k.previousMonthAriaLabel,I=Y===void 0?typeof U=="string"?U:"Previous Month":Y,R=k.previousYearAriaLabel,C=R===void 0?typeof $=="string"?$:"Previous Year":R;return X.createElement("button",{type:"button",className:w.join(" "),onClick:E,onKeyDown:r.props.handleOnKeyDown,"aria-label":D?C:I},X.createElement("span",{className:x.join(" ")},D?$:U))}}},r.increaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:Yi(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=h2(r.state.date,r.props);break;case r.props.showYearPicker:o=iz(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=rz(r.state.date,r.props);break;default:o=d2(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,v=g.nextMonthButtonLabel,x=v===void 0?e.defaultProps.nextMonthButtonLabel:v,w=g.nextYearButtonLabel,E=w===void 0?e.defaultProps.nextYearButtonLabel:w,D=r.props,A=D.nextMonthAriaLabel,O=A===void 0?typeof x=="string"?x:"Next Month":A,U=D.nextYearAriaLabel,B=U===void 0?typeof E=="string"?E:"Next Year":U;return X.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?B:O},X.createElement("span",{className:u.join(" ")},h?E:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),X.createElement("h2",{className:o.join(" ")},Zt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return X.createElement(Dz,Et({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:dt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return X.createElement(vz,Et({},e.defaultProps,r.props,{month:Rr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return X.createElement(_z,Et({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(i2(),a),r.props.setPreSelection&&r.props.setPreSelection(i2())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return X.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var o=a.monthDate,l=a.i;return X.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),X.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)),X.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(a){var o,l,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=u2(r.state.date,r.props),g=d2(r.state.date,r.props),v=f2(r.state.date,r.props),x=h2(r.state.date,r.props),w=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return X.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(o=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Et(Et({},r.state),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:g,prevYearButtonDisabled:v,nextYearButtonDisabled:x})),w&&X.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(a){var o=a.monthDate,l=r.props,u=l.showYearPicker,f=l.yearItemNumber,h=f===void 0?e.defaultProps.yearItemNumber:f,g=Is(o,h),v=g.startPeriod,x=g.endPeriod;return X.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):dt(o))},r.renderHeader=function(a){var o=a.monthDate,l=a.i,u=l===void 0?0:l,f={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Yi(r.state.date,f):Wo(r.state.date,f),g=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,v=0;v<u;++v){var x=v-g+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Yi(h,x):Oa(h,x),E="month-".concat(v),D=v<u-1,A=v>0;l.push(X.createElement("div",{key:E,ref:function(O){r.monthContainer=O??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:v}),X.createElement(gz,Et({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:A}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return X.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),X.createElement(Ez,Et({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return X.createElement(wz,Et({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,o=a&&Sp(a)&&!!r.props.selected,l=o?"".concat(p2(a.getHours()),":").concat(p2(a.getMinutes())):"";if(r.props.showTimeInput)return X.createElement(dz,Et({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,o=Is(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=dt(r.state.date):f="".concat(xx(Rr(r.state.date),r.props.locale)," ").concat(dt(r.state.date)),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return X.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=M.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Wd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!wt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Sr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!wt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||HF;return X.createElement(Tp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},X.createElement("div",{style:{display:"contents"},ref:this.containerRef},X.createElement(t,{className:nr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(M.Component),Nz=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return X.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(X.isValidElement(e)){var l=e;return X.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return X.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},X.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},DN=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return fP.createPortal(this.props.children,this.el)},e}(M.Component),Mz="[tabindex], a, button, input, select, textarea",kz=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},AN=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Mz),1,-1).filter(kz)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=M.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?X.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},X.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,X.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(M.Component);function Pz(n){var e=function(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=M.useRef(null),l=zF(Et({open:!a,whileElementsMounted:xF,placement:t.popperPlacement,middleware:ai([AF({padding:15}),DF(10),RF({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=Et(Et({},t),{hidePopper:a,popperProps:Et(Et({},l),{arrowRef:o})});return X.createElement(n,Et({},u))};return e}var Oz=function(n){Gn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,a=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,f=t.targetComponent,h=t.enableTabLoop,g=t.popperOnKeyDown,v=t.portalId,x=t.portalHost,w=t.popperProps,E=t.showArrow,D=void 0;if(!l){var A=nr("react-datepicker-popper",r);D=X.createElement(AN,{enableTabLoop:h},X.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:A,"data-placement":w.placement,onKeyDown:g},u,E&&X.createElement(IF,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(D=M.createElement(this.props.popperContainer,{},D)),v&&!l&&(D=X.createElement(DN,{portalId:v,portalHost:x},D));var O=nr("react-datepicker-wrapper",a);return X.createElement(X.Fragment,null,X.createElement("div",{ref:w.refs.setReference,className:O},f),D)},e}(M.Component),Iz=Pz(Oz),_2="react-datepicker-ignore-onclickoutside";function jz(n,e){return n&&e?Rr(n)!==Rr(e)||dt(n)!==dt(e):n!==e}var l0="Date input not valid.",Vz=function(n){Gn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:kt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,l){var u=new Date(l.date);return Sp(u)?ai(ai([],o,!0),[Et(Et({},l),{date:u})],!1):o},[])},r.calcInitialState=function(){var a,o=r.getPreSelection(),l=EN(r.props),u=TN(r.props),f=l&&rl(o,Qh(l))?l:u&&Zs(o,s2(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:m2(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Et(Et({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},r.setBlur=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,o){o===void 0&&(o=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:c0},function(){a||r.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return qi(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var o,l,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(o=r.props).onFocus)===null||l===void 0||l.call(o,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var o,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(o=r.props).onBlur)===null||l===void 0||l.call(o,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var o,l;r.props.inline||r.setOpen(!1),(l=(o=r.props).onClickOutside)===null||l===void 0||l.call(o,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,o,l,u,f,h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var v=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){r.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:Lz});var x=r.props,w=x.selectsRange,E=x.startDate,D=x.endDate,A=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,O=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,U=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(w){var B=U.split("-",2).map(function(L){return L.trim()}),$=B[0],k=B[1],Y=i0($??"",A,r.props.locale,O),I=i0(k??"",A,r.props.locale,O),R=(E==null?void 0:E.getTime())!==(Y==null?void 0:Y.getTime()),C=(D==null?void 0:D.getTime())!==(I==null?void 0:I.getTime());if(!R&&!C||Y&&ba(Y,r.props)||I&&ba(I,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[Y,I],v)}else{var N=i0(U,A,r.props.locale,O,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(N||!U)&&r.setSelected(N,v,!0)}}},r.handleSelect=function(a,o,l){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(a,o,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,f=u.startDate,h=u.endDate;f&&!h&&(r.props.swapRange||!v2(a,f))&&r.setOpen(!1)}},r.setSelected=function(a,o,l,u){var f,h,g=a;if(r.props.showYearPicker){if(g!==null&&Kh(dt(g),r.props))return}else if(r.props.showMonthYearPicker){if(g!==null&&wN(g,r.props))return}else if(g!==null&&ba(g,r.props))return;var v=r.props,x=v.onChange,w=v.selectsRange,E=v.startDate,D=v.endDate,A=v.selectsMultiple,O=v.selectedDates,U=v.minTime,B=v.swapRange;if(!qo(r.props.selected,g)||r.props.allowSameDay||w||A)if(g!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(g=s0(g,{hour:$i(r.props.selected),minute:Gi(r.props.selected),second:Fs(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&U&&(g=s0(g,{hour:U.getHours(),minute:U.getMinutes(),second:U.getSeconds()})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var $=!E&&!D,k=E&&!D,Y=E&&D;$?x==null||x([g,null],o):k&&(g===null?x==null||x([null,null],o):v2(g,E)?B?x==null||x([g,E],o):x==null||x([g,null],o):x==null||x([E,g],o)),Y&&(x==null||x([g,null],o))}else if(A){if(g!==null)if(!(O!=null&&O.length))x==null||x([g],o);else{var I=O.some(function(C){return wt(C,g)});if(I){var R=O.filter(function(C){return!wt(C,g)});x==null||x(R,o)}else x==null||x(ai(ai([],O,!0),[g],!1),o)}}else x==null||x(g,o);l||((h=(f=r.props).onSelect)===null||h===void 0||h.call(f,g,o),r.setState({inputValue:null}))},r.setPreSelection=function(a){var o=qi(r.props.minDate),l=qi(r.props.maxDate),u=!0;if(a){var f=Qh(a);if(o&&l)u=rd(a,r.props.minDate,r.props.maxDate);else if(o){var h=Qh(r.props.minDate);u=Zs(a,h)||qo(f,h)}else if(l){var g=s2(r.props.maxDate);u=rl(a,g)||qo(f,g)}}u&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var o,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:s0(u,{hour:$i(a),minute:Gi(a)});r.setState({preSelection:f}),(l=(o=r.props).onChange)===null||l===void 0||l.call(o,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(a=r.props).onInputClick)===null||o===void 0||o.call(a)},r.onInputKeyDown=function(a){var o,l,u,f,h,g;(l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Ae.ArrowDown||v===Ae.ArrowUp||v===Ae.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(v===Ae.ArrowDown||v===Ae.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var E=kt(r.state.preSelection);v===Ae.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===c0?(r.handleSelect(E,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(E)):r.setOpen(!1)):v===Ae.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Ae.Tab&&r.setOpen(!1),r.inputOk()||(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:l0})}},r.onPortalKeyDown=function(a){var o=a.key;o===Ae.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var o,l,u,f,h,g,v=r.props,x=v.minDate,w=v.maxDate,E=v.disabledKeyboardNavigation,D=v.showWeekPicker,A=v.shouldCloseOnSelect,O=v.locale,U=v.calendarStartDay,B=v.adjustDateOnChange,$=v.inline;if((l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a),!E){var k=a.key,Y=a.shiftKey,I=kt(r.state.preSelection),R=function(xe,K){var ne=K;switch(xe){case Ae.ArrowRight:ne=D?Tm(K,1):ka(K,1);break;case Ae.ArrowLeft:ne=D?KS(K):SB(K);break;case Ae.ArrowUp:ne=KS(K);break;case Ae.ArrowDown:ne=Tm(K,1);break;case Ae.PageUp:ne=Y?Ac(K,1):Wo(K,1);break;case Ae.PageDown:ne=Y?Yi(K,1):Oa(K,1);break;case Ae.Home:ne=zs(K,O,U);break;case Ae.End:ne=KF(K);break}return ne},C=function(xe,K){for(var ne=40,se=xe,be=!1,P=0,ee=R(xe,K);!be;){if(P>=ne){ee=K;break}x&&ee<x&&(se=Ae.ArrowRight,ee=ba(x,r.props)?R(se,ee):x),w&&ee>w&&(se=Ae.ArrowLeft,ee=ba(w,r.props)?R(se,ee):w),ba(ee,r.props)?((se===Ae.PageUp||se===Ae.Home)&&(se=Ae.ArrowRight),(se===Ae.PageDown||se===Ae.End)&&(se=Ae.ArrowLeft),ee=R(se,ee)):be=!0,P++}return ee};if(k===Ae.Enter){a.preventDefault(),r.handleSelect(I,a),!A&&r.setPreSelection(I);return}else if(k===Ae.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:l0});return}var N=null;switch(k){case Ae.ArrowLeft:case Ae.ArrowRight:case Ae.ArrowUp:case Ae.ArrowDown:case Ae.PageUp:case Ae.PageDown:case Ae.Home:case Ae.End:N=C(k,I);break}if(!N){(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:l0});return}if(a.preventDefault(),r.setState({lastPreSelectChange:c0}),B&&r.setSelected(N),r.setPreSelection(N),$){var L=Rr(I),H=Rr(N),F=dt(I),Te=dt(N);L!==H||F!==Te?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var o=a.key;o===Ae.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var o=r.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],a):u==null||u(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,o;return!r.props.inline&&!r.isCalendarOpen()?null:X.createElement(Cz,Et({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:oz(r.modifyHolidays()),outsideClickIgnoreClass:_2,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,o=a.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=a.locale,f=r.props.showTimeInput||r.props.showTimeSelect,h=f?"PPPPp":"PPPP",g;return r.props.selectsRange?g="Selected start date: ".concat(ya(r.props.startDate,{dateFormat:h,locale:u}),". ").concat(r.props.endDate?"End date: "+ya(r.props.endDate,{dateFormat:h,locale:u}):""):r.props.showTimeSelectOnly?g="Selected time: ".concat(ya(r.props.selected,{dateFormat:l,locale:u})):r.props.showYearPicker?g="Selected year: ".concat(ya(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?g="Selected month: ".concat(ya(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?g="Selected quarter: ".concat(ya(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(ya(r.props.selected,{dateFormat:h,locale:u})),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},r.renderDateInput=function(){var a,o,l,u=nr(r.props.className,(a={},a[_2]=r.state.open,a)),f=r.props.customInput||X.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",g=r.props,v=g.dateFormat,x=v===void 0?e.defaultProps.dateFormat:v,w=g.locale,E=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?qF(r.props.startDate,r.props.endDate,{dateFormat:x,locale:w}):r.props.selectsMultiple?$F((l=r.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:x,locale:w}):ya(r.props.selected,{dateFormat:x,locale:w});return M.cloneElement(f,(o={},o[h]=function(D){r.input=D},o.value=E,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=nr(f.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var a=r.props,o=a.isClearable,l=a.disabled,u=a.selected,f=a.startDate,h=a.endDate,g=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,w=a.ariaLabelClose,E=w===void 0?"Close":w,D=a.selectedDates;return o&&(u!=null||f!=null||h!=null||D!=null&&D.length)?X.createElement("button",{type:"button",className:nr("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":E,onClick:r.onClearClick,title:g,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Wd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,o,l,u;t.inline&&jz(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:m2(this.props.highlightDates)}),!r.focused&&!qo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),X.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&X.createElement(Nz,Et({icon:a,className:nr(l,!l&&o,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?X.createElement(AN,{enableTabLoop:this.props.enableTabLoop},X.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=X.createElement(DN,Et({portalId:this.props.portalId},this.props),r)),X.createElement("div",null,this.renderInputContainer(),r)}return X.createElement(Iz,Et({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(M.Component),Lz="input",c0="navigate";function hv(n){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(n)}function Uz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Fz(n,e,t){return e&&Bz(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function zz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mv(n,e)}function mv(n,e){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mv(n,e)}function Hz(n){var e=$z();return function(){var r=jm(n),a;if(e){var o=jm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Yz(this,a)}}function Yz(n,e){if(e&&(hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qz(n)}function qz(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jm(n){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jm(n)}function Gz(n,e){if(!document.head.querySelector("#"+n)){var t=document.createElement("style");t.textContent=e,t.type="text/css",t.id=n,document.head.appendChild(t)}}var Qz=function(n){zz(t,n);var e=Hz(t);function t(){return Uz(this,t),e.apply(this,arguments)}return Fz(t,[{key:"componentDidMount",value:function(){Gz(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),t}(M.Component),Kz=function(e){var t=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(t,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(t,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},Wz=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),X.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},Xz=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),X.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},Zz=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},Jz=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},eH=function(){return X.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),X.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},tH=function(){return X.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),X.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))};function nH(n){return document.location.hostname!==new URL(n,document.location).hostname}var rH=function(e){return function(t){nH(e)&&(t.preventDefault(),fetch(e).then(function(r){return r.ok||console.error("Failed to download image, HTTP status "+r.status+" from "+e),r.blob().then(function(a){var o=document.createElement("a");o.setAttribute("download",e.split("/").pop()),o.href=URL.createObjectURL(a),o.click()})}).catch(function(r){console.error(r),console.error("Failed to download image from "+e)}))}},aH=function(e){var t=e.image,r=e.alt,a=e.zoomed,o=e.toggleZoom,l=e.toggleRotate,u=e.onClose,f=e.enableDownload,h=e.enableZoom,g=e.enableRotate;return X.createElement("div",{className:"__react_modal_image__header"},X.createElement("span",{className:"__react_modal_image__icon_menu"},f&&X.createElement("a",{href:t,download:!0,onClick:rH(t)},X.createElement(Zz,null)),h&&X.createElement("a",{onClick:o},a?X.createElement(Xz,null):X.createElement(Wz,null)),g&&X.createElement("a",{onClick:l},X.createElement(tH,null)),X.createElement("a",{onClick:u},X.createElement(Jz,null))),r&&X.createElement("span",{className:"__react_modal_image__caption"},r))};function pv(n){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(n)}function iH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function oH(n,e,t){return e&&sH(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function lH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gv(n,e)}function gv(n,e){return gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gv(n,e)}function cH(n){var e=dH();return function(){var r=Vm(n),a;if(e){var o=Vm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return uH(this,a)}}function uH(n,e){if(e&&(pv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wh(n)}function Wh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function dH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vm(n){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vm(n)}function u0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w2=function(n){lH(t,n);var e=cH(t);function t(){var r;iH(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),u0(Wh(r),"state",{loading:!0}),u0(Wh(r),"handleOnLoad",function(){r.setState({loading:!1})}),u0(Wh(r),"handleOnContextMenu",function(u){!r.props.contextMenu&&u.preventDefault()}),r}return oH(t,[{key:"render",value:function(){var a=this.props,o=a.id,l=a.className,u=a.src,f=a.style,h=a.handleDoubleClick;return X.createElement("div",null,this.state.loading&&X.createElement(eH,null),X.createElement("img",{id:o,className:l,src:u,style:f,onLoad:this.handleOnLoad,onDoubleClick:h,onContextMenu:this.handleOnContextMenu}))}}]),t}(M.Component);function yv(n){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yv(n)}function fH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function mH(n,e,t){return e&&hH(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function pH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&vv(n,e)}function vv(n,e){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},vv(n,e)}function gH(n){var e=vH();return function(){var r=Lm(n),a;if(e){var o=Lm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return yH(this,a)}}function yH(n,e){if(e&&(yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(n)}function Bi(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lm(n){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lm(n)}function Cs(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var bH=function(n){pH(t,n);var e=gH(t);function t(){var r;fH(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),Cs(Bi(r),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),Cs(Bi(r),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&r.props.onClose()}),Cs(Bi(r),"getCoordinatesIfOverImg",function(u){var f=u.changedTouches?u.changedTouches[0]:u;if(f.target.id==="react-modal-image-img"){var h=r.contentEl.getBoundingClientRect(),g=f.clientX-h.left,v=f.clientY-h.top;return{x:g,y:v}}}),Cs(Bi(r),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f||r.props.onClose(),r.state.zoomed&&r.setState(function(h){return{moveStart:{x:f.x-h.move.x,y:f.y-h.move.y}}})}}),Cs(Bi(r),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!r.state.zoomed||!r.state.moveStart)&&!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f&&r.setState(function(h){return{move:{x:f.x-h.moveStart.x,y:f.y-h.moveStart.y}}})}}),Cs(Bi(r),"handleMouseUpOrTouchEnd",function(u){r.setState({moveStart:void 0})}),Cs(Bi(r),"toggleZoom",function(u){u.preventDefault(),r.setState(function(f){return{zoomed:!f.zoomed,move:f.zoomed?{x:0,y:0}:f.move}})}),Cs(Bi(r),"toggleRotate",function(u){u.preventDefault();var f=r.state.rotationDeg;if(f===360){r.setState({rotationDeg:90});return}r.setState(function(h){return{rotationDeg:h.rotationDeg+=90}})}),r}return mH(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,o=this.props,l=o.medium,u=o.large,f=o.alt,h=o.onClose,g=o.hideDownload,v=o.hideZoom,x=o.showRotate,w=o.imageBackgroundColor,E=w===void 0?"black":w,D=this.state,A=D.move,O=D.zoomed,U=D.rotationDeg;return X.createElement("div",null,X.createElement(Qz,{name:"__react_modal_image__lightbox",css:Kz({imageBackgroundColor:E})}),X.createElement("div",{className:"__react_modal_image__modal_container"},X.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function($){a.contentEl=$}},O&&X.createElement(w2,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||l,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) rotate(").concat(U,"deg)")},handleDoubleClick:this.toggleZoom}),!O&&X.createElement(w2,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:l||u,handleDoubleClick:this.toggleZoom,contextMenu:!l,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)")}})),X.createElement(aH,{image:u||l,alt:f,zoomed:O,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:h,enableDownload:!g,enableZoom:!v,enableRotate:!!x})))}}]),t}(M.Component);function bv(n){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bv(n)}function xH(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function wH(n,e,t){return e&&_H(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function EH(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&xv(n,e)}function xv(n,e){return xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},xv(n,e)}function TH(n){var e=DH();return function(){var r=Um(n),a;if(e){var o=Um(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return SH(this,a)}}function SH(n,e){if(e&&(bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _v(n)}function _v(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Um(n){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Um(n)}function E2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var AH=function(n){EH(t,n);var e=TH(t);function t(){var r;xH(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),E2(_v(r),"state",{modalOpen:!1}),E2(_v(r),"toggleModal",function(){r.setState(function(u){return{modalOpen:!u.modalOpen}})}),r}return wH(t,[{key:"render",value:function(){var a=this.props,o=a.className,l=a.small,u=a.smallSrcSet,f=a.medium,h=a.large,g=a.alt,v=a.hideDownload,x=a.hideZoom,w=a.showRotate,E=a.imageBackgroundColor,D=this.state.modalOpen;return X.createElement("div",null,X.createElement("img",{className:o,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:l,srcSet:u,alt:g}),D&&X.createElement(bH,{medium:f,large:h,alt:g,onClose:this.toggleModal,hideDownload:v,hideZoom:x,showRotate:w,imageBackgroundColor:E}))}}]),t}(M.Component);const RH=()=>{const{providerId:n}=Fm(),e=Ia(),t=ir(),[r,a]=M.useState(null),[o,l]=M.useState([]),[u,f]=M.useState([]),[h,g]=M.useState(null),[v,x]=M.useState(!0),[w,E]=M.useState(null),[D,A]=M.useState(""),[O,U]=M.useState(0),[B,$]=M.useState(0),[k,Y]=M.useState(""),[I,R]=M.useState(!1),[C,N]=M.useState([]),[L,H]=M.useState(""),[F,Te]=M.useState(""),[xe,K]=M.useState(""),[ne,se]=M.useState("works"),[be,P]=M.useState(!1),[ee,ce]=M.useState(null),[de,_e]=M.useState(!1),[ze,Ge]=M.useState(!1),[Ut,it]=M.useState(!1);M.useEffect(()=>{(async()=>{try{x(!0);let Ie;if(e.state&&e.state.provider&&e.state.bool)Ie=e.state.provider,console.log(e.state.bool),it(e.state.bool);else{const En=await Tc(On(rt,"serviceProviders",n));if(En.exists())Ie={id:En.id,...En.data()};else throw new Error("مقدم الخدمة غير موجود")}a(Ie);const nt=Dr(Xt(rt,"providerWorks"),mr("providerEmail","==",Ie.email)),ot=rv(nt,En=>{const Ht=En.docs.map(pn=>({id:pn.id,...pn.data()}));l(Ht)}),Jt=Dr(Xt(rt,"reviews"),mr("providerEmail","==",Ie.email)),sn=rv(Jt,En=>{const Ht=En.docs.map(pn=>({id:pn.id,...pn.data()}));f(Ht)}),sr=localStorage.getItem("currentUser");if(sr&&sr!=='""'){const En=JSON.parse(sr);g(En)}return x(!1),()=>{ot(),sn()}}catch(Ie){console.error("Error fetching provider data:",Ie),K("حدث خطأ أثناء تحميل البيانات"),x(!1)}})()},[n,e]);const He=()=>!u||u.length===0?0:(u.reduce((Ie,nt)=>Ie+nt.rating,0)/u.length).toFixed(1),ge=async(we,Ie)=>{try{const nt=Dr(Xt(rt,"bookings"),mr("providerEmail","==",r.email),mr("bookingDate","==",we),mr("bookingTime","==",Ie),mr("status","in",["pending","confirmed"]));return(await pr(nt)).empty}catch(nt){return console.error("Error checking appointment availability:",nt),!1}},pe=async()=>{if(!h){K("يرجى تسجيل الدخول أولاً للحجز");return}if(!w||!L){K("يرجى اختيار التاريخ والوقت للحجز");return}try{const we=w.toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),Ie=w.toISOString().split("T")[0];P(!0);const nt=await ge(Ie,L);if(P(!1),!nt){ce({success:!1,message:"هذا الموعد محجوز بالفعل، يرجى اختيار وقت آخر"}),_e(!0);return}const ot={providerEmail:r.email,providerName:r.name,clientEmail:h.email,clientName:h.name,bookingDate:Ie,bookingTime:L,note:k,status:"pending",createdAt:el()},Jt=await kd(Xt(rt,"bookings"),ot);await Go(On(rt,"serviceProviders",n),{bookings:Zy(Jt.id)}),await Go(On(rt,"users",h.uid),{bookings:Zy(Jt.id)}),ce({success:!0,message:`تم الحجز بنجاح مع ${r.name} في ${we} الساعة ${L}`}),_e(!0),R(!1),Y(""),E(null),H("")}catch(we){console.error("Error booking appointment:",we),ce({success:!1,message:"حدث خطأ أثناء إجراء الحجز، يرجى المحاولة مرة أخرى"}),_e(!0),P(!1)}},ke=async()=>{if(!h){K("يرجى تسجيل الدخول أولاً لإضافة تقييم");return}if(O===0){K("يرجى تحديد التقييم النجمي");return}try{Ge(!0);const we={providerEmail:r.email,providerName:r.name,providerCategory:r.category,clientEmail:h.email,clientName:h.name,rating:O,review:D,createdAt:el()},Ie=await kd(Xt(rt,"reviews"),we);await Go(On(rt,"serviceProviders",n),{reviews:Zy(Ie.id),ratingsCount:(r.ratingsCount||0)+1,ratingsTotal:(r.ratingsTotal||0)+O},{merge:!0}),f([...u,{id:Ie.id,...we}]),U(0),A(""),Te("تم إضافة تقييمك بنجاح!"),setTimeout(()=>{Te("")},3e3)}catch(we){console.error("Error submitting review:",we),K("حدث خطأ أثناء إرسال التقييم"),setTimeout(()=>{K("")},3e3)}finally{Ge(!1)}},Me=()=>{if(!h){K("يرجى تسجيل الدخول أولاً للحجز");return}N(["9:00 صباحاً","10:00 صباحاً","11:00 صباحاً","12:00 ظهراً","1:00 مساءً","2:00 مساءً","3:00 مساءً","4:00 مساءً","5:00 مساءً","6:00 مساءً","7:00 مساءً"]),R(!0)},Ze=()=>{if(!h||!r)return;const we=h.uid||h.id,Ie=r.id||r.uid;t(`/nafany/chat/${Ie}`,{state:{provider:{id:Ie,email:r.email,name:r.name,profileImage:r.profileImage||"/default-profile.png"},user:{id:we,email:h.email,name:h.name,profileImage:h.profileImage||"/default-profile.png"}}})},zt=(we,Ie=null,nt=null)=>[1,2,3,4,5].map(ot=>y.jsx("span",{onClick:Ie?()=>Ie(ot):void 0,onMouseEnter:nt?()=>nt(ot):void 0,onMouseLeave:nt?()=>nt(0):void 0,className:"cursor-pointer text-xl",style:{color:ot<=we?"#FFD700":"#C0C0C0"},children:ot<=we?y.jsx(iv,{}):y.jsx(HC,{})},ot));return v?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):r?y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[F&&y.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:F}),xe&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:xe}),y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[y.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden mb-4 md:mb-0 md:mr-6",children:y.jsx("img",{src:r.profileImage||"../../public/IMG-20250322-WA0070.jpg",alt:r.name,className:"w-full h-full object-cover",onError:we=>{we.target.onerror=null,we.target.src="../../public/IMG-20250322-WA0070.jpg"}})}),y.jsxs("div",{className:"flex-1 text-center md:text-right",children:[y.jsx("h1",{className:"text-3xl font-bold text-cyan-800 mb-2",children:r.name}),y.jsxs("div",{className:"flex items-center justify-center md:justify-end mb-2",children:[y.jsx("div",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm mr-2",children:r.profession||r.category}),y.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:r.governorate||"غير محدد المنطقة"})]}),y.jsx("div",{className:"flex items-center justify-center md:justify-end mb-4",children:y.jsxs("div",{className:"flex items-center",children:[zt(Math.round(He())),y.jsx("span",{className:"mx-2 text-yellow-500 font-bold",children:He()}),y.jsxs("span",{className:"text-gray-500",children:["(",u.length," تقييم)"]})]})}),y.jsx("p",{className:"text-gray-600 mb-4 max-w-2xl",children:r.bio||"لا يوجد وصف لمقدم الخدمة"}),y.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start space-x-4 mt-4",children:[Ut&&y.jsxs("button",{onClick:Me,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx(i7,{className:"mr-2"}),"احجز موعد"]}),y.jsxs("button",{onClick:Ze,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx(o7,{className:"mr-2"}),"محادثة"]})]})]})]})}),y.jsxs("div",{className:"mb-6 flex border-b border-gray-200",children:[y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="works"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>se("works"),children:"الأعمال السابقة"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="reviews"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>se("reviews"),children:"التقييمات"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="about"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>se("about"),children:"عن مقدم الخدمة"})]}),ne==="works"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"الأعمال السابقة"}),o.length>0?y.jsx("div",{className:"space-y-8",children:o.map((we,Ie)=>y.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ie*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:we.title}),we.images&&we.images.length>0&&y.jsx("div",{className:"mb-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:we.images.map((nt,ot)=>y.jsx(AH,{small:nt,large:nt,alt:`${we.title} - صورة ${ot+1}`,className:"rounded-lg object-cover h-48 w-full cursor-pointer",imageBackgroundColor:"#fff"},ot))})}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"وصف العمل:"}),y.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:we.description})]}),y.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-4 border-t border-gray-200",children:[y.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"تاريخ الإنجاز:"}),y.jsx("span",{className:"text-sm font-medium",children:we.createdAt&&we.createdAt.toDate?we.createdAt.toDate().toLocaleDateString():"غير محدد"})]}),we.ratings&&we.ratings.length>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"التقييم:"}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(iv,{className:"text-yellow-500 mr-1"}),y.jsx("span",{className:"font-medium",children:(we.ratings.reduce((nt,ot)=>nt+ot,0)/we.ratings.length).toFixed(1)})]})]})]})]})},we.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد أعمال سابقة لعرضها"})]}),ne==="reviews"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"أضف تقييمك"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تقييمك:"}),y.jsx("div",{className:"flex space-x-2 mb-4",children:zt(B||O,we=>U(we),we=>$(we))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تعليقك:"}),y.jsx("textarea",{value:D,onChange:we=>A(we.target.value),placeholder:"أخبرنا عن تجربتك مع مقدم الخدمة...",className:"w-full border border-gray-300 rounded-lg p-3 h-32"})]}),y.jsx("button",{onClick:ke,disabled:!h||O===0||ze,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:ze?"جاري الإرسال...":"إرسال التقييم"}),!h&&y.jsx("p",{className:"text-red-500 mt-2",children:"يرجى تسجيل الدخول لإضافة تقييم"})]}),y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["التقييمات (",u.length,")"]}),u.length>0?y.jsx("div",{className:"space-y-4",children:u.map((we,Ie)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ie*.1},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:we.clientName}),y.jsx("div",{className:"flex",children:zt(we.rating)})]}),y.jsx("p",{className:"text-gray-600 mb-2",children:we.review}),y.jsx("div",{className:"text-sm text-gray-500",children:we.createdAt&&we.createdAt.toDate?we.createdAt.toDate().toLocaleDateString():"تاريخ غير محدد"})]},we.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد تقييمات لمقدم الخدمة"})]}),ne==="about"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"معلومات مقدم الخدمة"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المهنة:"}),y.jsx("p",{children:r.profession||r.category||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المنطقة:"}),y.jsx("p",{children:r.governorate||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"عدد الأعمال المنجزة:"}),y.jsx("p",{children:r.worksCount||o.length||0})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"نبذة:"}),y.jsx("p",{children:r.bio||"لا توجد نبذة تعريفية"})]}),r.services&&r.services.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخدمات المقدمة:"}),y.jsx("ul",{className:"list-disc list-inside",children:r.services.map((we,Ie)=>y.jsx("li",{children:we},Ie))})]}),r.experience&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخبرة:"}),y.jsx("p",{children:r.experience})]})]})]})]}),I&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["حجز موعد مع ",r.name]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر التاريخ:"}),y.jsx(Vz,{selected:w,onChange:we=>E(we),className:"w-full border border-gray-300 rounded-lg p-3",dateFormat:"dd/MM/yyyy",minDate:new Date,placeholderText:"اختر تاريخ الحجز"})]}),w&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر الوقت:"}),y.jsxs("select",{value:L,onChange:we=>H(we.target.value),className:"w-full border border-gray-300 rounded-lg p-3",children:[y.jsx("option",{value:"",children:"-- اختر الوقت --"}),C.map((we,Ie)=>y.jsx("option",{value:we,children:we},Ie))]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات (اختياري):"}),y.jsx("textarea",{value:k,onChange:we=>Y(we.target.value),placeholder:"أضف أي ملاحظات أو تفاصيل إضافية حول الحجز...",className:"w-full border border-gray-300 rounded-lg p-3 h-24"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>R(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg",children:"إلغاء"}),y.jsx("button",{onClick:pe,disabled:!w||!L||be,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:be?"جاري التحقق...":"تأكيد الحجز"})]})]})}),de&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsx(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[ee.success?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(s7,{className:"text-green-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"تم الحجز بنجاح!"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(u7,{className:"text-red-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"لم يتم الحجز"})]}),y.jsx("p",{className:"mb-6 text-gray-700",children:ee.message}),y.jsx("button",{onClick:()=>_e(!1),className:`px-6 py-2 rounded-lg ${ee.success?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"حسناً"})]})})})]}):y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"لم يتم العثور على مقدم الخدمة، يرجى التحقق من الرابط والمحاولة مرة أخرى."})})};function CH(n){return Vn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(n)}const NH=()=>{const{providerId:n}=Fm(),e=Ia(),t=ir(),[r,a]=M.useState([]),[o,l]=M.useState(""),[u,f]=M.useState(!0),[h,g]=M.useState(null),[v,x]=M.useState(null),w=M.useRef(null),[E,D]=M.useState(!1),[A,O]=M.useState(""),U=(Y,I)=>[Y,I].sort().join("_"),B=()=>{try{const Y=localStorage.getItem("currentUser");if(!Y)return null;const I=JSON.parse(Y);if(!I)return null;if(I.uid&&!I.id)I.id=I.uid;else if(I.id&&!I.uid)I.uid=I.id;else if(!I.uid&&!I.id)return null;return I}catch(Y){return console.error("Error parsing user data:",Y),null}};M.useEffect(()=>{(async()=>{var I;try{f(!0);const R=B();if(!R){t("/nafany/login");return}g(R);let C,N;if((I=e.state)!=null&&I.provider)C=e.state.provider,e.state.user?N=e.state.user:N={id:R.uid||R.id,name:R.name,email:R.email};else{C={id:R.uid||R.id,name:R.name,email:R.email};try{const Te=await Tc(On(rt,"users",n));if(Te.exists())N={id:Te.id,...Te.data()};else{const xe=await Tc(On(rt,"serviceProviders",n));if(!xe.exists())throw new Error("User not found");N={id:xe.id,...xe.data()}}}catch(Te){throw console.error("Error fetching client data:",Te),Te}}C.id=C.id||C.uid,N.id=N.id||N.uid,x(C);const L=U(C.id,N.id);console.log("Chat participants:",{provider:C,client:N}),console.log("Generated chatId:",L),O(L);const H=Dr(Xt(rt,"chats",L,"messages"),xm("timestamp","asc")),F=rv(H,Te=>{const xe=Te.docs.map(K=>{var ne;return{id:K.id,...K.data(),timestamp:((ne=K.data().timestamp)==null?void 0:ne.toDate())||new Date}});console.log("Real-time messages update:",xe),a(xe)});return f(!1),F}catch(R){console.error("Chat init error:",R),f(!1)}})()},[n,e.state,t]);const $=()=>{var Y;(Y=w.current)==null||Y.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{$()},[r]);const k=async Y=>{if(Y.preventDefault(),!(!o.trim()||!h||!v||!A))try{console.log("Sending message with chatId:",A),console.log("From:",h.id||h.uid,"To:",v.id||v.uid);const I=await kd(Xt(rt,"chats",A,"messages"),{text:o,senderId:h.id||h.uid,senderName:h.name,receiverId:v.id||v.uid,timestamp:el(),isRead:!1});await tx(On(rt,"chats",A),{lastMessage:o,lastMessageTime:el(),providerData:{id:v.id||v.uid,name:v.name,email:v.email},userData:{id:h.id||h.uid,name:h.name,email:h.email},participants:[h.id||h.uid,v.id||v.uid],participantsNames:[h.name,v.name]},{merge:!0}),l(""),console.log("Message sent successfully:",I.id)}catch(I){console.error("Message send error:",I)}};return M.useEffect(()=>{if(r.length>0&&r[r.length-1].senderId===(h==null?void 0:h.uid)){const Y=setTimeout(()=>{D(!0);const I=setTimeout(()=>{D(!1)},3e3);return()=>clearTimeout(I)},2e3);return()=>clearTimeout(Y)}},[r,h]),u?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل المحادثة..."})}):!v||!h?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"حدث خطأ في تحميل بيانات المحادثة"})}):y.jsxs(ve.div,{className:"flex flex-col min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center",children:[y.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:y.jsx(r7,{className:"text-gray-600 text-xl"})}),y.jsxs("div",{className:"flex items-center mx-4",children:[v.profileImage?y.jsx("img",{src:v.profileImage,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):y.jsx(ox,{className:"text-gray-400 text-3xl"}),y.jsxs("div",{className:"mr-3",children:[y.jsx("h2",{className:"font-semibold text-gray-800",children:v.name}),y.jsx("p",{className:"text-xs text-gray-500",children:v.profession||v.category})]})]})]}),y.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:y.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-8",children:["لا توجد رسائل بعد. ابدأ المحادثة مع ",v.name]}):r.map(Y=>{var I,R;return y.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${Y.senderId===h.uid?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-xs md:max-w-md rounded-lg p-3 ${Y.senderId===h.uid?"bg-cyan-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow"}`,children:[y.jsx("p",{className:"text-sm",children:Y.text}),y.jsx("p",{className:`text-xs mt-1 ${Y.senderId===h.uid?"text-cyan-100":"text-gray-500"}`,children:((R=(I=Y.timestamp)==null?void 0:I.toDate)==null?void 0:R.call(I).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"الآن"})]})},Y.id)}),E&&y.jsx("div",{className:"flex justify-start",children:y.jsx("div",{className:"bg-white text-gray-800 rounded-lg rounded-bl-none shadow p-3",children:y.jsxs("div",{className:"flex space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),y.jsx("div",{ref:w})]})}),y.jsx("div",{className:"bg-white p-4 border-t border-gray-200",children:y.jsxs("form",{onSubmit:k,className:"flex items-center max-w-3xl mx-auto",children:[y.jsx("input",{type:"text",value:o,onChange:Y=>l(Y.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),y.jsx("button",{type:"submit",disabled:!o.trim(),className:"ml-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-2 disabled:bg-gray-400",children:y.jsx(CH,{className:"text-xl"})})]})})]})},MH=()=>{var Te,xe;const n=ir(),t=((Te=Ia().state)==null?void 0:Te.fromProvider)||!1,[r,a]=M.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",role:""}),[o,l]=M.useState({nationalId:"",category:"",profession:"",subscriptionFee:"",idFrontImage:"",idBackImage:"",profileImage:"",bio:"",allowContact:!1,address:"",workingAreas:[]}),[u,f]=M.useState(!0),[h,g]=M.useState(!1),[v,x]=M.useState({}),[w,E]=M.useState(!1),[D,A]=M.useState(""),[O,U]=M.useState(""),[B,$]=M.useState(""),k=["وسط البلد","الزمالك"],Y={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد"],"خدمات صحية":["طبيب","ممرض","صيدلي","فني مختبر"],"خدمات عامة":["توصيل طلبات","نقل","تنظيف"]},I=["100 جنيه","200 جنيه","300 جنيه"];M.useEffect(()=>{(async()=>{try{const ne=localStorage.getItem("currentUser");if(!ne){n("/nafany/login");return}const se=JSON.parse(ne);let be;const P=se.role==="provider"?"serviceProviders":"users";P==="serviceProviders"?be=se.email:be=se.email.split("@")[0];const ee=On(rt,P,be),ce=await Tc(ee);if(ce.exists()){const de=ce.data();a({name:de.name||"",email:de.email||"",password:"",governorate:de.governorate||"",phone:de.phone||de.phoneNumber||"",role:se.role}),se.role==="provider"&&(l({nationalId:de.nationalId||"",category:de.category||"",profession:de.profession||"",subscriptionFee:de.subscriptionFee||"",idFrontImage:de.idFrontImage||"",idBackImage:de.idBackImage||"",profileImage:de.profileImage||"",bio:de.bio||"",allowContact:de.allowContact||!1,address:de.address||"",workingAreas:de.workingAreas||[]}),de.idFrontImage&&A(de.idFrontImage),de.idBackImage&&U(de.idBackImage),de.profileImage&&$(de.profileImage))}else alert("لم يتم العثور على بيانات المستخدم"),n("/nafany")}catch(ne){console.error("Error fetching user data:",ne),alert("حدث خطأ أثناء تحميل البيانات")}finally{f(!1)}})()},[n]);const R=()=>{let K={};return r.name.trim()||(K.name="الاسم مطلوب"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(K.email="البريد الإلكتروني غير صالح"):K.email="البريد الإلكتروني مطلوب",r.password&&r.password.length<6&&(K.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"),r.governorate||(K.governorate="يجب اختيار المحافظة"),r.phone||(K.phone="رقم الهاتف مطلوب"),r.role==="provider"&&(o.nationalId||(K.nationalId="الرقم القومي مطلوب"),o.profession||(K.profession="المهنة مطلوبة"),o.address||(K.address="العنوان مطلوب")),x(K),Object.keys(K).length===0},C=K=>{const{name:ne,value:se,type:be,checked:P}=K.target;a(ee=>({...ee,[ne]:be==="checkbox"?P:se})),x({...v,[ne]:""})},N=K=>{const{name:ne,value:se,type:be,checked:P}=K.target;l(ee=>({...ee,[ne]:be==="checkbox"?P:se})),x({...v,[ne]:""})},L=K=>{const ne=K.target.value;l(se=>{var be;return{...se,category:ne,profession:((be=Y[ne])==null?void 0:be[0])||""}})},H=(K,ne)=>{const se=K.target.files[0];if(!se)return;const be=new FileReader;be.onload=()=>{const P=be.result;l(ee=>({...ee,[ne]:P})),ne==="idFrontImage"?A(P):ne==="idBackImage"?U(P):ne==="profileImage"&&$(P)},be.readAsDataURL(se)},F=async K=>{if(K.preventDefault(),!!R())try{f(!0);let ne;r.role==="provider"?ne=r.email:ne=r.email.split("@")[0];const se=r.role==="provider"?"serviceProviders":"users",be=On(rt,se,ne);console.log("Document Reference:",be.path);const P={...r,...r.role==="provider"?o:{}};P.password||delete P.password,await Go(be,P),console.log("Collection Name:",1);const ee={...r,...r.role==="provider"?o:{}};localStorage.setItem("currentUser",JSON.stringify(ee)),E(!0),g(!1)}catch(ne){console.error("Error updating user data:",ne),alert("حدث خطأ أثناء تحديث البيانات")}finally{f(!1)}};return u?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n(t?"/nafany/servicer_page":"/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800",children:r.role==="provider"?"إعدادات مقدم الخدمة":"إعدادات الحساب"}),!h&&y.jsx(ve.button,{onClick:()=>g(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تعديل البيانات"})]}),w&&y.jsx(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"تم تحديث البيانات بنجاح"}),y.jsxs("form",{onSubmit:F,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الاسم"}),y.jsx("input",{type:"text",name:"name",placeholder:"أدخل الاسم",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.name,onChange:C,disabled:!h}),v.name&&y.jsx("p",{className:"text-red-500 text-sm",children:v.name})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"البريد الإلكتروني"}),y.jsx("input",{type:"email",name:"email",placeholder:"أدخل البريد الإلكتروني",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.email,onChange:C,disabled:!0}),v.email&&y.jsx("p",{className:"text-red-500 text-sm",children:v.email})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"كلمة المرور (اتركها فارغة إذا لم ترغب في تغييرها)"}),y.jsx("input",{type:"password",name:"password",placeholder:"أدخل كلمة المرور الجديدة",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.password,onChange:C,disabled:!h}),v.password&&y.jsx("p",{className:"text-red-500 text-sm",children:v.password})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رقم الهاتف"}),y.jsx("input",{type:"tel",name:"phone",placeholder:"أدخل رقم الهاتف",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.phone,onChange:C,disabled:!h}),v.phone&&y.jsx("p",{className:"text-red-500 text-sm",children:v.phone})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المحافظة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.governorate,onChange:C,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),k.map((K,ne)=>y.jsx("option",{value:K,children:K},ne))]}),v.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:v.governorate})]}),r.role==="provider"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الرقم القومي"}),y.jsx("input",{type:"text",name:"nationalId",placeholder:"أدخل الرقم القومي",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.nationalId,onChange:N,disabled:!h}),v.nationalId&&y.jsx("p",{className:"text-red-500 text-sm",children:v.nationalId})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"التصنيف"}),y.jsxs("select",{name:"category",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.category,onChange:L,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر التصنيف"}),Object.keys(Y).map((K,ne)=>y.jsx("option",{value:K,children:K},ne))]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المهنة"}),y.jsxs("select",{name:"profession",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.profession,onChange:N,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المهنة"}),o.category&&((xe=Y[o.category])==null?void 0:xe.map((K,ne)=>y.jsx("option",{value:K,children:K},ne)))]}),v.profession&&y.jsx("p",{className:"text-red-500 text-sm",children:v.profession})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رسوم الاشتراك"}),y.jsx("select",{name:"subscriptionFee",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.subscriptionFee,onChange:N,disabled:!h,children:I.map((K,ne)=>y.jsx("option",{value:K,children:K},ne))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"العنوان"}),y.jsx("input",{type:"text",name:"address",placeholder:"أدخل العنوان بالتفصيل",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.address,onChange:N,disabled:!h}),v.address&&y.jsx("p",{className:"text-red-500 text-sm",children:v.address})]}),y.jsx("div",{className:"space-y-1",children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",name:"allowContact",checked:o.allowContact,onChange:N,disabled:!h,className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر مع العملاء"})]})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الأمام"}),D?y.jsx("img",{src:D,alt:"Front ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"idFrontImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الخلف"}),O?y.jsx("img",{src:O,alt:"Back ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"idBackImage"),className:"w-full",accept:"image/*"})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),B?y.jsx("img",{src:B,alt:"Profile",className:"h-40 w-40 object-cover rounded-full mx-auto border"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-full h-40 w-40 mx-auto flex items-center justify-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"profileImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"نبذة عنك"}),y.jsx("textarea",{name:"bio",placeholder:"أدخل نبذة عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:o.bio,onChange:N,disabled:!h})]})]}),h&&y.jsxs(ve.div,{className:"pt-4 grid grid-cols-2 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx(ve.button,{type:"button",onClick:()=>g(!1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"إلغاء"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"حفظ التغييرات"})]})]})]})]})})},kH=()=>{const n=ir();return y.jsx(ve.div,{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:y.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"bg-cyan-700 py-6 px-8 text-center",children:y.jsx("h1",{className:"text-3xl font-bold text-white",children:"تواصل معنا"})}),y.jsxs("div",{className:"p-8 border-b",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"نبذة عن المشروع"}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"موقعنا هو منصة متكاملة تتيح للمستخدمين العثور على مختلف الخدمات المتوفرة في منطقتهم بسهولة وسرعة. سواء كنت تبحث عن خدمات صيانة منزلية، أو خدمات طبية، أو أي نوع آخر من الخدمات، فإن منصتنا تساعدك في العثور على أفضل مقدمي الخدمات القريبين من موقعك."}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"نهدف إلى ربط المستخدمين بمقدمي الخدمات المؤهلين والموثوقين، مما يوفر الوقت والجهد ويضمن الحصول على خدمة ذات جودة عالية. نحن نعمل باستمرار على توسيع قاعدة بياناتنا وتحسين تجربة المستخدم لجعل عملية البحث عن الخدمات أكثر سهولة ومتعة."})]}),y.jsxs("div",{className:"p-8",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"وسائل التواصل"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"تابعنا على مواقع التواصل الاجتماعي"}),y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs("a",{href:"https://facebook.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(J8,{})," فيسبوك"]}),y.jsxs("a",{href:"https://instagram.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",children:[y.jsx(e7,{})," انستجرام"]}),y.jsxs("a",{href:"https://wa.me/+201234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[y.jsx(n7,{})," واتساب"]}),y.jsxs("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx(t7,{})," لينكدين"]}),y.jsxs("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx(c7,{})," البريد الإلكتروني"]})]})]}),y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"معلومات الاتصال"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"البريد الإلكتروني:"})," info@projectname.com"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"رقم الهاتف:"})," +20 123 456 7890"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"العنوان:"})," المنطقة الرئيسية، المدينة، البلد"]})]})]})]})]}),y.jsx("div",{className:"p-8 text-center",children:y.jsx(ve.button,{onClick:()=>n("/nafany"),className:"bg-cyan-700 text-white px-6 py-2 rounded-lg hover:bg-cyan-800 inline-flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"العودة للصفحة الرئيسية"})})]})})},PH=()=>{const n=ir(),[e,t]=M.useState({type:"complaint",title:"",description:""}),[r,a]=M.useState(!1),[o,l]=M.useState(!1),[u,f]=M.useState(""),[h,g]=M.useState({}),v=()=>{let E=!0,D={};return e.title.trim()||(D.title="عنوان الشكوى/الاقتراح مطلوب",E=!1),e.description.trim()?e.description.trim().length<10&&(D.description="يجب أن تحتوي التفاصيل على 10 أحرف على الأقل",E=!1):(D.description="تفاصيل الشكوى/الاقتراح مطلوبة",E=!1),g(D),E},x=E=>{const{name:D,value:A}=E.target;t(O=>({...O,[D]:A})),h[D]&&g(O=>({...O,[D]:""}))},w=async E=>{if(E.preventDefault(),!!v())try{a(!0),f("");const D=localStorage.getItem("currentUser"),A=D?JSON.parse(D):null;await kd(Xt(rt,"feedbacks"),{type:e.type,title:e.title,description:e.description,status:"new",timestamp:el(),userId:(A==null?void 0:A.email)||"anonymous",userName:(A==null?void 0:A.name)||"زائر",userRole:(A==null?void 0:A.role)||"guest"}),l(!0),t({type:"complaint",title:"",description:""}),setTimeout(()=>{l(!1)},3e3)}catch(D){console.error("خطأ في إرسال الشكوى/الاقتراح:",D),f("حدث خطأ أثناء إرسال الشكوى/الاقتراح. يرجى المحاولة مرة أخرى.")}finally{a(!1)}};return y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n("/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800 mb-8 text-center",children:"الشكاوى والاقتراحات"}),o&&y.jsxs(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:["تم إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"," بنجاح. شكراً لك!"]}),u&&y.jsx(ve.div,{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),y.jsxs("form",{onSubmit:w,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-gray-700 font-medium",children:"نوع الرسالة"}),y.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"complaint",checked:e.type==="complaint",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"شكوى"})]}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:e.type==="suggestion",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"اقتراح"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["العنوان",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"title",placeholder:"أدخل عنوان الشكوى/الاقتراح",className:`w-full border ${h.title?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,value:e.title,onChange:x}),h.title&&y.jsx("p",{className:"text-red-500 text-sm",children:h.title})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["التفاصيل",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("textarea",{name:"description",placeholder:"أدخل تفاصيل الشكوى/الاقتراح",className:`w-full border ${h.description?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-40`,value:e.description,onChange:x}),h.description&&y.jsx("p",{className:"text-red-500 text-sm",children:h.description})]}),y.jsx(ve.button,{type:"submit",className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r,children:r?y.jsx("span",{children:"جاري الإرسال..."}):y.jsxs("span",{children:["إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"]})})]})]})]})})},OH=()=>{const n=ir(),[e,t]=M.useState("users"),[r,a]=M.useState([]),[o,l]=M.useState([]),[u,f]=M.useState([]),[h,g]=M.useState([]),[v,x]=M.useState(null),[w,E]=M.useState(!1),[D,A]=M.useState({}),[O,U]=M.useState(!0),[B,$]=M.useState(!1),[k,Y]=M.useState(null);M.useEffect(()=>{(async()=>{U(!0);try{const ce=(await pr(Xt(rt,"users"))).docs.map(He=>({id:He.id,...He.data()}));a(ce);const _e=(await pr(Xt(rt,"serviceProviders"))).docs.map(He=>({id:He.id,...He.data()}));l(_e);const Ge=(await pr(Xt(rt,"feedbacks"))).docs.map(He=>({id:He.id,...He.data()}));f(Ge);const it=(await pr(Xt(rt,"reviews"))).docs.map(He=>{var ge;return{id:He.id,...He.data(),createdAt:(ge=He.data().createdAt)==null?void 0:ge.toDate()}});g(it)}catch(ee){console.error("خطأ في جلب البيانات:",ee),alert("حدث خطأ أثناء تحميل البيانات")}U(!1)})()},[]),console.log(h),console.log(r);const I=async(P,ee)=>{if(window.confirm("هل أنت متأكد من رغبتك في الحذف؟"))try{await vC(On(rt,ee,P)),ee==="users"?a(r.filter(ce=>ce.id!==P)):ee==="serviceProviders"?l(o.filter(ce=>ce.id!==P)):ee==="feedbacks"?f(u.filter(ce=>ce.id!==P)):ee==="reviews"&&g(h.filter(ce=>ce.id!==P)),alert("تم الحذف بنجاح")}catch(ce){console.error("خطأ في الحذف:",ce),alert("حدث خطأ أثناء الحذف")}},R=(P,ee)=>{x({item:P,collectionName:ee}),A(P),E(!0)},C=async()=>{try{const{item:P,collectionName:ee}=v;await Go(On(rt,ee,P.id),D),ee==="users"?a(r.map(ce=>ce.id===P.id?{...ce,...D}:ce)):ee==="serviceProviders"?l(o.map(ce=>ce.id===P.id?{...ce,...D}:ce)):ee==="feedbacks"?f(u.map(ce=>ce.id===P.id?{...ce,...D}:ce)):ee==="reviews"&&g(h.map(ce=>ce.id===P.id?{...ce,...D}:ce)),E(!1),alert("تم التحديث بنجاح")}catch(P){console.error("خطأ في التحديث:",P),alert("حدث خطأ أثناء التحديث")}},N=async(P,ee)=>{try{const ce=On(rt,ee,P),de=await Tc(ce);if(de.exists()){const _e={id:de.id,...de.data()};if(ee==="serviceProviders"){const ze=h.filter(Ge=>Ge.providerEmail===_e.email);_e.reviewsDetails=ze}Y(_e),$(!0)}else alert("لم يتم العثور على البيانات")}catch(ce){console.error("خطأ في جلب التفاصيل:",ce),alert("حدث خطأ أثناء جلب التفاصيل")}},L=P=>P?P instanceof Date?P.toLocaleDateString("ar-EG"):P.toDate?P.toDate().toLocaleDateString("ar-EG"):"غير محدد":"غير محدد",H=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"مقدم الخدمة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التقييم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التعليق"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.clientName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.clientEmail})]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.providerName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.providerCategory})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ee,ce)=>y.jsx("svg",{className:`h-5 w-5 ${ce<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ce)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[P.rating,"/5"]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:P.review})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:L(P.createdAt)})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"reviews"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"reviews"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"reviews"),children:"حذف"})]})]},P.id))})]})}),F=()=>y.jsx("div",{className:"flex flex-wrap border-b text-sm font-medium text-center text-gray-500 mb-4",children:[{id:"users",label:"المستخدمين"},{id:"providers",label:"مقدمي الخدمة"},{id:"complaints",label:"الشكاوى والاقتراحات"},{id:"reviews",label:"التقييمات"}].map(P=>y.jsx("button",{className:`inline-block p-4 rounded-t-lg ${e===P.id?"text-cyan-600 border-b-2 border-cyan-600":"hover:text-gray-600 hover:border-gray-300"}`,onClick:()=>t(P.id),children:P.label},P.id))}),Te=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"البريد الإلكتروني"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المحافظة"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:P.email})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:P.governorate})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"users"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"users"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"users"),children:"حذف"})]})]},P.id))})]})}),xe=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المهنة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التصنيف"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[P.profileImage&&y.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-2",children:y.jsx("img",{className:"h-10 w-10 rounded-full",src:P.profileImage,alt:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),y.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-900",children:P.profession})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:P.category})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"serviceProviders"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"serviceProviders"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"serviceProviders"),children:"حذف"})]})]},P.id))})]})}),K=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النوع"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المستخدم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العنوان"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:P.type==="complaint"?"شكوى":"اقتراح"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.userName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.userId})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:L(P.timestamp)})}),y.jsxs("td",{className:"px-6 py-4",children:[y.jsx("div",{className:"text-sm text-gray-900",children:P.title}),y.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="new"?"bg-gray-100 text-gray-800":P.status==="in_progress"?"bg-yellow-100 text-yellow-800":P.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="new"?"جديد":P.status==="in_progress"?"قيد المعالجة":P.status==="resolved"?"تم الحل":"مرفوض"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"feedbacks"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>R(P,"feedbacks"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>I(P.id,"feedbacks"),children:"حذف"})]})]},P.id))})]})}),ne=()=>w&&v&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"تعديل البيانات"}),y.jsxs("div",{className:"space-y-4",children:[v.collectionName==="feedbacks"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النوع"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.type||"complaint",onChange:P=>A({...D,type:P.target.value}),children:[y.jsx("option",{value:"complaint",children:"شكوى"}),y.jsx("option",{value:"suggestion",children:"اقتراح"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.status||"new",onChange:P=>A({...D,status:P.target.value}),children:[y.jsx("option",{value:"new",children:"جديد"}),y.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),y.jsx("option",{value:"resolved",children:"تم الحل"}),y.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),y.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:D.title||"",onChange:P=>A({...D,title:P.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرد"}),y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:D.response||"",onChange:P=>A({...D,response:P.target.value}),placeholder:"أدخل ردك هنا..."})]})]}),v.collectionName!=="feedbacks"&&Object.keys(D).filter(P=>typeof D[P]!="object"&&typeof D[P]!="function"&&!P.includes("Image")&&P!=="id").map(P=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),P==="bio"||P==="message"||P==="comment"?y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:D[P]||"",onChange:ee=>A({...D,[P]:ee.target.value})}):y.jsx("input",{type:P==="email"?"email":"text",className:"w-full p-2 border border-gray-300 rounded-md",value:D[P]||"",onChange:ee=>A({...D,[P]:ee.target.value})})]},P))]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>E(!1),children:"إلغاء"}),y.jsx("button",{className:"px-4 py-2 bg-cyan-600 text-white rounded-md",onClick:C,children:"حفظ"})]})]})}),se=()=>B&&k&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"التفاصيل"}),k.category&&y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[k.profileImage&&y.jsx("img",{src:k.profileImage,alt:"",className:"h-16 w-16 rounded-full object-cover ml-4"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold",children:k.name}),y.jsxs("p",{className:"text-gray-600",children:[k.profession," - ",k.category]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",k.email]}),y.jsxs("p",{className:"text-gray-600",children:[" الباسورد: ",k.password]}),y.jsxs("p",{className:"text-gray-600",children:["رقم الهاتف: ",k.phone]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",k.address]}),y.jsxs("p",{className:"text-gray-600",children:["المحافظة: ",k.governorate]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["رسوم الاشتراك: ",k.subscriptionFee]}),y.jsxs("p",{className:"text-gray-600",children:["متوسط التقييم: ",k.averageRating?k.averageRating.toFixed(1):"لا يوجد"," (",k.totalRatings||0," تقييم)"]}),y.jsxs("p",{className:"text-gray-600",children:["عدد الأعمال: ",k.worksCount||0]})]})]}),k.bio&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"نبذة:"}),y.jsx("p",{className:"text-gray-600",children:k.bio})]}),k.ratingsDetails&&k.ratingsDetails.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["التقييمات (",k.ratingsDetails.length,")"]}),y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:k.ratingsDetails.map((P,ee)=>y.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[y.jsxs("div",{className:"flex justify-between mb-1",children:[y.jsx("div",{className:"font-medium",children:P.userName}),y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ce,de)=>y.jsxs("svg",{className:`h-4 w-4 ${de<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:["  ",y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},de)),y.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[P.rating,"/5"]})]})]}),y.jsx("p",{className:"text-sm text-gray-600",children:P.comment}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L(P.createdAt)})]},ee))})]})]}),!k.category&&!k.providerId&&!k.title&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(k).filter(([P])=>P!=="id"&&typeof k[P]!="object"&&typeof k[P]!="function").map(([P,ee])=>y.jsxs("div",{className:"mb-3",children:[y.jsxs("h4",{className:"font-semibold",children:[P,":"]}),y.jsx("p",{className:"text-gray-600",children:(ee==null?void 0:ee.toString())||"غير محدد"})]},P))}),k.title&&y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات المستخدم"}),y.jsxs("p",{className:"text-gray-600",children:["الاسم: ",k.userName]}),y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",k.userId]}),y.jsxs("p",{className:"text-gray-600",children:["الدور: ",k.userRole]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["تفاصيل ",k.type==="complaint"?"الشكوى":"الاقتراح"]}),y.jsxs("p",{className:"text-gray-600",children:["النوع:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${k.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:k.type==="complaint"?"شكوى":"اقتراح"})]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",k.title]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ الإنشاء: ",L(k.timestamp)]}),y.jsxs("p",{className:"text-gray-600",children:["الحالة:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${k.status==="new"?"bg-gray-100 text-gray-800":k.status==="in_progress"?"bg-yellow-100 text-yellow-800":k.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="new"?"جديد":k.status==="in_progress"?"قيد المعالجة":k.status==="resolved"?"تم الحل":"مرفوض"})]}),y.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التفاصيل:"}),y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:k.description})]})]}),k.response&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"الرد"}),y.jsx("div",{className:"p-3 bg-blue-50 rounded",children:y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:k.response})}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["تاريخ الرد: ",L(k.respondedAt)]})]})]}),k.providerId&&!k.title&&y.jsx("div",{children:y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات التقييم"}),y.jsxs("p",{className:"text-gray-600",children:["المستخدم: ",k.userName]}),y.jsxs("p",{className:"text-gray-600",children:["مقدم الخدمة: ",k.providerName]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ التقييم: ",L(k.createdAt)]}),y.jsxs("div",{className:"flex items-center my-2",children:[y.jsx("span",{className:"ml-2",children:"التقييم:"}),[...Array(5)].map((P,ee)=>y.jsx("svg",{className:`h-5 w-5 ${ee<k.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ee)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[k.rating,"/5"]})]}),y.jsxs("div",{className:"mt-2",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التعليق:"}),y.jsx("div",{className:"p-3 bg-gray-50 rounded",children:y.jsx("p",{className:"text-gray-800",children:k.comment})})]})]})}),y.jsx("div",{className:"flex justify-end mt-6",children:y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>$(!1),children:"إغلاق"})})]})}),be=()=>y.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})});return y.jsxs(ve.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-right",children:"لوحة تحكم المشرف"}),y.jsx(ve.button,{onClick:()=>{n("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تسجيل الخروج"}),F(),O?be():y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[e==="users"&&Te(),e==="providers"&&xe(),e==="complaints"&&K(),e==="reviews"&&H()]})}),ne(),se()]})},IH=()=>{const{serviceType:n}=Fm(),e=ir(),r={"خدمات فنية":[{name:"سباك",icon:"🔧",color:"bg-blue-500"},{name:"نجار",icon:"🪓",color:"bg-yellow-700"},{name:"كهربائي",icon:"⚡",color:"bg-yellow-500"},{name:"ميكانيكي",icon:"🔩",color:"bg-gray-700"},{name:"حداد",icon:"⚒️",color:"bg-red-700"},{name:"فني تكييفات",icon:"❄️",color:"bg-blue-300"},{name:"نقاش",icon:"🖌️",color:"bg-purple-500"},{name:"ترزي",icon:"🧵",color:"bg-pink-500"}],"خدمات صحية":[{name:"طبيب عام",icon:"👨‍⚕️",color:"bg-green-500"},{name:"صيدلي",icon:"💊",color:"bg-red-500"},{name:"ممرض",icon:"🩺",color:"bg-blue-400"},{name:"أخصائي تغذية",icon:"🥗",color:"bg-green-300"},{name:"أخصائي علاج طبيعي",icon:"🤸",color:"bg-indigo-500"},{name:"طبيب أسنان",icon:"🦷",color:"bg-cyan-500"}],"خدمات عامة":[{name:"سوبر ماركت",icon:"🛒",color:"bg-orange-500"},{name:"مطعم",icon:"🍽️",color:"bg-red-600"},{name:"كافيه",icon:"☕",color:"bg-yellow-900"},{name:"مولات",icon:"🏬",color:"bg-purple-700"}],"خدمات أخرى":[{name:"عطار",icon:"🌿",color:"bg-green-700"},{name:"جزار",icon:"🥩",color:"bg-red-800"},{name:"فكهاني",icon:"🍎",color:"bg-red-500"},{name:"خضري",icon:"🥬",color:"bg-green-500"},{name:"محل ألبان",icon:"🥛",color:"bg-white text-gray-800"}]}[n]||[],a={"خدمات فنية":"الخدمات الفنية والحرفية","خدمات صحية":"الخدمات الصحية والطبية","خدمات عامة":"الخدمات العامة والتجارية","خدمات أخرى":"خدمات متنوعة أخرى"},o=l=>{e(`/nafany/services_jobs/${n}/${l.name}`)};return y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"flex items-center mb-6 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:a[n]||n}),y.jsx(ve.p,{className:"text-lg text-center text-gray-600 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"اختر الخدمة التي تحتاجها من القائمة أدناه"}),y.jsx(ve.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.1}}},children:r.map((l,u)=>y.jsx(ve.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:`${l.color} rounded-xl shadow-lg p-6 cursor-pointer text-center transition-all`,onClick:()=>o(l),children:y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("span",{className:"text-4xl mb-3",children:l.icon}),y.jsx("h3",{className:"text-xl font-bold text-white",children:l.name})]})},u))}),r.length===0&&y.jsx("div",{className:"text-center text-gray-600 text-xl mt-10",children:"لا توجد خدمات متاحة في هذه الفئة حالياً"})]})})},jH=()=>{const n=eP(Mk(y.jsxs(y.Fragment,{children:[y.jsx(Pr,{path:"/nafany/login",element:y.jsx(H8,{})}),y.jsx(Pr,{path:"/nafany/register",element:y.jsx(Y8,{})}),y.jsx(Pr,{path:"/nafany/register_user",element:y.jsx(q8,{})}),y.jsx(Pr,{path:"/nafany/services_jobs/:serviceType/:professionType",element:y.jsx(g7,{})}),y.jsx(Pr,{path:"/nafany/servicer_page",element:y.jsx(y7,{})}),y.jsx(Pr,{path:"/nafany/book_page/:providerId",element:y.jsx(RH,{})}),y.jsx(Pr,{path:"/nafany/",element:y.jsx(p7,{})}),y.jsx(Pr,{path:"/nafany/chat/:providerId",element:y.jsx(NH,{})}),y.jsx(Pr,{path:"/nafany/settings",element:y.jsx(MH,{})}),y.jsx(Pr,{path:"/nafany/contact",element:y.jsx(kH,{})}),y.jsx(Pr,{path:"/nafany/complaints",element:y.jsx(PH,{})}),y.jsx(Pr,{path:"/nafany/admin",element:y.jsx(OH,{})}),y.jsx(Pr,{path:"/nafany/service_categories/:serviceType",element:y.jsx(IH,{})})]})));return y.jsx(y.Fragment,{children:y.jsx(hP,{router:n})})};u4.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(jH,{})}));
