var _M=Object.defineProperty;var wM=(n,e,t)=>e in n?_M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Me=(n,e,t)=>wM(n,typeof e!="symbol"?e+"":e,t);function EM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function c2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var my={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function TM(){if(c1)return Mu;c1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:n,type:r,key:l,ref:a!==void 0?a:null,props:o}}return Mu.Fragment=e,Mu.jsx=t,Mu.jsxs=t,Mu}var u1;function SM(){return u1||(u1=1,my.exports=TM()),my.exports}var y=SM(),py={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function DM(){if(d1)return rt;d1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function D(P,ee,de){this.props=P,this.context=ee,this.refs=A,this.updater=de||w}D.prototype.isReactComponent={},D.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=D.prototype;function U(P,ee,de){this.props=P,this.context=ee,this.refs=A,this.updater=de||w}var B=U.prototype=new O;B.constructor=U,T(B,D.prototype),B.isPureReactComponent=!0;var Y=Array.isArray,M={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function j(P,ee,de,pe,_e,ue){return de=ue.ref,{$$typeof:n,type:P,key:ee,ref:de!==void 0?de:null,props:ue}}function C(P,ee){return j(P.type,ee,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function N(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return ee[de]})}var L=/\/+/g;function H(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):ee.toString(36)}function F(){}function Se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(F,F):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function xe(P,ee,de,pe,_e){var ue=typeof P;(ue==="undefined"||ue==="boolean")&&(P=null);var ie=!1;if(P===null)ie=!0;else switch(ue){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(P.$$typeof){case n:case e:ie=!0;break;case g:return ie=P._init,xe(ie(P._payload),ee,de,pe,_e)}}if(ie)return _e=_e(P),ie=pe===""?"."+H(P,0):pe,Y(_e)?(de="",ie!=null&&(de=ie.replace(L,"$&/")+"/"),xe(_e,ee,de,"",function(Ee){return Ee})):_e!=null&&(R(_e)&&(_e=C(_e,de+(_e.key==null||P&&P.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+ie)),ee.push(_e)),1;ie=0;var Ne=pe===""?".":pe+":";if(Y(P))for(var Ce=0;Ce<P.length;Ce++)pe=P[Ce],ue=Ne+H(pe,Ce),ie+=xe(pe,ee,de,ue,_e);else if(Ce=x(P),typeof Ce=="function")for(P=Ce.call(P),Ce=0;!(pe=P.next()).done;)pe=pe.value,ue=Ne+H(pe,Ce++),ie+=xe(pe,ee,de,ue,_e);else if(ue==="object"){if(typeof P.then=="function")return xe(Se(P),ee,de,pe,_e);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(P,ee,de){if(P==null)return P;var pe=[],_e=0;return xe(P,pe,"","",function(ue){return ee.call(de,ue,_e++)}),pe}function ne(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var oe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function be(){}return rt.Children={map:K,forEach:function(P,ee,de){K(P,function(){ee.apply(this,arguments)},de)},count:function(P){var ee=0;return K(P,function(){ee++}),ee},toArray:function(P){return K(P,function(ee){return ee})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},rt.Component=D,rt.Fragment=t,rt.Profiler=a,rt.PureComponent=U,rt.StrictMode=r,rt.Suspense=f,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},rt.cache=function(P){return function(){return P.apply(null,arguments)}},rt.cloneElement=function(P,ee,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var pe=T({},P.props),_e=P.key,ue=void 0;if(ee!=null)for(ie in ee.ref!==void 0&&(ue=void 0),ee.key!==void 0&&(_e=""+ee.key),ee)!$.call(ee,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&ee.ref===void 0||(pe[ie]=ee[ie]);var ie=arguments.length-2;if(ie===1)pe.children=de;else if(1<ie){for(var Ne=Array(ie),Ce=0;Ce<ie;Ce++)Ne[Ce]=arguments[Ce+2];pe.children=Ne}return j(P.type,_e,void 0,void 0,ue,pe)},rt.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},rt.createElement=function(P,ee,de){var pe,_e={},ue=null;if(ee!=null)for(pe in ee.key!==void 0&&(ue=""+ee.key),ee)$.call(ee,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(_e[pe]=ee[pe]);var ie=arguments.length-2;if(ie===1)_e.children=de;else if(1<ie){for(var Ne=Array(ie),Ce=0;Ce<ie;Ce++)Ne[Ce]=arguments[Ce+2];_e.children=Ne}if(P&&P.defaultProps)for(pe in ie=P.defaultProps,ie)_e[pe]===void 0&&(_e[pe]=ie[pe]);return j(P,ue,void 0,void 0,null,_e)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(P){return{$$typeof:u,render:P}},rt.isValidElement=R,rt.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:ne}},rt.memo=function(P,ee){return{$$typeof:h,type:P,compare:ee===void 0?null:ee}},rt.startTransition=function(P){var ee=M.T,de={};M.T=de;try{var pe=P(),_e=M.S;_e!==null&&_e(de,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(be,oe)}catch(ue){oe(ue)}finally{M.T=ee}},rt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},rt.use=function(P){return M.H.use(P)},rt.useActionState=function(P,ee,de){return M.H.useActionState(P,ee,de)},rt.useCallback=function(P,ee){return M.H.useCallback(P,ee)},rt.useContext=function(P){return M.H.useContext(P)},rt.useDebugValue=function(){},rt.useDeferredValue=function(P,ee){return M.H.useDeferredValue(P,ee)},rt.useEffect=function(P,ee){return M.H.useEffect(P,ee)},rt.useId=function(){return M.H.useId()},rt.useImperativeHandle=function(P,ee,de){return M.H.useImperativeHandle(P,ee,de)},rt.useInsertionEffect=function(P,ee){return M.H.useInsertionEffect(P,ee)},rt.useLayoutEffect=function(P,ee){return M.H.useLayoutEffect(P,ee)},rt.useMemo=function(P,ee){return M.H.useMemo(P,ee)},rt.useOptimistic=function(P,ee){return M.H.useOptimistic(P,ee)},rt.useReducer=function(P,ee,de){return M.H.useReducer(P,ee,de)},rt.useRef=function(P){return M.H.useRef(P)},rt.useState=function(P){return M.H.useState(P)},rt.useSyncExternalStore=function(P,ee,de){return M.H.useSyncExternalStore(P,ee,de)},rt.useTransition=function(){return M.H.useTransition()},rt.version="19.0.0",rt}var f1;function hv(){return f1||(f1=1,py.exports=DM()),py.exports}var k=hv();const X=c2(k),AM=EM({__proto__:null,default:X},[k]);var gy={exports:{}},ku={},yy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function CM(){return h1||(h1=1,function(n){function e(K,ne){var oe=K.length;K.push(ne);e:for(;0<oe;){var be=oe-1>>>1,P=K[be];if(0<a(P,ne))K[be]=ne,K[oe]=P,oe=be;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ne=K[0],oe=K.pop();if(oe!==ne){K[0]=oe;e:for(var be=0,P=K.length,ee=P>>>1;be<ee;){var de=2*(be+1)-1,pe=K[de],_e=de+1,ue=K[_e];if(0>a(pe,oe))_e<P&&0>a(ue,pe)?(K[be]=ue,K[_e]=oe,be=_e):(K[be]=pe,K[de]=oe,be=de);else if(_e<P&&0>a(ue,oe))K[be]=ue,K[_e]=oe,be=_e;else break e}}return ne}function a(K,ne){var oe=K.sortIndex-ne.sortIndex;return oe!==0?oe:K.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],g=1,v=null,x=3,w=!1,T=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=K)r(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(h)}}function Y(K){if(A=!1,B(K),!T)if(t(f)!==null)T=!0,Se();else{var ne=t(h);ne!==null&&xe(Y,ne.startTime-K)}}var M=!1,$=-1,j=5,C=-1;function R(){return!(n.unstable_now()-C<j)}function N(){if(M){var K=n.unstable_now();C=K;var ne=!0;try{e:{T=!1,A&&(A=!1,O($),$=-1),w=!0;var oe=x;try{t:{for(B(K),v=t(f);v!==null&&!(v.expirationTime>K&&R());){var be=v.callback;if(typeof be=="function"){v.callback=null,x=v.priorityLevel;var P=be(v.expirationTime<=K);if(K=n.unstable_now(),typeof P=="function"){v.callback=P,B(K),ne=!0;break t}v===t(f)&&r(f),B(K)}else r(f);v=t(f)}if(v!==null)ne=!0;else{var ee=t(h);ee!==null&&xe(Y,ee.startTime-K),ne=!1}}break e}finally{v=null,x=oe,w=!1}ne=void 0}}finally{ne?L():M=!1}}}var L;if(typeof U=="function")L=function(){U(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=N,L=function(){F.postMessage(null)}}else L=function(){D(N,0)};function Se(){M||(M=!0,L())}function xe(K,ne){$=D(function(){K(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){T||w||(T=!0,Se())},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var oe=x;x=ne;try{return K()}finally{x=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=x;x=K;try{return ne()}finally{x=oe}},n.unstable_scheduleCallback=function(K,ne,oe){var be=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?be+oe:be):oe=be,K){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=oe+P,K={id:g++,callback:ne,priorityLevel:K,startTime:oe,expirationTime:P,sortIndex:-1},oe>be?(K.sortIndex=oe,e(h,K),t(f)===null&&K===t(h)&&(A?(O($),$=-1):A=!0,xe(Y,oe-be))):(K.sortIndex=P,e(f,K),T||w||(T=!0,Se())),K},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(K){var ne=x;return function(){var oe=x;x=ne;try{return K.apply(this,arguments)}finally{x=oe}}}}(vy)),vy}var m1;function RM(){return m1||(m1=1,yy.exports=CM()),yy.exports}var by={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function NM(){if(p1)return sr;p1=1;var n=hv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},sr.flushSync=function(f){var h=l.T,g=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=g,r.d.f()}},sr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},sr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},sr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:w}):g==="script"&&r.d.X(f,{crossOrigin:v,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},sr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=u(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},sr.requestFormReset=function(f){r.d.r(f)},sr.unstable_batchedUpdates=function(f,h){return f(h)},sr.useFormState=function(f,h,g){return l.H.useFormState(f,h,g)},sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},sr.version="19.0.0",sr}var g1;function u2(){if(g1)return by.exports;g1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),by.exports=NM(),by.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function MM(){if(y1)return ku;y1=1;var n=RM(),e=hv(),t=u2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Y=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function C(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case u:return"Portal";case g:return"Profiler";case h:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case w:return(i.displayName||"Context")+".Provider";case x:return(i._context.displayName||"Context")+".Consumer";case T:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:C(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return C(i(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,L,H;function F(i){if(L===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+H}var Se=!1;function xe(i,s){if(!i||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(le){var re=le}Reflect.construct(i,[],ye)}else{try{ye.call()}catch(le){re=le}i.call(ye.prototype)}}else{try{throw Error()}catch(le){re=le}(ye=i())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),S=b[0],I=b[1];if(S&&I){var z=S.split(`
`),Q=I.split(`
`);for(p=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(d===z.length||p===Q.length)for(d=z.length-1,p=Q.length-1;1<=d&&0<=p&&z[d]!==Q[p];)p--;for(;1<=d&&0<=p;d--,p--)if(z[d]!==Q[p]){if(d!==1||p!==1)do if(d--,p--,0>p||z[d]!==Q[p]){var ce=`
`+z[d].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=d&&0<=p);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?F(c):""}function K(i){switch(i.tag){case 26:case 27:case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function ne(i){try{var s="";do s+=K(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function oe(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function be(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function P(i){if(oe(i)!==i)throw Error(r(188))}function ee(i){var s=i.alternate;if(!s){if(s=oe(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var p=c.return;if(p===null)break;var b=p.alternate;if(b===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===b.child){for(b=p.child;b;){if(b===c)return P(p),i;if(b===d)return P(p),s;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=p,d=b;else{for(var S=!1,I=p.child;I;){if(I===c){S=!0,c=p,d=b;break}if(I===d){S=!0,d=p,c=b;break}I=I.sibling}if(!S){for(I=b.child;I;){if(I===c){S=!0,c=b,d=p;break}if(I===d){S=!0,d=b,c=p;break}I=I.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function de(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=de(i),s!==null)return s;i=i.sibling}return null}var pe=Array.isArray,_e=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ie=[],Ne=-1;function Ce(i){return{current:i}}function Ee(i){0>Ne||(i.current=ie[Ne],ie[Ne]=null,Ne--)}function ze(i,s){Ne++,ie[Ne]=i.current,i.current=s}var ut=Ce(null),nt=Ce(null),Xe=Ce(null),Ut=Ce(null);function Xt(i,s){switch(ze(Xe,s),ze(nt,i),ze(ut,null),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?Lw(s):0;break;default:if(i=i===8?s.parentNode:s,s=i.tagName,i=i.namespaceURI)i=Lw(i),s=Uw(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ee(ut),ze(ut,s)}function Te(){Ee(ut),Ee(nt),Ee(Xe)}function et(i){i.memoizedState!==null&&ze(Ut,i);var s=ut.current,c=Uw(s,i.type);s!==c&&(ze(nt,i),ze(ut,c))}function Rt(i){nt.current===i&&(Ee(ut),Ee(nt)),Ut.current===i&&(Ee(Ut),Du._currentValue=ue)}var jt=Object.prototype.hasOwnProperty,nr=n.unstable_scheduleCallback,rr=n.unstable_cancelCallback,Pr=n.unstable_shouldYield,Pn=n.unstable_requestPaint,rn=n.unstable_now,Tn=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,dn=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,sl=n.unstable_LowPriority,Dr=n.unstable_IdlePriority,ol=n.log,Pa=n.unstable_setDisableYieldValue,va=null,On=null;function es(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(va,i,void 0,(i.current.flags&128)===128)}catch{}}function pr(i){if(typeof ol=="function"&&Pa(i),On&&typeof On.setStrictMode=="function")try{On.setStrictMode(va,i)}catch{}}var In=Math.clz32?Math.clz32:no,mi=Math.log,ll=Math.LN2;function no(i){return i>>>=0,i===0?32:31-(mi(i)/ll|0)|0}var qr=128,ba=4194304;function ar(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Yn(i,s){var c=i.pendingLanes;if(c===0)return 0;var d=0,p=i.suspendedLanes,b=i.pingedLanes,S=i.warmLanes;i=i.finishedLanes!==0;var I=c&134217727;return I!==0?(c=I&~p,c!==0?d=ar(c):(b&=I,b!==0?d=ar(b):i||(S=I&~S,S!==0&&(d=ar(S))))):(I=c&~p,I!==0?d=ar(I):b!==0?d=ar(b):i||(S=c&~S,S!==0&&(d=ar(S)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,S=s&-s,p>=S||p===32&&(S&4194176)!==0)?s:d}function Oa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ts(i,s){switch(i){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q(){var i=qr;return qr<<=1,(qr&4194176)===0&&(qr=128),i}function W(){var i=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),i}function ae(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function fe(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function De(i,s,c,d,p,b){var S=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var I=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(c=S&~c;0<c;){var ce=31-In(c),ye=1<<ce;I[ce]=0,z[ce]=-1;var re=Q[ce];if(re!==null)for(Q[ce]=null,ce=0;ce<re.length;ce++){var le=re[ce];le!==null&&(le.lane&=-536870913)}c&=~ye}d!==0&&He(i,d,0),b!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=b&~(S&~s))}function He(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-In(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Fe(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-In(c),p=1<<d;p&s|i[d]&s&&(i[d]|=s),c&=~p}}function Ve(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ue(){var i=_e.p;return i!==0?i:(i=window.event,i===void 0?32:r1(i.type))}function Ae(i,s){var c=_e.p;try{return _e.p=i,s()}finally{_e.p=c}}var Oe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Oe,$e="__reactProps$"+Oe,wt="__reactContainer$"+Oe,Qt="__reactEvents$"+Oe,Bt="__reactListeners$"+Oe,bt="__reactHandles$"+Oe,$t="__reactResources$"+Oe,gr="__reactMarker$"+Oe;function Ir(i){delete i[Ie],delete i[$e],delete i[Qt],delete i[Bt],delete i[bt]}function fn(i){var s=i[Ie];if(s)return s;for(var c=i.parentNode;c;){if(s=c[wt]||c[Ie]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=zw(i);i!==null;){if(c=i[Ie])return c;i=zw(i)}return s}i=c,c=i.parentNode}return null}function vn(i){if(i=i[Ie]||i[wt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function $r(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ar(i){var s=i[$t];return s||(s=i[$t]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(i){i[gr]=!0}var Ia=new Set,xa={};function at(i,s){At(i,s),At(i+"Capture",s)}function At(i,s){for(xa[i]=s,i=0;i<s.length;i++)Ia.add(s[i])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zt={},Gr={};function ro(i){return jt.call(Gr,i)?!0:jt.call(zt,i)?!1:pi.test(i)?Gr[i]=!0:(zt[i]=!0,!1)}function ja(i,s,c){if(ro(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function ns(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Qr(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}function yr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qd(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bp(i){var s=qd(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,b=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){d=""+S,b.call(this,S)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ao(i){i._valueTracker||(i._valueTracker=bp(i))}function jc(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=qd(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function cl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var gi=/[\n"\\]/g;function an(i){return i.replace(gi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rs(i,s,c,d,p,b,S,I){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+yr(s)):i.value!==""+yr(s)&&(i.value=""+yr(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?ul(i,S,yr(s)):c!=null?ul(i,S,yr(c)):d!=null&&i.removeAttribute("value"),p==null&&b!=null&&(i.defaultChecked=!!b),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+yr(I):i.removeAttribute("name")}function io(i,s,c,d,p,b,S,I){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;c=c!=null?""+yr(c):"",s=s!=null?""+yr(s):c,I||s===i.value||(i.value=s),i.defaultValue=s}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=I?i.checked:!!d,i.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function ul(i,s,c){s==="number"&&cl(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Et(i,s,c,d){if(i=i.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<i.length;c++)p=s.hasOwnProperty("$"+i[c].value),i[c].selected!==p&&(i[c].selected=p),p&&d&&(i[c].defaultSelected=!0)}else{for(c=""+yr(c),s=null,p=0;p<i.length;p++){if(i[p].value===c){i[p].selected=!0,d&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function so(i,s,c){if(s!=null&&(s=""+yr(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+yr(c):""}function as(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(pe(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=yr(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function Kr(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var xp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||xp.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function $d(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var p in s)d=s[p],s.hasOwnProperty(p)&&c[p]!==d&&Vc(i,p,d)}else for(var b in s)s.hasOwnProperty(b)&&Vc(i,b,s[b])}function Lc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return wp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wr=null;function dl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yi=null,vi=null;function bi(i){var s=vn(i);if(s&&(i=s.stateNode)){var c=i[$e]||null;e:switch(i=s.stateNode,s.type){case"input":if(rs(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var p=d[$e]||null;if(!p)throw Error(r(90));rs(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&jc(d)}break e;case"textarea":so(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Et(i,!!c.multiple,s,!1)}}}var Uc=!1;function Gd(i,s,c){if(Uc)return i(s,c);Uc=!0;try{var d=i(s);return d}finally{if(Uc=!1,(yi!==null||vi!==null)&&(Uf(),yi&&(s=yi,i=vi,vi=yi=null,bi(s),i)))for(s=0;s<i.length;s++)bi(i[s])}}function oo(i,s){var c=i.stateNode;if(c===null)return null;var d=c[$e]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xr=!1;if(jn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Xr=!1}var La=null,is=null,xi=null;function Bc(){if(xi)return xi;var i,s=is,c=s.length,d,p="value"in La?La.value:La.textContent,b=p.length;for(i=0;i<c&&s[i]===p[i];i++);var S=c-i;for(d=1;d<=S&&s[c-d]===p[b-d];d++);return xi=p.slice(i,1<d?1-d:void 0)}function Ua(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ba(){return!0}function Fc(){return!1}function Vn(i){function s(c,d,p,b,S){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(c=i[I],this[I]=c?c(b):b[I]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ba:Fc,this.isPropagationStopped=Fc,this}return N(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),s}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Vn(Nt),co=N({},Nt,{view:0,detail:0}),Qd=Vn(co),hl,ml,Fa,uo=N({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fa&&(Fa&&i.type==="mousemove"?(hl=i.screenX-Fa.screenX,ml=i.screenY-Fa.screenY):ml=hl=0,Fa=i),hl)},movementY:function(i){return"movementY"in i?i.movementY:ml}}),Zr=Vn(uo),Kd=N({},uo,{dataTransfer:0}),Ep=Vn(Kd),fo=N({},co,{relatedTarget:0}),pl=Vn(fo),zc=N({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),gl=Vn(zc),Wd=N({},Nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yl=Vn(Wd),Tp=N({},Nt,{data:0}),Hc=Vn(Tp),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Zd[i])?!!s[i]:!1}function mo(){return Yc}var Jd=N({},co,{key:function(i){if(i.key){var s=ho[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ua(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(i){return i.type==="keypress"?Ua(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ua(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vl=Vn(Jd),ef=N({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=Vn(ef),_i=N({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),tf=Vn(_i),nf=N({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),rf=Vn(nf),af=N({},uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bl=Vn(af),vr=N({},Nt,{newState:0,oldState:0}),sf=Vn(vr),of=[9,13,27,32],za=jn&&"CompositionEvent"in window,m=null;jn&&"documentMode"in document&&(m=document.documentMode);var _=jn&&"TextEvent"in window&&!m,E=jn&&(!za||m&&8<m&&11>=m),V=" ",J=!1;function se(i,s){switch(i){case"keyup":return of.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mt=!1;function Sn(i,s){switch(i){case"compositionend":return we(s);case"keypress":return s.which!==32?null:(J=!0,V);case"textInput":return i=s.data,i===V&&J?null:i;default:return null}}function pt(i,s){if(mt)return i==="compositionend"||!za&&se(i,s)?(i=Bc(),xi=is=La=null,mt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ln[i.type]:s==="textarea"}function wi(i,s,c,d){yi?vi?vi.push(d):vi=[d]:yi=d,s=Yf(s,"onChange"),0<s.length&&(c=new fl("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var qn=null,Ha=null;function $c(i){Pw(i,0)}function lf(i){var s=$r(i);if(jc(s))return i}function lx(i,s){if(i==="change")return s}var cx=!1;if(jn){var Sp;if(jn){var Dp="oninput"in document;if(!Dp){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),Dp=typeof ux.oninput=="function"}Sp=Dp}else Sp=!1;cx=Sp&&(!document.documentMode||9<document.documentMode)}function dx(){qn&&(qn.detachEvent("onpropertychange",fx),Ha=qn=null)}function fx(i){if(i.propertyName==="value"&&lf(Ha)){var s=[];wi(s,Ha,i,dl(i)),Gd($c,s)}}function XR(i,s,c){i==="focusin"?(dx(),qn=s,Ha=c,qn.attachEvent("onpropertychange",fx)):i==="focusout"&&dx()}function ZR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Ha)}function JR(i,s){if(i==="click")return lf(s)}function eN(i,s){if(i==="input"||i==="change")return lf(s)}function tN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var jr=typeof Object.is=="function"?Object.is:tN;function Gc(i,s){if(jr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!jt.call(s,p)||!jr(i[p],s[p]))return!1}return!0}function hx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mx(i,s){var c=hx(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hx(c)}}function px(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?px(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=cl(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=cl(i.document)}return s}function Ap(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function nN(i,s){var c=gx(s);s=i.focusedElem;var d=i.selectionRange;if(c!==s&&s&&s.ownerDocument&&px(s.ownerDocument.documentElement,s)){if(d!==null&&Ap(s)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(c,s.value.length);else if(c=(i=s.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var p=s.textContent.length,b=Math.min(d.start,p);d=d.end===void 0?b:Math.min(d.end,p),!c.extend&&b>d&&(p=d,d=b,b=p),p=mx(s,b);var S=mx(s,d);p&&S&&(c.rangeCount!==1||c.anchorNode!==p.node||c.anchorOffset!==p.offset||c.focusNode!==S.node||c.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),c.removeAllRanges(),b>d?(c.addRange(i),c.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),c.addRange(i)))}}for(i=[],c=s;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)c=i[s],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var rN=jn&&"documentMode"in document&&11>=document.documentMode,xl=null,Cp=null,Qc=null,Rp=!1;function yx(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Rp||xl==null||xl!==cl(d)||(d=xl,"selectionStart"in d&&Ap(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qc&&Gc(Qc,d)||(Qc=d,d=Yf(Cp,"onSelect"),0<d.length&&(s=new fl("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=xl)))}function po(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var _l={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionrun:po("Transition","TransitionRun"),transitionstart:po("Transition","TransitionStart"),transitioncancel:po("Transition","TransitionCancel"),transitionend:po("Transition","TransitionEnd")},Np={},vx={};jn&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function go(i){if(Np[i])return Np[i];if(!_l[i])return i;var s=_l[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in vx)return Np[i]=s[c];return i}var bx=go("animationend"),xx=go("animationiteration"),_x=go("animationstart"),aN=go("transitionrun"),iN=go("transitionstart"),sN=go("transitioncancel"),wx=go("transitionend"),Ex=new Map,Tx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function _a(i,s){Ex.set(i,s),at(s,[i])}var Jr=[],wl=0,Mp=0;function cf(){for(var i=wl,s=Mp=wl=0;s<i;){var c=Jr[s];Jr[s++]=null;var d=Jr[s];Jr[s++]=null;var p=Jr[s];Jr[s++]=null;var b=Jr[s];if(Jr[s++]=null,d!==null&&p!==null){var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}b!==0&&Sx(c,p,b)}}function uf(i,s,c,d){Jr[wl++]=i,Jr[wl++]=s,Jr[wl++]=c,Jr[wl++]=d,Mp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function kp(i,s,c,d){return uf(i,s,c,d),df(i)}function ss(i,s){return uf(i,null,null,s),df(i)}function Sx(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var p=!1,b=i.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(p=!0)),i=b,b=b.return;p&&s!==null&&i.tag===3&&(b=i.stateNode,p=31-In(c),b=b.hiddenUpdates,i=b[p],i===null?b[p]=[s]:i.push(s),s.lane=c|536870912)}function df(i){if(50<bu)throw bu=0,Lg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var El={},Dx=new WeakMap;function ea(i,s){if(typeof i=="object"&&i!==null){var c=Dx.get(i);return c!==void 0?c:(s={value:i,source:s,stack:ne(s)},Dx.set(i,s),s)}return{value:i,source:s,stack:ne(s)}}var Tl=[],Sl=0,ff=null,hf=0,ta=[],na=0,yo=null,Ei=1,Ti="";function vo(i,s){Tl[Sl++]=hf,Tl[Sl++]=ff,ff=i,hf=s}function Ax(i,s,c){ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,yo=i;var d=Ei;i=Ti;var p=32-In(d)-1;d&=~(1<<p),c+=1;var b=32-In(s)+p;if(30<b){var S=p-p%5;b=(d&(1<<S)-1).toString(32),d>>=S,p-=S,Ei=1<<32-In(s)+p|c<<p|d,Ti=b+i}else Ei=1<<b|c<<p|d,Ti=i}function Pp(i){i.return!==null&&(vo(i,1),Ax(i,1,0))}function Op(i){for(;i===ff;)ff=Tl[--Sl],Tl[Sl]=null,hf=Tl[--Sl],Tl[Sl]=null;for(;i===yo;)yo=ta[--na],ta[na]=null,Ti=ta[--na],ta[na]=null,Ei=ta[--na],ta[na]=null}var br=null,$n=null,Tt=!1,wa=null,Ya=!1,Ip=Error(r(519));function bo(i){var s=Error(r(418,""));throw Xc(ea(s,i)),Ip}function Cx(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[Ie]=i,s[$e]=d,c){case"dialog":ht("cancel",s),ht("close",s);break;case"iframe":case"object":case"embed":ht("load",s);break;case"video":case"audio":for(c=0;c<_u.length;c++)ht(_u[c],s);break;case"source":ht("error",s);break;case"img":case"image":case"link":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"input":ht("invalid",s),io(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ao(s);break;case"select":ht("invalid",s);break;case"textarea":ht("invalid",s),as(s,d.value,d.defaultValue,d.children),ao(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||Vw(s.textContent,c)?(d.popover!=null&&(ht("beforetoggle",s),ht("toggle",s)),d.onScroll!=null&&ht("scroll",s),d.onScrollEnd!=null&&ht("scrollend",s),d.onClick!=null&&(s.onclick=qf),s=!0):s=!1,s||bo(i)}function Rx(i){for(br=i.return;br;)switch(br.tag){case 3:case 27:Ya=!0;return;case 5:case 13:Ya=!1;return;default:br=br.return}}function Kc(i){if(i!==br)return!1;if(!Tt)return Rx(i),Tt=!0,!1;var s=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ty(i.type,i.memoizedProps)),c=!c),c&&(s=!0),s&&$n&&bo(i),Rx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){$n=Ta(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}$n=null}}else $n=br?Ta(i.stateNode.nextSibling):null;return!0}function Wc(){$n=br=null,Tt=!1}function Xc(i){wa===null?wa=[i]:wa.push(i)}var Zc=Error(r(460)),Nx=Error(r(474)),jp={then:function(){}};function Mx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mf(){}function kx(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(mf,mf),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Zc?Error(r(483)):i;default:if(typeof s.status=="string")s.then(mf,mf);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=d}},function(d){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,i===Zc?Error(r(483)):i}throw Jc=s,Zc}}var Jc=null;function Px(){if(Jc===null)throw Error(r(459));var i=Jc;return Jc=null,i}var Dl=null,eu=0;function pf(i){var s=eu;return eu+=1,Dl===null&&(Dl=[]),kx(Dl,i,s)}function tu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gf(i,s){throw s.$$typeof===o?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Ox(i){var s=i._init;return s(i._payload)}function Ix(i){function s(Z,G){if(i){var te=Z.deletions;te===null?(Z.deletions=[G],Z.flags|=16):te.push(G)}}function c(Z,G){if(!i)return null;for(;G!==null;)s(Z,G),G=G.sibling;return null}function d(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function p(Z,G){return Z=vs(Z,G),Z.index=0,Z.sibling=null,Z}function b(Z,G,te){return Z.index=te,i?(te=Z.alternate,te!==null?(te=te.index,te<G?(Z.flags|=33554434,G):te):(Z.flags|=33554434,G)):(Z.flags|=1048576,G)}function S(Z){return i&&Z.alternate===null&&(Z.flags|=33554434),Z}function I(Z,G,te,he){return G===null||G.tag!==6?(G=Ng(te,Z.mode,he),G.return=Z,G):(G=p(G,te),G.return=Z,G)}function z(Z,G,te,he){var je=te.type;return je===f?ce(Z,G,te.props.children,he,te.key):G!==null&&(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Ox(je)===G.type)?(G=p(G,te.props),tu(G,te),G.return=Z,G):(G=Of(te.type,te.key,te.props,null,Z.mode,he),tu(G,te),G.return=Z,G)}function Q(Z,G,te,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==te.containerInfo||G.stateNode.implementation!==te.implementation?(G=Mg(te,Z.mode,he),G.return=Z,G):(G=p(G,te.children||[]),G.return=Z,G)}function ce(Z,G,te,he,je){return G===null||G.tag!==7?(G=Ro(te,Z.mode,he,je),G.return=Z,G):(G=p(G,te),G.return=Z,G)}function ye(Z,G,te){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ng(""+G,Z.mode,te),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case l:return te=Of(G.type,G.key,G.props,null,Z.mode,te),tu(te,G),te.return=Z,te;case u:return G=Mg(G,Z.mode,te),G.return=Z,G;case U:var he=G._init;return G=he(G._payload),ye(Z,G,te)}if(pe(G)||$(G))return G=Ro(G,Z.mode,te,null),G.return=Z,G;if(typeof G.then=="function")return ye(Z,pf(G),te);if(G.$$typeof===w)return ye(Z,Mf(Z,G),te);gf(Z,G)}return null}function re(Z,G,te,he){var je=G!==null?G.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return je!==null?null:I(Z,G,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return te.key===je?z(Z,G,te,he):null;case u:return te.key===je?Q(Z,G,te,he):null;case U:return je=te._init,te=je(te._payload),re(Z,G,te,he)}if(pe(te)||$(te))return je!==null?null:ce(Z,G,te,he,null);if(typeof te.then=="function")return re(Z,G,pf(te),he);if(te.$$typeof===w)return re(Z,G,Mf(Z,te),he);gf(Z,te)}return null}function le(Z,G,te,he,je){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Z=Z.get(te)||null,I(G,Z,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return Z=Z.get(he.key===null?te:he.key)||null,z(G,Z,he,je);case u:return Z=Z.get(he.key===null?te:he.key)||null,Q(G,Z,he,je);case U:var ot=he._init;return he=ot(he._payload),le(Z,G,te,he,je)}if(pe(he)||$(he))return Z=Z.get(te)||null,ce(G,Z,he,je,null);if(typeof he.then=="function")return le(Z,G,te,pf(he),je);if(he.$$typeof===w)return le(Z,G,te,Mf(G,he),je);gf(G,he)}return null}function Be(Z,G,te,he){for(var je=null,ot=null,Ye=G,Ge=G=0,Fn=null;Ye!==null&&Ge<te.length;Ge++){Ye.index>Ge?(Fn=Ye,Ye=null):Fn=Ye.sibling;var St=re(Z,Ye,te[Ge],he);if(St===null){Ye===null&&(Ye=Fn);break}i&&Ye&&St.alternate===null&&s(Z,Ye),G=b(St,G,Ge),ot===null?je=St:ot.sibling=St,ot=St,Ye=Fn}if(Ge===te.length)return c(Z,Ye),Tt&&vo(Z,Ge),je;if(Ye===null){for(;Ge<te.length;Ge++)Ye=ye(Z,te[Ge],he),Ye!==null&&(G=b(Ye,G,Ge),ot===null?je=Ye:ot.sibling=Ye,ot=Ye);return Tt&&vo(Z,Ge),je}for(Ye=d(Ye);Ge<te.length;Ge++)Fn=le(Ye,Z,Ge,te[Ge],he),Fn!==null&&(i&&Fn.alternate!==null&&Ye.delete(Fn.key===null?Ge:Fn.key),G=b(Fn,G,Ge),ot===null?je=Fn:ot.sibling=Fn,ot=Fn);return i&&Ye.forEach(function(Ss){return s(Z,Ss)}),Tt&&vo(Z,Ge),je}function Ze(Z,G,te,he){if(te==null)throw Error(r(151));for(var je=null,ot=null,Ye=G,Ge=G=0,Fn=null,St=te.next();Ye!==null&&!St.done;Ge++,St=te.next()){Ye.index>Ge?(Fn=Ye,Ye=null):Fn=Ye.sibling;var Ss=re(Z,Ye,St.value,he);if(Ss===null){Ye===null&&(Ye=Fn);break}i&&Ye&&Ss.alternate===null&&s(Z,Ye),G=b(Ss,G,Ge),ot===null?je=Ss:ot.sibling=Ss,ot=Ss,Ye=Fn}if(St.done)return c(Z,Ye),Tt&&vo(Z,Ge),je;if(Ye===null){for(;!St.done;Ge++,St=te.next())St=ye(Z,St.value,he),St!==null&&(G=b(St,G,Ge),ot===null?je=St:ot.sibling=St,ot=St);return Tt&&vo(Z,Ge),je}for(Ye=d(Ye);!St.done;Ge++,St=te.next())St=le(Ye,Z,Ge,St.value,he),St!==null&&(i&&St.alternate!==null&&Ye.delete(St.key===null?Ge:St.key),G=b(St,G,Ge),ot===null?je=St:ot.sibling=St,ot=St);return i&&Ye.forEach(function(xM){return s(Z,xM)}),Tt&&vo(Z,Ge),je}function ln(Z,G,te,he){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case l:e:{for(var je=te.key;G!==null;){if(G.key===je){if(je=te.type,je===f){if(G.tag===7){c(Z,G.sibling),he=p(G,te.props.children),he.return=Z,Z=he;break e}}else if(G.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===U&&Ox(je)===G.type){c(Z,G.sibling),he=p(G,te.props),tu(he,te),he.return=Z,Z=he;break e}c(Z,G);break}else s(Z,G);G=G.sibling}te.type===f?(he=Ro(te.props.children,Z.mode,he,te.key),he.return=Z,Z=he):(he=Of(te.type,te.key,te.props,null,Z.mode,he),tu(he,te),he.return=Z,Z=he)}return S(Z);case u:e:{for(je=te.key;G!==null;){if(G.key===je)if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){c(Z,G.sibling),he=p(G,te.children||[]),he.return=Z,Z=he;break e}else{c(Z,G);break}else s(Z,G);G=G.sibling}he=Mg(te,Z.mode,he),he.return=Z,Z=he}return S(Z);case U:return je=te._init,te=je(te._payload),ln(Z,G,te,he)}if(pe(te))return Be(Z,G,te,he);if($(te)){if(je=$(te),typeof je!="function")throw Error(r(150));return te=je.call(te),Ze(Z,G,te,he)}if(typeof te.then=="function")return ln(Z,G,pf(te),he);if(te.$$typeof===w)return ln(Z,G,Mf(Z,te),he);gf(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,G!==null&&G.tag===6?(c(Z,G.sibling),he=p(G,te),he.return=Z,Z=he):(c(Z,G),he=Ng(te,Z.mode,he),he.return=Z,Z=he),S(Z)):c(Z,G)}return function(Z,G,te,he){try{eu=0;var je=ln(Z,G,te,he);return Dl=null,je}catch(Ye){if(Ye===Zc)throw Ye;var ot=sa(29,Ye,null,Z.mode);return ot.lanes=he,ot.return=Z,ot}finally{}}}var xo=Ix(!0),jx=Ix(!1),Al=Ce(null),yf=Ce(0);function Vx(i,s){i=Ii,ze(yf,i),ze(Al,s),Ii=i|s.baseLanes}function Vp(){ze(yf,Ii),ze(Al,Al.current)}function Lp(){Ii=yf.current,Ee(Al),Ee(yf)}var ra=Ce(null),qa=null;function os(i){var s=i.alternate;ze(An,An.current&1),ze(ra,i),qa===null&&(s===null||Al.current!==null||s.memoizedState!==null)&&(qa=i)}function Lx(i){if(i.tag===22){if(ze(An,An.current),ze(ra,i),qa===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(qa=i)}}else ls()}function ls(){ze(An,An.current),ze(ra,ra.current)}function Si(i){Ee(ra),qa===i&&(qa=null),Ee(An)}var An=Ce(0);function vf(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var oN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},lN=n.unstable_scheduleCallback,cN=n.unstable_NormalPriority,Cn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Up(){return{controller:new oN,data:new Map,refCount:0}}function nu(i){i.refCount--,i.refCount===0&&lN(cN,function(){i.controller.abort()})}var ru=null,Bp=0,Cl=0,Rl=null;function uN(i,s){if(ru===null){var c=ru=[];Bp=0,Cl=$g(),Rl={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Bp++,s.then(Ux,Ux),s}function Ux(){if(--Bp===0&&ru!==null){Rl!==null&&(Rl.status="fulfilled");var i=ru;ru=null,Cl=0,Rl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function dN(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var p=0;p<c.length;p++)(0,c[p])(s)},function(p){for(d.status="rejected",d.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),d}var Bx=R.S;R.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&uN(i,s),Bx!==null&&Bx(i,s)};var _o=Ce(null);function Fp(){var i=_o.current;return i!==null?i:Ht.pooledCache}function bf(i,s){s===null?ze(_o,_o.current):ze(_o,s.pool)}function Fx(){var i=Fp();return i===null?null:{parent:Cn._currentValue,pool:i}}var cs=0,it=null,Vt=null,bn=null,xf=!1,Nl=!1,wo=!1,_f=0,au=0,Ml=null,fN=0;function hn(){throw Error(r(321))}function zp(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!jr(i[c],s[c]))return!1;return!0}function Hp(i,s,c,d,p,b){return cs=b,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=i===null||i.memoizedState===null?Eo:us,wo=!1,b=c(d,p),wo=!1,Nl&&(b=Hx(s,c,d,p)),zx(i),b}function zx(i){R.H=$a;var s=Vt!==null&&Vt.next!==null;if(cs=0,bn=Vt=it=null,xf=!1,au=0,Ml=null,s)throw Error(r(300));i===null||Un||(i=i.dependencies,i!==null&&Nf(i)&&(Un=!0))}function Hx(i,s,c,d){it=i;var p=0;do{if(Nl&&(Ml=null),au=0,Nl=!1,25<=p)throw Error(r(301));if(p+=1,bn=Vt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=To,b=s(c,d)}while(Nl);return b}function hN(){var i=R.H,s=i.useState()[0];return s=typeof s.then=="function"?iu(s):s,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(it.flags|=1024),s}function Yp(){var i=_f!==0;return _f=0,i}function qp(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function $p(i){if(xf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}xf=!1}cs=0,bn=Vt=it=null,Nl=!1,au=_f=0,Ml=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?it.memoizedState=bn=i:bn=bn.next=i,bn}function xn(){if(Vt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var s=bn===null?it.memoizedState:bn.next;if(s!==null)bn=s,Vt=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},bn===null?it.memoizedState=bn=i:bn=bn.next=i}return bn}var wf;wf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function iu(i){var s=au;return au+=1,Ml===null&&(Ml=[]),i=kx(Ml,i,s),s=it,(bn===null?s.memoizedState:bn.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Eo:us),i}function Ef(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return iu(i);if(i.$$typeof===w)return ir(i)}throw Error(r(438,String(i)))}function Gp(i){var s=null,c=it.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=wf(),it.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=Y;return s.index++,c}function Di(i,s){return typeof s=="function"?s(i):s}function Tf(i){var s=xn();return Qp(s,Vt,i)}function Qp(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var p=i.baseQueue,b=d.pending;if(b!==null){if(p!==null){var S=p.next;p.next=b.next,b.next=S}s.baseQueue=p=b,d.pending=null}if(b=i.baseState,p===null)i.memoizedState=b;else{s=p.next;var I=S=null,z=null,Q=s,ce=!1;do{var ye=Q.lane&-536870913;if(ye!==Q.lane?(gt&ye)===ye:(cs&ye)===ye){var re=Q.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ye===Cl&&(ce=!0);else if((cs&re)===re){Q=Q.next,re===Cl&&(ce=!0);continue}else ye={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(I=z=ye,S=b):z=z.next=ye,it.lanes|=re,bs|=re;ye=Q.action,wo&&c(b,ye),b=Q.hasEagerState?Q.eagerState:c(b,ye)}else re={lane:ye,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(I=z=re,S=b):z=z.next=re,it.lanes|=ye,bs|=ye;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?S=b:z.next=I,!jr(b,i.memoizedState)&&(Un=!0,ce&&(c=Rl,c!==null)))throw c;i.memoizedState=b,i.baseState=S,i.baseQueue=z,d.lastRenderedState=b}return p===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Kp(i){var s=xn(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,p=c.pending,b=s.memoizedState;if(p!==null){c.pending=null;var S=p=p.next;do b=i(b,S.action),S=S.next;while(S!==p);jr(b,s.memoizedState)||(Un=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,d]}function Yx(i,s,c){var d=it,p=xn(),b=Tt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var S=!jr((Vt||p).memoizedState,c);if(S&&(p.memoizedState=c,Un=!0),p=p.queue,Zp(Gx.bind(null,d,p,i),[i]),p.getSnapshot!==s||S||bn!==null&&bn.memoizedState.tag&1){if(d.flags|=2048,kl(9,$x.bind(null,d,p,c,s),{destroy:void 0},null),Ht===null)throw Error(r(349));b||(cs&60)!==0||qx(d,s,c)}return c}function qx(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=it.updateQueue,s===null?(s=wf(),it.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function $x(i,s,c,d){s.value=c,s.getSnapshot=d,Qx(s)&&Kx(i)}function Gx(i,s,c){return c(function(){Qx(s)&&Kx(i)})}function Qx(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!jr(i,c)}catch{return!0}}function Kx(i){var s=ss(i,2);s!==null&&xr(s,i,2)}function Wp(i){var s=Cr();if(typeof i=="function"){var c=i;if(i=c(),wo){pr(!0);try{c()}finally{pr(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:i},s}function Wx(i,s,c,d){return i.baseState=c,Qp(i,Vt,typeof d=="function"?d:Di)}function mN(i,s,c,d,p){if(Af(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};R.T!==null?c(!0):b.isTransition=!1,d(b),c=s.pending,c===null?(b.next=s.pending=b,Xx(s,b)):(b.next=c.next,s.pending=c.next=b)}}function Xx(i,s){var c=s.action,d=s.payload,p=i.state;if(s.isTransition){var b=R.T,S={};R.T=S;try{var I=c(p,d),z=R.S;z!==null&&z(S,I),Zx(i,s,I)}catch(Q){Xp(i,s,Q)}finally{R.T=b}}else try{b=c(p,d),Zx(i,s,b)}catch(Q){Xp(i,s,Q)}}function Zx(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Jx(i,s,d)},function(d){return Xp(i,s,d)}):Jx(i,s,c)}function Jx(i,s,c){s.status="fulfilled",s.value=c,e_(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,Xx(i,c)))}function Xp(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,e_(s),s=s.next;while(s!==d)}i.action=null}function e_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function t_(i,s){return s}function n_(i,s){if(Tt){var c=Ht.formState;if(c!==null){e:{var d=it;if(Tt){if($n){t:{for(var p=$n,b=Ya;p.nodeType!==8;){if(!b){p=null;break t}if(p=Ta(p.nextSibling),p===null){p=null;break t}}b=p.data,p=b==="F!"||b==="F"?p:null}if(p){$n=Ta(p.nextSibling),d=p.data==="F!";break e}}bo(d)}d=!1}d&&(s=c[0])}}return c=Cr(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:s},c.queue=d,c=x_.bind(null,it,d),d.dispatch=c,d=Wp(!1),b=rg.bind(null,it,!1,d.queue),d=Cr(),p={state:s,dispatch:null,action:i,pending:null},d.queue=p,c=mN.bind(null,it,p,b,c),p.dispatch=c,d.memoizedState=i,[s,c,!1]}function r_(i){var s=xn();return a_(s,Vt,i)}function a_(i,s,c){s=Qp(i,s,t_)[0],i=Tf(Di)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?iu(s):s;var d=xn(),p=d.queue,b=p.dispatch;return c!==d.memoizedState&&(it.flags|=2048,kl(9,pN.bind(null,p,c),{destroy:void 0},null)),[s,b,i]}function pN(i,s){i.action=s}function i_(i){var s=xn(),c=Vt;if(c!==null)return a_(s,c,i);xn(),s=s.memoizedState,c=xn();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function kl(i,s,c,d){return i={tag:i,create:s,inst:c,deps:d,next:null},s=it.updateQueue,s===null&&(s=wf(),it.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function s_(){return xn().memoizedState}function Sf(i,s,c,d){var p=Cr();it.flags|=i,p.memoizedState=kl(1|s,c,{destroy:void 0},d===void 0?null:d)}function Df(i,s,c,d){var p=xn();d=d===void 0?null:d;var b=p.memoizedState.inst;Vt!==null&&d!==null&&zp(d,Vt.memoizedState.deps)?p.memoizedState=kl(s,c,b,d):(it.flags|=i,p.memoizedState=kl(1|s,c,b,d))}function o_(i,s){Sf(8390656,8,i,s)}function Zp(i,s){Df(2048,8,i,s)}function l_(i,s){return Df(4,2,i,s)}function c_(i,s){return Df(4,4,i,s)}function u_(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function d_(i,s,c){c=c!=null?c.concat([i]):null,Df(4,4,u_.bind(null,s,i),c)}function Jp(){}function f_(i,s){var c=xn();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&zp(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function h_(i,s){var c=xn();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&zp(s,d[1]))return d[0];if(d=i(),wo){pr(!0);try{i()}finally{pr(!1)}}return c.memoizedState=[d,s],d}function eg(i,s,c){return c===void 0||(cs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=pw(),it.lanes|=i,bs|=i,c)}function m_(i,s,c,d){return jr(c,s)?c:Al.current!==null?(i=eg(i,c,d),jr(i,s)||(Un=!0),i):(cs&42)===0?(Un=!0,i.memoizedState=c):(i=pw(),it.lanes|=i,bs|=i,s)}function p_(i,s,c,d,p){var b=_e.p;_e.p=b!==0&&8>b?b:8;var S=R.T,I={};R.T=I,rg(i,!1,s,c);try{var z=p(),Q=R.S;if(Q!==null&&Q(I,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=dN(z,d);su(i,s,ce,Br(i))}else su(i,s,d,Br(i))}catch(ye){su(i,s,{then:function(){},status:"rejected",reason:ye},Br())}finally{_e.p=b,R.T=S}}function gN(){}function tg(i,s,c,d){if(i.tag!==5)throw Error(r(476));var p=g_(i).queue;p_(i,p,s,ue,c===null?gN:function(){return y_(i),c(d)})}function g_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ue},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function y_(i){var s=g_(i).next.queue;su(i,s,{},Br())}function ng(){return ir(Du)}function v_(){return xn().memoizedState}function b_(){return xn().memoizedState}function yN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Br();i=hs(c);var d=ms(s,i,c);d!==null&&(xr(d,s,c),cu(d,s,c)),s={cache:Up()},i.payload=s;return}s=s.return}}function vN(i,s,c){var d=Br();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Af(i)?__(s,c):(c=kp(i,s,c,d),c!==null&&(xr(c,i,d),w_(c,s,d)))}function x_(i,s,c){var d=Br();su(i,s,c,d)}function su(i,s,c,d){var p={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Af(i))__(s,p);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var S=s.lastRenderedState,I=b(S,c);if(p.hasEagerState=!0,p.eagerState=I,jr(I,S))return uf(i,s,p,0),Ht===null&&cf(),!1}catch{}finally{}if(c=kp(i,s,p,d),c!==null)return xr(c,i,d),w_(c,s,d),!0}return!1}function rg(i,s,c,d){if(d={lane:2,revertLane:$g(),action:d,hasEagerState:!1,eagerState:null,next:null},Af(i)){if(s)throw Error(r(479))}else s=kp(i,c,d,2),s!==null&&xr(s,i,2)}function Af(i){var s=i.alternate;return i===it||s!==null&&s===it}function __(i,s){Nl=xf=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function w_(i,s,c){if((c&4194176)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}var $a={readContext:ir,use:Ef,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn};$a.useCacheRefresh=hn,$a.useMemoCache=hn,$a.useHostTransitionStatus=hn,$a.useFormState=hn,$a.useActionState=hn,$a.useOptimistic=hn;var Eo={readContext:ir,use:Ef,useCallback:function(i,s){return Cr().memoizedState=[i,s===void 0?null:s],i},useContext:ir,useEffect:o_,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Sf(4194308,4,u_.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Sf(4194308,4,i,s)},useInsertionEffect:function(i,s){Sf(4,2,i,s)},useMemo:function(i,s){var c=Cr();s=s===void 0?null:s;var d=i();if(wo){pr(!0);try{i()}finally{pr(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=Cr();if(c!==void 0){var p=c(s);if(wo){pr(!0);try{c(s)}finally{pr(!1)}}}else p=s;return d.memoizedState=d.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},d.queue=i,i=i.dispatch=vN.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var s=Cr();return i={current:i},s.memoizedState=i},useState:function(i){i=Wp(i);var s=i.queue,c=x_.bind(null,it,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:Jp,useDeferredValue:function(i,s){var c=Cr();return eg(c,i,s)},useTransition:function(){var i=Wp(!1);return i=p_.bind(null,it,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=it,p=Cr();if(Tt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ht===null)throw Error(r(349));(gt&60)!==0||qx(d,s,c)}p.memoizedState=c;var b={value:c,getSnapshot:s};return p.queue=b,o_(Gx.bind(null,d,b,i),[i]),d.flags|=2048,kl(9,$x.bind(null,d,b,c,s),{destroy:void 0},null),c},useId:function(){var i=Cr(),s=Ht.identifierPrefix;if(Tt){var c=Ti,d=Ei;c=(d&~(1<<32-In(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=_f++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=fN++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},useCacheRefresh:function(){return Cr().memoizedState=yN.bind(null,it)}};Eo.useMemoCache=Gp,Eo.useHostTransitionStatus=ng,Eo.useFormState=n_,Eo.useActionState=n_,Eo.useOptimistic=function(i){var s=Cr();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=rg.bind(null,it,!0,c),c.dispatch=s,[i,s]};var us={readContext:ir,use:Ef,useCallback:f_,useContext:ir,useEffect:Zp,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:Tf,useRef:s_,useState:function(){return Tf(Di)},useDebugValue:Jp,useDeferredValue:function(i,s){var c=xn();return m_(c,Vt.memoizedState,i,s)},useTransition:function(){var i=Tf(Di)[0],s=xn().memoizedState;return[typeof i=="boolean"?i:iu(i),s]},useSyncExternalStore:Yx,useId:v_};us.useCacheRefresh=b_,us.useMemoCache=Gp,us.useHostTransitionStatus=ng,us.useFormState=r_,us.useActionState=r_,us.useOptimistic=function(i,s){var c=xn();return Wx(c,Vt,i,s)};var To={readContext:ir,use:Ef,useCallback:f_,useContext:ir,useEffect:Zp,useImperativeHandle:d_,useInsertionEffect:l_,useLayoutEffect:c_,useMemo:h_,useReducer:Kp,useRef:s_,useState:function(){return Kp(Di)},useDebugValue:Jp,useDeferredValue:function(i,s){var c=xn();return Vt===null?eg(c,i,s):m_(c,Vt.memoizedState,i,s)},useTransition:function(){var i=Kp(Di)[0],s=xn().memoizedState;return[typeof i=="boolean"?i:iu(i),s]},useSyncExternalStore:Yx,useId:v_};To.useCacheRefresh=b_,To.useMemoCache=Gp,To.useHostTransitionStatus=ng,To.useFormState=i_,To.useActionState=i_,To.useOptimistic=function(i,s){var c=xn();return Vt!==null?Wx(c,Vt,i,s):(c.baseState=i,[i,c.queue.dispatch])};function ag(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:N({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var ig={isMounted:function(i){return(i=i._reactInternals)?oe(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var d=Br(),p=hs(d);p.payload=s,c!=null&&(p.callback=c),s=ms(i,p,d),s!==null&&(xr(s,i,d),cu(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=Br(),p=hs(d);p.tag=1,p.payload=s,c!=null&&(p.callback=c),s=ms(i,p,d),s!==null&&(xr(s,i,d),cu(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Br(),d=hs(c);d.tag=2,s!=null&&(d.callback=s),s=ms(i,d,c),s!==null&&(xr(s,i,c),cu(s,i,c))}};function E_(i,s,c,d,p,b,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,S):s.prototype&&s.prototype.isPureReactComponent?!Gc(c,d)||!Gc(p,b):!0}function T_(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&ig.enqueueReplaceState(s,s.state,null)}function So(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=N({},c));for(var p in i)c[p]===void 0&&(c[p]=i[p])}return c}var Cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function S_(i){Cf(i)}function D_(i){console.error(i)}function A_(i){Cf(i)}function Rf(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function C_(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sg(i,s,c){return c=hs(c),c.tag=3,c.payload={element:null},c.callback=function(){Rf(i,s)},c}function R_(i){return i=hs(i),i.tag=3,i}function N_(i,s,c,d){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var b=d.value;i.payload=function(){return p(b)},i.callback=function(){C_(s,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){C_(s,c,d),typeof p!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var I=d.stack;this.componentDidCatch(d.value,{componentStack:I!==null?I:""})})}function bN(i,s,c,d,p){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&lu(s,c,p,!0),c=ra.current,c!==null){switch(c.tag){case 13:return qa===null?Fg():c.alternate===null&&on===0&&(on=3),c.flags&=-257,c.flags|=65536,c.lanes=p,d===jp?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Hg(i,d,p)),!1;case 22:return c.flags|=65536,d===jp?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Hg(i,d,p)),!1}throw Error(r(435,c.tag))}return Hg(i,d,p),Fg(),!1}if(Tt)return s=ra.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,d!==Ip&&(i=Error(r(422),{cause:d}),Xc(ea(i,c)))):(d!==Ip&&(s=Error(r(423),{cause:d}),Xc(ea(s,c))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,d=ea(d,c),p=sg(i.stateNode,d,p),_g(i,p),on!==4&&(on=2)),!1;var b=Error(r(520),{cause:d});if(b=ea(b,c),yu===null?yu=[b]:yu.push(b),on!==4&&(on=2),s===null)return!0;d=ea(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=p&-p,c.lanes|=i,i=sg(c.stateNode,d,i),_g(c,i),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xs===null||!xs.has(b))))return c.flags|=65536,p&=-p,c.lanes|=p,p=R_(p),N_(p,i,c,d),_g(c,p),!1}c=c.return}while(c!==null);return!1}var M_=Error(r(461)),Un=!1;function Gn(i,s,c,d){s.child=i===null?jx(s,null,c,d):xo(s,i.child,c,d)}function k_(i,s,c,d,p){c=c.render;var b=s.ref;if("ref"in d){var S={};for(var I in d)I!=="ref"&&(S[I]=d[I])}else S=d;return Ao(s),d=Hp(i,s,c,S,b,p),I=Yp(),i!==null&&!Un?(qp(i,s,p),Ai(i,s,p)):(Tt&&I&&Pp(s),s.flags|=1,Gn(i,s,d,p),s.child)}function P_(i,s,c,d,p){if(i===null){var b=c.type;return typeof b=="function"&&!Rg(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,O_(i,s,b,d,p)):(i=Of(c.type,null,d,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!pg(i,p)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Gc,c(S,d)&&i.ref===s.ref)return Ai(i,s,p)}return s.flags|=1,i=vs(b,d),i.ref=s.ref,i.return=s,s.child=i}function O_(i,s,c,d,p){if(i!==null){var b=i.memoizedProps;if(Gc(b,d)&&i.ref===s.ref)if(Un=!1,s.pendingProps=d=b,pg(i,p))(i.flags&131072)!==0&&(Un=!0);else return s.lanes=i.lanes,Ai(i,s,p)}return og(i,s,c,d,p)}function I_(i,s,c){var d=s.pendingProps,p=d.children,b=(s.stateNode._pendingVisibility&2)!==0,S=i!==null?i.memoizedState:null;if(ou(i,s),d.mode==="hidden"||b){if((s.flags&128)!==0){if(d=S!==null?S.baseLanes|c:c,i!==null){for(p=s.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;s.childLanes=b&~d}else s.childLanes=0,s.child=null;return j_(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&bf(s,S!==null?S.cachePool:null),S!==null?Vx(s,S):Vp(),Lx(s);else return s.lanes=s.childLanes=536870912,j_(i,s,S!==null?S.baseLanes|c:c,c)}else S!==null?(bf(s,S.cachePool),Vx(s,S),ls(),s.memoizedState=null):(i!==null&&bf(s,null),Vp(),ls());return Gn(i,s,p,c),s.child}function j_(i,s,c,d){var p=Fp();return p=p===null?null:{parent:Cn._currentValue,pool:p},s.memoizedState={baseLanes:c,cachePool:p},i!==null&&bf(s,null),Vp(),Lx(s),i!==null&&lu(i,s,d,!0),null}function ou(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=2097664)}}function og(i,s,c,d,p){return Ao(s),c=Hp(i,s,c,d,void 0,p),d=Yp(),i!==null&&!Un?(qp(i,s,p),Ai(i,s,p)):(Tt&&d&&Pp(s),s.flags|=1,Gn(i,s,c,p),s.child)}function V_(i,s,c,d,p,b){return Ao(s),s.updateQueue=null,c=Hx(s,d,c,p),zx(i),d=Yp(),i!==null&&!Un?(qp(i,s,b),Ai(i,s,b)):(Tt&&d&&Pp(s),s.flags|=1,Gn(i,s,c,b),s.child)}function L_(i,s,c,d,p){if(Ao(s),s.stateNode===null){var b=El,S=c.contextType;typeof S=="object"&&S!==null&&(b=ir(S)),b=new c(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ig,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},bg(s),S=c.contextType,b.context=typeof S=="object"&&S!==null?ir(S):El,b.state=s.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(ag(s,c,S,d),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&ig.enqueueReplaceState(b,b.state,null),du(s,d,b,p),uu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){b=s.stateNode;var I=s.memoizedProps,z=So(c,I);b.props=z;var Q=b.context,ce=c.contextType;S=El,typeof ce=="object"&&ce!==null&&(S=ir(ce));var ye=c.getDerivedStateFromProps;ce=typeof ye=="function"||typeof b.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I||Q!==S)&&T_(s,b,d,S),fs=!1;var re=s.memoizedState;b.state=re,du(s,d,b,p),uu(),Q=s.memoizedState,I||re!==Q||fs?(typeof ye=="function"&&(ag(s,c,ye,d),Q=s.memoizedState),(z=fs||E_(s,c,z,d,re,Q,S))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=Q),b.props=d,b.state=Q,b.context=S,d=z):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,xg(i,s),S=s.memoizedProps,ce=So(c,S),b.props=ce,ye=s.pendingProps,re=b.context,Q=c.contextType,z=El,typeof Q=="object"&&Q!==null&&(z=ir(Q)),I=c.getDerivedStateFromProps,(Q=typeof I=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==ye||re!==z)&&T_(s,b,d,z),fs=!1,re=s.memoizedState,b.state=re,du(s,d,b,p),uu();var le=s.memoizedState;S!==ye||re!==le||fs||i!==null&&i.dependencies!==null&&Nf(i.dependencies)?(typeof I=="function"&&(ag(s,c,I,d),le=s.memoizedState),(ce=fs||E_(s,c,ce,d,re,le,z)||i!==null&&i.dependencies!==null&&Nf(i.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,le,z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,le,z)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=le),b.props=d,b.state=le,b.context=z,d=ce):(typeof b.componentDidUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),d=!1)}return b=d,ou(i,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&d?(s.child=xo(s,i.child,null,p),s.child=xo(s,null,c,p)):Gn(i,s,c,p),s.memoizedState=b.state,i=s.child):i=Ai(i,s,p),i}function U_(i,s,c,d){return Wc(),s.flags|=256,Gn(i,s,c,d),s.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(i){return{baseLanes:i,cachePool:Fx()}}function ug(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=oa),i}function B_(i,s,c){var d=s.pendingProps,p=!1,b=(s.flags&128)!==0,S;if((S=b)||(S=i!==null&&i.memoizedState===null?!1:(An.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(Tt){if(p?os(s):ls(),Tt){var I=$n,z;if(z=I){e:{for(z=I,I=Ya;z.nodeType!==8;){if(!I){I=null;break e}if(z=Ta(z.nextSibling),z===null){I=null;break e}}I=z}I!==null?(s.memoizedState={dehydrated:I,treeContext:yo!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912},z=sa(18,null,null,0),z.stateNode=I,z.return=s,s.child=z,br=s,$n=null,z=!0):z=!1}z||bo(s)}if(I=s.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?s.lanes=16:s.lanes=536870912,null;Si(s)}return I=d.children,d=d.fallback,p?(ls(),p=s.mode,I=fg({mode:"hidden",children:I},p),d=Ro(d,p,c,null),I.return=s,d.return=s,I.sibling=d,s.child=I,p=s.child,p.memoizedState=cg(c),p.childLanes=ug(i,S,c),s.memoizedState=lg,d):(os(s),dg(s,I))}if(z=i.memoizedState,z!==null&&(I=z.dehydrated,I!==null)){if(b)s.flags&256?(os(s),s.flags&=-257,s=hg(i,s,c)):s.memoizedState!==null?(ls(),s.child=i.child,s.flags|=128,s=null):(ls(),p=d.fallback,I=s.mode,d=fg({mode:"visible",children:d.children},I),p=Ro(p,I,c,null),p.flags|=2,d.return=s,p.return=s,d.sibling=p,s.child=d,xo(s,i.child,null,c),d=s.child,d.memoizedState=cg(c),d.childLanes=ug(i,S,c),s.memoizedState=lg,s=p);else if(os(s),I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var Q=S.dgst;S=Q,d=Error(r(419)),d.stack="",d.digest=S,Xc({value:d,source:null,stack:null}),s=hg(i,s,c)}else if(Un||lu(i,s,c,!1),S=(c&i.childLanes)!==0,Un||S){if(S=Ht,S!==null){if(d=c&-c,(d&42)!==0)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=(d&(S.suspendedLanes|c))!==0?0:d,d!==0&&d!==z.retryLane)throw z.retryLane=d,ss(i,d),xr(S,i,d),M_}I.data==="$?"||Fg(),s=hg(i,s,c)}else I.data==="$?"?(s.flags|=128,s.child=i.child,s=ON.bind(null,i),I._reactRetry=s,s=null):(i=z.treeContext,$n=Ta(I.nextSibling),br=s,Tt=!0,wa=null,Ya=!1,i!==null&&(ta[na++]=Ei,ta[na++]=Ti,ta[na++]=yo,Ei=i.id,Ti=i.overflow,yo=s),s=dg(s,d.children),s.flags|=4096);return s}return p?(ls(),p=d.fallback,I=s.mode,z=i.child,Q=z.sibling,d=vs(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&31457280,Q!==null?p=vs(Q,p):(p=Ro(p,I,c,null),p.flags|=2),p.return=s,d.return=s,d.sibling=p,s.child=d,d=p,p=s.child,I=i.child.memoizedState,I===null?I=cg(c):(z=I.cachePool,z!==null?(Q=Cn._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=Fx(),I={baseLanes:I.baseLanes|c,cachePool:z}),p.memoizedState=I,p.childLanes=ug(i,S,c),s.memoizedState=lg,d):(os(s),c=i.child,i=c.sibling,c=vs(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=c,s.memoizedState=null,c)}function dg(i,s){return s=fg({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function fg(i,s){return fw(i,s,0,null)}function hg(i,s,c){return xo(s,i.child,null,c),i=dg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function F_(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),yg(i.return,s,c)}function mg(i,s,c,d,p){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=p)}function z_(i,s,c){var d=s.pendingProps,p=d.revealOrder,b=d.tail;if(Gn(i,s,d.children,c),d=An.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,c,s);else if(i.tag===19)F_(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(ze(An,d),p){case"forwards":for(c=s.child,p=null;c!==null;)i=c.alternate,i!==null&&vf(i)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),mg(s,!1,p,c,b);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&vf(i)===null){s.child=p;break}i=p.sibling,p.sibling=c,c=p,p=i}mg(s,!0,c,null,b);break;case"together":mg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(lu(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=vs(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=vs(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function pg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Nf(i)))}function xN(i,s,c){switch(s.tag){case 3:Xt(s,s.stateNode.containerInfo),ds(s,Cn,i.memoizedState.cache),Wc();break;case 27:case 5:et(s);break;case 4:Xt(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(os(s),s.flags|=128,null):(c&s.child.childLanes)!==0?B_(i,s,c):(os(s),i=Ai(i,s,c),i!==null?i.sibling:null);os(s);break;case 19:var p=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(lu(i,s,c,!1),d=(c&s.childLanes)!==0),p){if(d)return z_(i,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ze(An,An.current),d)break;return null;case 22:case 23:return s.lanes=0,I_(i,s,c);case 24:ds(s,Cn,i.memoizedState.cache)}return Ai(i,s,c)}function H_(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)Un=!0;else{if(!pg(i,c)&&(s.flags&128)===0)return Un=!1,xN(i,s,c);Un=(i.flags&131072)!==0}else Un=!1,Tt&&(s.flags&1048576)!==0&&Ax(s,hf,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,p=d._init;if(d=p(d._payload),s.type=d,typeof d=="function")Rg(d)?(i=So(d,i),s.tag=1,s=L_(null,s,d,i,c)):(s.tag=0,s=og(null,s,d,i,c));else{if(d!=null){if(p=d.$$typeof,p===T){s.tag=11,s=k_(null,s,d,i,c);break e}else if(p===O){s.tag=14,s=P_(null,s,d,i,c);break e}}throw s=C(d)||d,Error(r(306,s,""))}}return s;case 0:return og(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,p=So(d,s.pendingProps),L_(i,s,d,p,c);case 3:e:{if(Xt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));var b=s.pendingProps;p=s.memoizedState,d=p.element,xg(i,s),du(s,b,null,c);var S=s.memoizedState;if(b=S.cache,ds(s,Cn,b),b!==p.cache&&vg(s,[Cn],c,!0),uu(),b=S.element,p.isDehydrated)if(p={element:b,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=U_(i,s,b,c);break e}else if(b!==d){d=ea(Error(r(424)),s),Xc(d),s=U_(i,s,b,c);break e}else for($n=Ta(s.stateNode.containerInfo.firstChild),br=s,Tt=!0,wa=null,Ya=!0,c=jx(s,null,b,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Wc(),b===d){s=Ai(i,s,c);break e}Gn(i,s,b,c)}s=s.child}return s;case 26:return ou(i,s),i===null?(c=$w(s.type,null,s.pendingProps,null))?s.memoizedState=c:Tt||(c=s.type,i=s.pendingProps,d=$f(Xe.current).createElement(c),d[Ie]=s,d[$e]=i,Qn(d,c,i),Dt(d),s.stateNode=d):s.memoizedState=$w(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return et(s),i===null&&Tt&&(d=s.stateNode=Hw(s.type,s.pendingProps,Xe.current),br=s,Ya=!0,$n=Ta(d.firstChild)),d=s.pendingProps.children,i!==null||Tt?Gn(i,s,d,c):s.child=xo(s,null,d,c),ou(i,s),s.child;case 5:return i===null&&Tt&&((p=d=$n)&&(d=WN(d,s.type,s.pendingProps,Ya),d!==null?(s.stateNode=d,br=s,$n=Ta(d.firstChild),Ya=!1,p=!0):p=!1),p||bo(s)),et(s),p=s.type,b=s.pendingProps,S=i!==null?i.memoizedProps:null,d=b.children,ty(p,b)?d=null:S!==null&&ty(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Hp(i,s,hN,null,null,c),Du._currentValue=p),ou(i,s),Gn(i,s,d,c),s.child;case 6:return i===null&&Tt&&((i=c=$n)&&(c=XN(c,s.pendingProps,Ya),c!==null?(s.stateNode=c,br=s,$n=null,i=!0):i=!1),i||bo(s)),null;case 13:return B_(i,s,c);case 4:return Xt(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=xo(s,null,d,c):Gn(i,s,d,c),s.child;case 11:return k_(i,s,s.type,s.pendingProps,c);case 7:return Gn(i,s,s.pendingProps,c),s.child;case 8:return Gn(i,s,s.pendingProps.children,c),s.child;case 12:return Gn(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,ds(s,s.type,d.value),Gn(i,s,d.children,c),s.child;case 9:return p=s.type._context,d=s.pendingProps.children,Ao(s),p=ir(p),d=d(p),s.flags|=1,Gn(i,s,d,c),s.child;case 14:return P_(i,s,s.type,s.pendingProps,c);case 15:return O_(i,s,s.type,s.pendingProps,c);case 19:return z_(i,s,c);case 22:return I_(i,s,c);case 24:return Ao(s),d=ir(Cn),i===null?(p=Fp(),p===null&&(p=Ht,b=Up(),p.pooledCache=b,b.refCount++,b!==null&&(p.pooledCacheLanes|=c),p=b),s.memoizedState={parent:d,cache:p},bg(s),ds(s,Cn,p)):((i.lanes&c)!==0&&(xg(i,s),du(s,null,null,c),uu()),p=i.memoizedState,b=s.memoizedState,p.parent!==d?(p={parent:d,cache:d},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ds(s,Cn,d)):(d=b.cache,ds(s,Cn,d),d!==p.cache&&vg(s,[Cn],c,!0))),Gn(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var gg=Ce(null),Do=null,Ci=null;function ds(i,s,c){ze(gg,s._currentValue),s._currentValue=c}function Ri(i){i._currentValue=gg.current,Ee(gg)}function yg(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function vg(i,s,c,d){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var b=p.dependencies;if(b!==null){var S=p.child;b=b.firstContext;e:for(;b!==null;){var I=b;b=p;for(var z=0;z<s.length;z++)if(I.context===s[z]){b.lanes|=c,I=b.alternate,I!==null&&(I.lanes|=c),yg(b.return,c,i),d||(S=null);break e}b=I.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),yg(S,c,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function lu(i,s,c,d){i=null;for(var p=s,b=!1;p!==null;){if(!b){if((p.flags&524288)!==0)b=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var I=p.type;jr(p.pendingProps.value,S.value)||(i!==null?i.push(I):i=[I])}}else if(p===Ut.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Du):i=[Du])}p=p.return}i!==null&&vg(s,i,c,d),s.flags|=262144}function Nf(i){for(i=i.firstContext;i!==null;){if(!jr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ao(i){Do=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ir(i){return Y_(Do,i)}function Mf(i,s){return Do===null&&Ao(i),Y_(i,s)}function Y_(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ci=Ci.next=s;return c}var fs=!1;function bg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ms(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Jt&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,s=df(i),Sx(i,null,c),s}return uf(i,d,s,c),df(i)}function cu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194176)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,Fe(i,c)}}function _g(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?p=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?p=b=s:b=b.next=s}else p=b=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var wg=!1;function uu(){if(wg){var i=Rl;if(i!==null)throw i}}function du(i,s,c,d){wg=!1;var p=i.updateQueue;fs=!1;var b=p.firstBaseUpdate,S=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var z=I,Q=z.next;z.next=null,S===null?b=Q:S.next=Q,S=z;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,I=ce.lastBaseUpdate,I!==S&&(I===null?ce.firstBaseUpdate=Q:I.next=Q,ce.lastBaseUpdate=z))}if(b!==null){var ye=p.baseState;S=0,ce=Q=z=null,I=b;do{var re=I.lane&-536870913,le=re!==I.lane;if(le?(gt&re)===re:(d&re)===re){re!==0&&re===Cl&&(wg=!0),ce!==null&&(ce=ce.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Be=i,Ze=I;re=s;var ln=c;switch(Ze.tag){case 1:if(Be=Ze.payload,typeof Be=="function"){ye=Be.call(ln,ye,re);break e}ye=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ze.payload,re=typeof Be=="function"?Be.call(ln,ye,re):Be,re==null)break e;ye=N({},ye,re);break e;case 2:fs=!0}}re=I.callback,re!==null&&(i.flags|=64,le&&(i.flags|=8192),le=p.callbacks,le===null?p.callbacks=[re]:le.push(re))}else le={lane:re,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ce===null?(Q=ce=le,z=ye):ce=ce.next=le,S|=re;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;le=I,I=le.next,le.next=null,p.lastBaseUpdate=le,p.shared.pending=null}}while(!0);ce===null&&(z=ye),p.baseState=z,p.firstBaseUpdate=Q,p.lastBaseUpdate=ce,b===null&&(p.shared.lanes=0),bs|=S,i.lanes=S,i.memoizedState=ye}}function q_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function $_(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)q_(c[i],s)}function fu(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&i)===i){d=void 0;var b=c.create,S=c.inst;d=b(),S.destroy=d}c=c.next}while(c!==p)}}catch(I){Ft(s,s.return,I)}}function ps(i,s,c){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){var S=d.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,p=s;var z=c;try{I()}catch(Q){Ft(p,z,Q)}}}d=d.next}while(d!==b)}}catch(Q){Ft(s,s.return,Q)}}function G_(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{$_(s,c)}catch(d){Ft(i,i.return,d)}}}function Q_(i,s,c){c.props=So(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Ft(i,s,d)}}function Co(i,s){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var p=d;break;default:p=d}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){Ft(i,s,b)}}function Vr(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(p){Ft(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){Ft(i,s,p)}else c.current=null}function K_(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(p){Ft(i,i.return,p)}}function W_(i,s,c){try{var d=i.stateNode;qN(d,i.type,c,s),d[$e]=s}catch(p){Ft(i,i.return,p)}}function X_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Eg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||X_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tg(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=qf));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Tg(i,s,c),i=i.sibling;i!==null;)Tg(i,s,c),i=i.sibling}function kf(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(kf(i,s,c),i=i.sibling;i!==null;)kf(i,s,c),i=i.sibling}var Ni=!1,sn=!1,Sg=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Bn=null,J_=!1;function _N(i,s){if(i=i.containerInfo,Jg=Zf,i=gx(i),Ap(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,I=-1,z=-1,Q=0,ce=0,ye=i,re=null;t:for(;;){for(var le;ye!==c||p!==0&&ye.nodeType!==3||(I=S+p),ye!==b||d!==0&&ye.nodeType!==3||(z=S+d),ye.nodeType===3&&(S+=ye.nodeValue.length),(le=ye.firstChild)!==null;)re=ye,ye=le;for(;;){if(ye===i)break t;if(re===c&&++Q===p&&(I=S),re===b&&++ce===d&&(z=S),(le=ye.nextSibling)!==null)break;ye=re,re=ye.parentNode}ye=le}c=I===-1||z===-1?null:{start:I,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(ey={focusedElem:i,selectionRange:c},Zf=!1,Bn=s;Bn!==null;)if(s=Bn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Bn=i;else for(;Bn!==null;){switch(s=Bn,b=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=s,p=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var Be=So(c.type,p,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Be,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){Ft(c,c.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)ay(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ay(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Bn=i;break}Bn=s.return}return Be=J_,J_=!1,Be}function ew(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:ki(i,c),d&4&&fu(5,c);break;case 1:if(ki(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(I){Ft(c,c.return,I)}else{var p=So(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ft(c,c.return,I)}}d&64&&G_(c),d&512&&Co(c,c.return);break;case 3:if(ki(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{$_(d,i)}catch(I){Ft(c,c.return,I)}}break;case 26:ki(i,c),d&512&&Co(c,c.return);break;case 27:case 5:ki(i,c),s===null&&d&4&&K_(c),d&512&&Co(c,c.return);break;case 12:ki(i,c);break;case 13:ki(i,c),d&4&&rw(i,c);break;case 22:if(p=c.memoizedState!==null||Ni,!p){s=s!==null&&s.memoizedState!==null||sn;var b=Ni,S=sn;Ni=p,(sn=s)&&!S?gs(i,c,(c.subtreeFlags&8772)!==0):ki(i,c),Ni=b,sn=S}d&512&&(c.memoizedProps.mode==="manual"?Co(c,c.return):Vr(c,c.return));break;default:ki(i,c)}}function tw(i){var s=i.alternate;s!==null&&(i.alternate=null,tw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _n=null,Lr=!1;function Mi(i,s,c){for(c=c.child;c!==null;)nw(i,s,c),c=c.sibling}function nw(i,s,c){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(va,c)}catch{}switch(c.tag){case 26:sn||Vr(c,s),Mi(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:sn||Vr(c,s);var d=_n,p=Lr;for(_n=c.stateNode,Mi(i,s,c),c=c.stateNode,s=c.attributes;s.length;)c.removeAttributeNode(s[0]);Ir(c),_n=d,Lr=p;break;case 5:sn||Vr(c,s);case 6:p=_n;var b=Lr;if(_n=null,Mi(i,s,c),_n=p,Lr=b,_n!==null)if(Lr)try{i=_n,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(S){Ft(c,s,S)}else try{_n.removeChild(c.stateNode)}catch(S){Ft(c,s,S)}break;case 18:_n!==null&&(Lr?(s=_n,c=c.stateNode,s.nodeType===8?ry(s.parentNode,c):s.nodeType===1&&ry(s,c),Nu(s)):ry(_n,c.stateNode));break;case 4:d=_n,p=Lr,_n=c.stateNode.containerInfo,Lr=!0,Mi(i,s,c),_n=d,Lr=p;break;case 0:case 11:case 14:case 15:sn||ps(2,c,s),sn||ps(4,c,s),Mi(i,s,c);break;case 1:sn||(Vr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Q_(c,s,d)),Mi(i,s,c);break;case 21:Mi(i,s,c);break;case 22:sn||Vr(c,s),sn=(d=sn)||c.memoizedState!==null,Mi(i,s,c),sn=d;break;default:Mi(i,s,c)}}function rw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Nu(i)}catch(c){Ft(s,s.return,c)}}function wN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Z_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Z_),s;default:throw Error(r(435,i.tag))}}function Dg(i,s){var c=wN(i);s.forEach(function(d){var p=IN.bind(null,i,d);c.has(d)||(c.add(d),d.then(p,p))})}function aa(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d],b=i,S=s,I=S;e:for(;I!==null;){switch(I.tag){case 27:case 5:_n=I.stateNode,Lr=!1;break e;case 3:_n=I.stateNode.containerInfo,Lr=!0;break e;case 4:_n=I.stateNode.containerInfo,Lr=!0;break e}I=I.return}if(_n===null)throw Error(r(160));nw(b,S,p),_n=null,Lr=!1,b=p.alternate,b!==null&&(b.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)aw(s,i),s=s.sibling}var Ea=null;function aw(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:aa(s,i),ia(i),d&4&&(ps(3,i,i.return),fu(3,i),ps(5,i,i.return));break;case 1:aa(s,i),ia(i),d&512&&(sn||c===null||Vr(c,c.return)),d&64&&Ni&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var p=Ea;if(aa(s,i),ia(i),d&512&&(sn||c===null||Vr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":b=p.getElementsByTagName("title")[0],(!b||b[gr]||b[Ie]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=p.createElement(d),p.head.insertBefore(b,p.querySelector("head > title"))),Qn(b,d,c),b[Ie]=i,Dt(b),d=b;break e;case"link":var S=Kw("link","href",p).get(d+(c.href||""));if(S){for(var I=0;I<S.length;I++)if(b=S[I],b.getAttribute("href")===(c.href==null?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(I,1);break t}}b=p.createElement(d),Qn(b,d,c),p.head.appendChild(b);break;case"meta":if(S=Kw("meta","content",p).get(d+(c.content||""))){for(I=0;I<S.length;I++)if(b=S[I],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(I,1);break t}}b=p.createElement(d),Qn(b,d,c),p.head.appendChild(b);break;default:throw Error(r(468,d))}b[Ie]=i,Dt(b),d=b}i.stateNode=d}else Ww(p,i.type,i.stateNode);else i.stateNode=Qw(p,d,i.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?Ww(p,i.type,i.stateNode):Qw(p,d,i.memoizedProps)):d===null&&i.stateNode!==null&&W_(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){p=i.stateNode,b=i.memoizedProps;try{for(var z=p.firstChild;z;){var Q=z.nextSibling,ce=z.nodeName;z[gr]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&z.rel.toLowerCase()==="stylesheet"||p.removeChild(z),z=Q}for(var ye=i.type,re=p.attributes;re.length;)p.removeAttributeNode(re[0]);Qn(p,ye,b),p[Ie]=i,p[$e]=b}catch(Be){Ft(i,i.return,Be)}}case 5:if(aa(s,i),ia(i),d&512&&(sn||c===null||Vr(c,c.return)),i.flags&32){p=i.stateNode;try{Kr(p,"")}catch(Be){Ft(i,i.return,Be)}}d&4&&i.stateNode!=null&&(p=i.memoizedProps,W_(i,p,c!==null?c.memoizedProps:p)),d&1024&&(Sg=!0);break;case 6:if(aa(s,i),ia(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Be){Ft(i,i.return,Be)}}break;case 3:if(Kf=null,p=Ea,Ea=Gf(s.containerInfo),aa(s,i),Ea=p,ia(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Nu(s.containerInfo)}catch(Be){Ft(i,i.return,Be)}Sg&&(Sg=!1,iw(i));break;case 4:d=Ea,Ea=Gf(i.stateNode.containerInfo),aa(s,i),ia(i),Ea=d;break;case 12:aa(s,i),ia(i);break;case 13:aa(s,i),ia(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ig=rn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Dg(i,d)));break;case 22:if(d&512&&(sn||c===null||Vr(c,c.return)),z=i.memoizedState!==null,Q=c!==null&&c.memoizedState!==null,ce=Ni,ye=sn,Ni=ce||z,sn=ye||Q,aa(s,i),sn=ye,Ni=ce,ia(i),s=i.stateNode,s._current=i,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,d&8192&&(s._visibility=z?s._visibility&-2:s._visibility|1,z&&(s=Ni||sn,c===null||Q||s||Pl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(c=null,s=i;;){if(s.tag===5||s.tag===26||s.tag===27){if(c===null){Q=c=s;try{if(p=Q.stateNode,z)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=Q.stateNode,I=Q.memoizedProps.style;var le=I!=null&&I.hasOwnProperty("display")?I.display:null;S.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Be){Ft(Q,Q.return,Be)}}}else if(s.tag===6){if(c===null){Q=s;try{Q.stateNode.nodeValue=z?"":Q.memoizedProps}catch(Be){Ft(Q,Q.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Dg(i,c))));break;case 19:aa(s,i),ia(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Dg(i,d)));break;case 21:break;default:aa(s,i),ia(i)}}function ia(i){var s=i.flags;if(s&2){try{if(i.tag!==27){e:{for(var c=i.return;c!==null;){if(X_(c)){var d=c;break e}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var p=d.stateNode,b=Eg(i);kf(i,b,p);break;case 5:var S=d.stateNode;d.flags&32&&(Kr(S,""),d.flags&=-33);var I=Eg(i);kf(i,I,S);break;case 3:case 4:var z=d.stateNode.containerInfo,Q=Eg(i);Tg(i,Q,z);break;default:throw Error(r(161))}}}catch(ce){Ft(i,i.return,ce)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function iw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;iw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ki(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ew(i,s.alternate,s),s=s.sibling}function Pl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Pl(s);break;case 1:Vr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Q_(s,s.return,c),Pl(s);break;case 26:case 27:case 5:Vr(s,s.return),Pl(s);break;case 22:Vr(s,s.return),s.memoizedState===null&&Pl(s);break;default:Pl(s)}i=i.sibling}}function gs(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,p=i,b=s,S=b.flags;switch(b.tag){case 0:case 11:case 15:gs(p,b,c),fu(4,b);break;case 1:if(gs(p,b,c),d=b,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ft(d,d.return,Q)}if(d=b,p=d.updateQueue,p!==null){var I=d.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)q_(z[p],I)}catch(Q){Ft(d,d.return,Q)}}c&&S&64&&G_(b),Co(b,b.return);break;case 26:case 27:case 5:gs(p,b,c),c&&d===null&&S&4&&K_(b),Co(b,b.return);break;case 12:gs(p,b,c);break;case 13:gs(p,b,c),c&&S&4&&rw(p,b);break;case 22:b.memoizedState===null&&gs(p,b,c),Co(b,b.return);break;default:gs(p,b,c)}s=s.sibling}}function Ag(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&nu(c))}function Cg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nu(i))}function ys(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sw(i,s,c,d),s=s.sibling}function sw(i,s,c,d){var p=s.flags;switch(s.tag){case 0:case 11:case 15:ys(i,s,c,d),p&2048&&fu(9,s);break;case 3:ys(i,s,c,d),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nu(i)));break;case 12:if(p&2048){ys(i,s,c,d),i=s.stateNode;try{var b=s.memoizedProps,S=b.id,I=b.onPostCommit;typeof I=="function"&&I(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ft(s,s.return,z)}}else ys(i,s,c,d);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?ys(i,s,c,d):hu(i,s):b._visibility&4?ys(i,s,c,d):(b._visibility|=4,Ol(i,s,c,d,(s.subtreeFlags&10256)!==0)),p&2048&&Ag(s.alternate,s);break;case 24:ys(i,s,c,d),p&2048&&Cg(s.alternate,s);break;default:ys(i,s,c,d)}}function Ol(i,s,c,d,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=i,S=s,I=c,z=d,Q=S.flags;switch(S.tag){case 0:case 11:case 15:Ol(b,S,I,z,p),fu(8,S);break;case 23:break;case 22:var ce=S.stateNode;S.memoizedState!==null?ce._visibility&4?Ol(b,S,I,z,p):hu(b,S):(ce._visibility|=4,Ol(b,S,I,z,p)),p&&Q&2048&&Ag(S.alternate,S);break;case 24:Ol(b,S,I,z,p),p&&Q&2048&&Cg(S.alternate,S);break;default:Ol(b,S,I,z,p)}s=s.sibling}}function hu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,p=d.flags;switch(d.tag){case 22:hu(c,d),p&2048&&Ag(d.alternate,d);break;case 24:hu(c,d),p&2048&&Cg(d.alternate,d);break;default:hu(c,d)}s=s.sibling}}var mu=8192;function Il(i){if(i.subtreeFlags&mu)for(i=i.child;i!==null;)ow(i),i=i.sibling}function ow(i){switch(i.tag){case 26:Il(i),i.flags&mu&&i.memoizedState!==null&&uM(Ea,i.memoizedState,i.memoizedProps);break;case 5:Il(i);break;case 3:case 4:var s=Ea;Ea=Gf(i.stateNode.containerInfo),Il(i),Ea=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=mu,mu=16777216,Il(i),mu=s):Il(i));break;default:Il(i)}}function lw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Bn=d,uw(d,i)}lw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cw(i),i=i.sibling}function cw(i){switch(i.tag){case 0:case 11:case 15:pu(i),i.flags&2048&&ps(9,i,i.return);break;case 3:pu(i);break;case 12:pu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&4&&(i.return===null||i.return.tag!==13)?(s._visibility&=-5,Pf(i)):pu(i);break;default:pu(i)}}function Pf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Bn=d,uw(d,i)}lw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Pf(s);break;case 22:c=s.stateNode,c._visibility&4&&(c._visibility&=-5,Pf(s));break;default:Pf(s)}i=i.sibling}}function uw(i,s){for(;Bn!==null;){var c=Bn;switch(c.tag){case 0:case 11:case 15:ps(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:nu(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Bn=d;else e:for(c=i;Bn!==null;){d=Bn;var p=d.sibling,b=d.return;if(tw(d),d===c){Bn=null;break e}if(p!==null){p.return=b,Bn=p;break e}Bn=b}}}function EN(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(i,s,c,d){return new EN(i,s,c,d)}function Rg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vs(i,s){var c=i.alternate;return c===null?(c=sa(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function dw(i,s){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Of(i,s,c,d,p,b){var S=0;if(d=i,typeof i=="function")Rg(i)&&(S=1);else if(typeof i=="string")S=lM(i,c,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ro(c.children,p,b,s);case h:S=8,p|=24;break;case g:return i=sa(12,c,s,p|2),i.elementType=g,i.lanes=b,i;case A:return i=sa(13,c,s,p),i.elementType=A,i.lanes=b,i;case D:return i=sa(19,c,s,p),i.elementType=D,i.lanes=b,i;case B:return fw(c,p,b,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case w:S=10;break e;case x:S=9;break e;case T:S=11;break e;case O:S=14;break e;case U:S=16,d=null;break e}S=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=sa(S,c,s,p),s.elementType=i,s.type=d,s.lanes=b,s}function Ro(i,s,c,d){return i=sa(7,i,d,s),i.lanes=c,i}function fw(i,s,c,d){i=sa(22,i,d,s),i.elementType=B,i.lanes=c;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)===0){var S=ss(b,2);S!==null&&(p._pendingVisibility|=2,xr(S,b,2))}},attach:function(){var b=p._current;if(b===null)throw Error(r(456));if((p._pendingVisibility&2)!==0){var S=ss(b,2);S!==null&&(p._pendingVisibility&=-3,xr(S,b,2))}}};return i.stateNode=p,i}function Ng(i,s,c){return i=sa(6,i,null,s),i.lanes=c,i}function Mg(i,s,c){return s=sa(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Pi(i){i.flags|=4}function hw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Xw(s)){if(s=ra.current,s!==null&&((gt&4194176)===gt?qa!==null:(gt&62914560)!==gt&&(gt&536870912)===0||s!==qa))throw Jc=jp,Nx;i.flags|=8192}}function If(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?W():536870912,i.lanes|=s,Vl|=s)}function gu(i,s){if(!Tt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Zt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&31457280,d|=p.flags&31457280,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function TN(i,s,c){var d=s.pendingProps;switch(Op(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(s),null;case 1:return Zt(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ri(Cn),Te(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Kc(s)?Pi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wa!==null&&(Ug(wa),wa=null))),Zt(s),null;case 26:return c=s.memoizedState,i===null?(Pi(s),c!==null?(Zt(s),hw(s,c)):(Zt(s),s.flags&=-16777217)):c?c!==i.memoizedState?(Pi(s),Zt(s),hw(s,c)):(Zt(s),s.flags&=-16777217):(i.memoizedProps!==d&&Pi(s),Zt(s),s.flags&=-16777217),null;case 27:Rt(s),c=Xe.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Zt(s),null}i=ut.current,Kc(s)?Cx(s):(i=Hw(p,d,c),s.stateNode=i,Pi(s))}return Zt(s),null;case 5:if(Rt(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Zt(s),null}if(i=ut.current,Kc(s))Cx(s);else{switch(p=$f(Xe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?p.createElement(c,{is:d.is}):p.createElement(c)}}i[Ie]=s,i[$e]=d;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(Qn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Pi(s)}}return Zt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&Pi(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=Xe.current,Kc(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,p=br,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}i[Ie]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Vw(i.nodeValue,c)),i||bo(s)}else i=$f(i).createTextNode(d),i[Ie]=s,s.stateNode=i}return Zt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Kc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Ie]=s}else Wc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Zt(s),p=!1}else wa!==null&&(Ug(wa),wa=null),p=!0;if(!p)return s.flags&256?(Si(s),s):(Si(s),null)}if(Si(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),If(s,s.updateQueue),Zt(s),null;case 4:return Te(),i===null&&Wg(s.stateNode.containerInfo),Zt(s),null;case 10:return Ri(s.type),Zt(s),null;case 19:if(Ee(An),p=s.memoizedState,p===null)return Zt(s),null;if(d=(s.flags&128)!==0,b=p.rendering,b===null)if(d)gu(p,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=vf(i),b!==null){for(s.flags|=128,gu(p,!1),i=b.updateQueue,s.updateQueue=i,If(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)dw(c,i),c=c.sibling;return ze(An,An.current&1|2),s.child}i=i.sibling}p.tail!==null&&rn()>jf&&(s.flags|=128,d=!0,gu(p,!1),s.lanes=4194304)}else{if(!d)if(i=vf(b),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,If(s,i),gu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!b.alternate&&!Tt)return Zt(s),null}else 2*rn()-p.renderingStartTime>jf&&c!==536870912&&(s.flags|=128,d=!0,gu(p,!1),s.lanes=4194304);p.isBackwards?(b.sibling=s.child,s.child=b):(i=p.last,i!==null?i.sibling=b:s.child=b,p.last=b)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=rn(),s.sibling=null,i=An.current,ze(An,d?i&1|2:i&1),s):(Zt(s),null);case 22:case 23:return Si(s),Lp(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(Zt(s),s.subtreeFlags&6&&(s.flags|=8192)):Zt(s),c=s.updateQueue,c!==null&&If(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&Ee(_o),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ri(Cn),Zt(s),null;case 25:return null}throw Error(r(156,s.tag))}function SN(i,s){switch(Op(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ri(Cn),Te(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Rt(s),null;case 13:if(Si(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wc()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ee(An),null;case 4:return Te(),null;case 10:return Ri(s.type),null;case 22:case 23:return Si(s),Lp(),i!==null&&Ee(_o),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ri(Cn),null;case 25:return null;default:return null}}function mw(i,s){switch(Op(s),s.tag){case 3:Ri(Cn),Te();break;case 26:case 27:case 5:Rt(s);break;case 4:Te();break;case 13:Si(s);break;case 19:Ee(An);break;case 10:Ri(s.type);break;case 22:case 23:Si(s),Lp(),i!==null&&Ee(_o);break;case 24:Ri(Cn)}}var DN={getCacheForType:function(i){var s=ir(Cn),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},AN=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Ht=null,dt=null,gt=0,Yt=0,Ur=null,Oi=!1,jl=!1,kg=!1,Ii=0,on=0,bs=0,No=0,Pg=0,oa=0,Vl=0,yu=null,Ga=null,Og=!1,Ig=0,jf=1/0,Vf=null,xs=null,Lf=!1,Mo=null,vu=0,jg=0,Vg=null,bu=0,Lg=null;function Br(){if((Jt&2)!==0&&gt!==0)return gt&-gt;if(R.T!==null){var i=Cl;return i!==0?i:$g()}return Ue()}function pw(){oa===0&&(oa=(gt&536870912)===0||Tt?q():536870912);var i=ra.current;return i!==null&&(i.flags|=32),oa}function xr(i,s,c){(i===Ht&&Yt===2||i.cancelPendingCommit!==null)&&(Ll(i,0),ji(i,gt,oa,!1)),fe(i,c),((Jt&2)===0||i!==Ht)&&(i===Ht&&((Jt&2)===0&&(No|=c),on===4&&ji(i,gt,oa,!1)),Qa(i))}function gw(i,s,c){if((Jt&6)!==0)throw Error(r(327));var d=!c&&(s&60)===0&&(s&i.expiredLanes)===0||Oa(i,s),p=d?NN(i,s):zg(i,s,!0),b=d;do{if(p===0){jl&&!d&&ji(i,s,0,!1);break}else if(p===6)ji(i,s,0,!Oi);else{if(c=i.current.alternate,b&&!CN(c)){p=zg(i,s,!1),b=!1;continue}if(p===2){if(b=s,i.errorRecoveryDisabledLanes&b)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var I=i;p=yu;var z=I.current.memoizedState.isDehydrated;if(z&&(Ll(I,S).flags|=256),S=zg(I,S,!1),S!==2){if(kg&&!z){I.errorRecoveryDisabledLanes|=b,No|=b,p=4;break e}b=Ga,Ga=p,b!==null&&Ug(b)}p=S}if(b=!1,p!==2)continue}}if(p===1){Ll(i,0),ji(i,s,0,!0);break}e:{switch(d=i,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){ji(d,s,oa,!Oi);break e}break;case 2:Ga=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=s,(s&62914560)===s&&(b=Ig+300-rn(),10<b)){if(ji(d,s,oa,!Oi),Yn(d,0)!==0)break e;d.timeoutHandle=Bw(yw.bind(null,d,c,Ga,Vf,Og,s,oa,No,Vl,Oi,2,-0,0),b);break e}yw(d,c,Ga,Vf,Og,s,oa,No,Vl,Oi,0,-0,0)}}break}while(!0);Qa(i)}function Ug(i){Ga===null?Ga=i:Ga.push.apply(Ga,i)}function yw(i,s,c,d,p,b,S,I,z,Q,ce,ye,re){var le=s.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(Su={stylesheets:null,count:0,unsuspend:cM},ow(s),s=dM(),s!==null)){i.cancelPendingCommit=s(Tw.bind(null,i,c,d,p,S,I,z,1,ye,re)),ji(i,b,S,!Q);return}Tw(i,c,d,p,S,I,z,ce,ye,re)}function CN(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var p=c[d],b=p.getSnapshot;p=p.value;try{if(!jr(b(),p))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(i,s,c,d){s&=~Pg,s&=~No,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var p=s;0<p;){var b=31-In(p),S=1<<b;d[b]=-1,p&=~S}c!==0&&He(i,c,s)}function Uf(){return(Jt&6)===0?(xu(0),!1):!0}function Bg(){if(dt!==null){if(Yt===0)var i=dt.return;else i=dt,Ci=Do=null,$p(i),Dl=null,eu=0,i=dt;for(;i!==null;)mw(i.alternate,i),i=i.return;dt=null}}function Ll(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,GN(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Bg(),Ht=i,dt=c=vs(i.current,null),gt=s,Yt=0,Ur=null,Oi=!1,jl=Oa(i,s),kg=!1,Vl=oa=Pg=No=bs=on=0,Ga=yu=null,Og=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var p=31-In(d),b=1<<p;s|=i[p],d&=~b}return Ii=s,cf(),c}function vw(i,s){it=null,R.H=$a,s===Zc?(s=Px(),Yt=3):s===Nx?(s=Px(),Yt=4):Yt=s===M_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ur=s,dt===null&&(on=1,Rf(i,ea(s,i.current)))}function bw(){var i=R.H;return R.H=$a,i===null?$a:i}function xw(){var i=R.A;return R.A=DN,i}function Fg(){on=4,Oi||(gt&4194176)!==gt&&ra.current!==null||(jl=!0),(bs&134217727)===0&&(No&134217727)===0||Ht===null||ji(Ht,gt,oa,!1)}function zg(i,s,c){var d=Jt;Jt|=2;var p=bw(),b=xw();(Ht!==i||gt!==s)&&(Vf=null,Ll(i,s)),s=!1;var S=on;e:do try{if(Yt!==0&&dt!==null){var I=dt,z=Ur;switch(Yt){case 8:Bg(),S=6;break e;case 3:case 2:case 6:ra.current===null&&(s=!0);var Q=Yt;if(Yt=0,Ur=null,Ul(i,I,z,Q),c&&jl){S=0;break e}break;default:Q=Yt,Yt=0,Ur=null,Ul(i,I,z,Q)}}RN(),S=on;break}catch(ce){vw(i,ce)}while(!0);return s&&i.shellSuspendCounter++,Ci=Do=null,Jt=d,R.H=p,R.A=b,dt===null&&(Ht=null,gt=0,cf()),S}function RN(){for(;dt!==null;)_w(dt)}function NN(i,s){var c=Jt;Jt|=2;var d=bw(),p=xw();Ht!==i||gt!==s?(Vf=null,jf=rn()+500,Ll(i,s)):jl=Oa(i,s);e:do try{if(Yt!==0&&dt!==null){s=dt;var b=Ur;t:switch(Yt){case 1:Yt=0,Ur=null,Ul(i,s,b,1);break;case 2:if(Mx(b)){Yt=0,Ur=null,ww(s);break}s=function(){Yt===2&&Ht===i&&(Yt=7),Qa(i)},b.then(s,s);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:Mx(b)?(Yt=0,Ur=null,ww(s)):(Yt=0,Ur=null,Ul(i,s,b,7));break;case 5:var S=null;switch(dt.tag){case 26:S=dt.memoizedState;case 5:case 27:var I=dt;if(!S||Xw(S)){Yt=0,Ur=null;var z=I.sibling;if(z!==null)dt=z;else{var Q=I.return;Q!==null?(dt=Q,Bf(Q)):dt=null}break t}}Yt=0,Ur=null,Ul(i,s,b,5);break;case 6:Yt=0,Ur=null,Ul(i,s,b,6);break;case 8:Bg(),on=6;break e;default:throw Error(r(462))}}MN();break}catch(ce){vw(i,ce)}while(!0);return Ci=Do=null,R.H=d,R.A=p,Jt=c,dt!==null?0:(Ht=null,gt=0,cf(),on)}function MN(){for(;dt!==null&&!Pr();)_w(dt)}function _w(i){var s=H_(i.alternate,i,Ii);i.memoizedProps=i.pendingProps,s===null?Bf(i):dt=s}function ww(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=V_(c,s,s.pendingProps,s.type,void 0,gt);break;case 11:s=V_(c,s,s.pendingProps,s.type.render,s.ref,gt);break;case 5:$p(s);default:mw(c,s),s=dt=dw(s,Ii),s=H_(c,s,Ii)}i.memoizedProps=i.pendingProps,s===null?Bf(i):dt=s}function Ul(i,s,c,d){Ci=Do=null,$p(s),Dl=null,eu=0;var p=s.return;try{if(bN(i,p,s,c,gt)){on=1,Rf(i,ea(c,i.current)),dt=null;return}}catch(b){if(p!==null)throw dt=p,b;on=1,Rf(i,ea(c,i.current)),dt=null;return}s.flags&32768?(Tt||d===1?i=!0:jl||(gt&536870912)!==0?i=!1:(Oi=i=!0,(d===2||d===3||d===6)&&(d=ra.current,d!==null&&d.tag===13&&(d.flags|=16384))),Ew(s,i)):Bf(s)}function Bf(i){var s=i;do{if((s.flags&32768)!==0){Ew(s,Oi);return}i=s.return;var c=TN(s.alternate,s,Ii);if(c!==null){dt=c;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=i}while(s!==null);on===0&&(on=5)}function Ew(i,s){do{var c=SN(i.alternate,i);if(c!==null){c.flags&=32767,dt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){dt=i;return}dt=i=c}while(i!==null);on=6,dt=null}function Tw(i,s,c,d,p,b,S,I,z,Q){var ce=R.T,ye=_e.p;try{_e.p=2,R.T=null,kN(i,s,c,d,ye,p,b,S,I,z,Q)}finally{R.T=ce,_e.p=ye}}function kN(i,s,c,d,p,b,S,I){do Bl();while(Mo!==null);if((Jt&6)!==0)throw Error(r(327));var z=i.finishedWork;if(d=i.finishedLanes,z===null)return null;if(i.finishedWork=null,i.finishedLanes=0,z===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Q=z.lanes|z.childLanes;if(Q|=Mp,De(i,d,Q,b,S,I),i===Ht&&(dt=Ht=null,gt=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||Lf||(Lf=!0,jg=Q,Vg=c,jN(Or,function(){return Bl(),null})),c=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||c?(c=R.T,R.T=null,b=_e.p,_e.p=2,S=Jt,Jt|=4,_N(i,z),aw(z,i),nN(ey,i.containerInfo),Zf=!!Jg,ey=Jg=null,i.current=z,ew(i,z.alternate,z),Pn(),Jt=S,_e.p=b,R.T=c):i.current=z,Lf?(Lf=!1,Mo=i,vu=d):Sw(i,Q),Q=i.pendingLanes,Q===0&&(xs=null),es(z.stateNode),Qa(i),s!==null)for(p=i.onRecoverableError,z=0;z<s.length;z++)Q=s[z],p(Q.value,{componentStack:Q.stack});return(vu&3)!==0&&Bl(),Q=i.pendingLanes,(d&4194218)!==0&&(Q&42)!==0?i===Lg?bu++:(bu=0,Lg=i):bu=0,xu(0),null}function Sw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,nu(s)))}function Bl(){if(Mo!==null){var i=Mo,s=jg;jg=0;var c=Ve(vu),d=R.T,p=_e.p;try{if(_e.p=32>c?32:c,R.T=null,Mo===null)var b=!1;else{c=Vg,Vg=null;var S=Mo,I=vu;if(Mo=null,vu=0,(Jt&6)!==0)throw Error(r(331));var z=Jt;if(Jt|=4,cw(S.current),sw(S,S.current,I,c),Jt=z,xu(0,!1),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(va,S)}catch{}b=!0}return b}finally{_e.p=p,R.T=d,Sw(i,s)}}return!1}function Dw(i,s,c){s=ea(c,s),s=sg(i.stateNode,s,2),i=ms(i,s,2),i!==null&&(fe(i,2),Qa(i))}function Ft(i,s,c){if(i.tag===3)Dw(i,i,c);else for(;s!==null;){if(s.tag===3){Dw(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xs===null||!xs.has(d))){i=ea(c,i),c=R_(2),d=ms(s,c,2),d!==null&&(N_(c,d,s,i),fe(d,2),Qa(d));break}}s=s.return}}function Hg(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new AN;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(kg=!0,p.add(c),i=PN.bind(null,i,s,c),s.then(i,i))}function PN(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Ht===i&&(gt&c)===c&&(on===4||on===3&&(gt&62914560)===gt&&300>rn()-Ig?(Jt&2)===0&&Ll(i,0):Pg|=c,Vl===gt&&(Vl=0)),Qa(i)}function Aw(i,s){s===0&&(s=W()),i=ss(i,s),i!==null&&(fe(i,s),Qa(i))}function ON(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Aw(i,c)}function IN(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,p=i.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),Aw(i,c)}function jN(i,s){return nr(i,s)}var Ff=null,Fl=null,Yg=!1,zf=!1,qg=!1,ko=0;function Qa(i){i!==Fl&&i.next===null&&(Fl===null?Ff=Fl=i:Fl=Fl.next=i),zf=!0,Yg||(Yg=!0,LN(VN))}function xu(i,s){if(!qg&&zf){qg=!0;do for(var c=!1,d=Ff;d!==null;){if(i!==0){var p=d.pendingLanes;if(p===0)var b=0;else{var S=d.suspendedLanes,I=d.pingedLanes;b=(1<<31-In(42|i)+1)-1,b&=p&~(S&~I),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(c=!0,Nw(d,b))}else b=gt,b=Yn(d,d===Ht?b:0),(b&3)===0||Oa(d,b)||(c=!0,Nw(d,b));d=d.next}while(c);qg=!1}}function VN(){zf=Yg=!1;var i=0;ko!==0&&($N()&&(i=ko),ko=0);for(var s=rn(),c=null,d=Ff;d!==null;){var p=d.next,b=Cw(d,s);b===0?(d.next=null,c===null?Ff=p:c.next=p,p===null&&(Fl=c)):(c=d,(i!==0||(b&3)!==0)&&(zf=!0)),d=p}xu(i)}function Cw(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,p=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var S=31-In(b),I=1<<S,z=p[S];z===-1?((I&c)===0||(I&d)!==0)&&(p[S]=ts(I,s)):z<=s&&(i.expiredLanes|=I),b&=~I}if(s=Ht,c=gt,c=Yn(i,i===s?c:0),d=i.callbackNode,c===0||i===s&&Yt===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&rr(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Oa(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&rr(d),Ve(c)){case 2:case 8:c=dn;break;case 32:c=Or;break;case 268435456:c=Dr;break;default:c=Or}return d=Rw.bind(null,i),c=nr(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&rr(d),i.callbackPriority=2,i.callbackNode=null,2}function Rw(i,s){var c=i.callbackNode;if(Bl()&&i.callbackNode!==c)return null;var d=gt;return d=Yn(i,i===Ht?d:0),d===0?null:(gw(i,d,s),Cw(i,rn()),i.callbackNode!=null&&i.callbackNode===c?Rw.bind(null,i):null)}function Nw(i,s){if(Bl())return null;gw(i,s,!0)}function LN(i){QN(function(){(Jt&6)!==0?nr(Pt,i):i()})}function $g(){return ko===0&&(ko=q()),ko}function Mw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function kw(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function UN(i,s,c,d,p){if(s==="submit"&&c&&c.stateNode===p){var b=Mw((p[$e]||null).action),S=d.submitter;S&&(s=(s=S[$e]||null)?Mw(s.formAction):S.getAttribute("formAction"),s!==null&&(b=s,S=null));var I=new fl("action","action",null,d,p);i.push({event:I,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ko!==0){var z=S?kw(p,S):new FormData(p);tg(c,{pending:!0,data:z,method:p.method,action:b},null,z)}}else typeof b=="function"&&(I.preventDefault(),z=S?kw(p,S):new FormData(p),tg(c,{pending:!0,data:z,method:p.method,action:b},b,z))},currentTarget:p}]})}}for(var Gg=0;Gg<Tx.length;Gg++){var Qg=Tx[Gg],BN=Qg.toLowerCase(),FN=Qg[0].toUpperCase()+Qg.slice(1);_a(BN,"on"+FN)}_a(bx,"onAnimationEnd"),_a(xx,"onAnimationIteration"),_a(_x,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(aN,"onTransitionRun"),_a(iN,"onTransitionStart"),_a(sN,"onTransitionCancel"),_a(wx,"onTransitionEnd"),At("onMouseEnter",["mouseout","mouseover"]),At("onMouseLeave",["mouseout","mouseover"]),At("onPointerEnter",["pointerout","pointerover"]),At("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function Pw(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],p=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var S=d.length-1;0<=S;S--){var I=d[S],z=I.instance,Q=I.currentTarget;if(I=I.listener,z!==b&&p.isPropagationStopped())break e;b=I,p.currentTarget=Q;try{b(p)}catch(ce){Cf(ce)}p.currentTarget=null,b=z}else for(S=0;S<d.length;S++){if(I=d[S],z=I.instance,Q=I.currentTarget,I=I.listener,z!==b&&p.isPropagationStopped())break e;b=I,p.currentTarget=Q;try{b(p)}catch(ce){Cf(ce)}p.currentTarget=null,b=z}}}}function ht(i,s){var c=s[Qt];c===void 0&&(c=s[Qt]=new Set);var d=i+"__bubble";c.has(d)||(Ow(s,i,2,!1),c.add(d))}function Kg(i,s,c){var d=0;s&&(d|=4),Ow(c,i,d,s)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function Wg(i){if(!i[Hf]){i[Hf]=!0,Ia.forEach(function(c){c!=="selectionchange"&&(zN.has(c)||Kg(c,!1,i),Kg(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Hf]||(s[Hf]=!0,Kg("selectionchange",!1,s))}}function Ow(i,s,c,d){switch(r1(s)){case 2:var p=mM;break;case 8:p=pM;break;default:p=cy}c=p.bind(null,s,c,i),p=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?i.addEventListener(s,c,{capture:!0,passive:p}):i.addEventListener(s,c,!0):p!==void 0?i.addEventListener(s,c,{passive:p}):i.addEventListener(s,c,!1)}function Xg(i,s,c,d,p){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var I=d.stateNode.containerInfo;if(I===p||I.nodeType===8&&I.parentNode===p)break;if(S===4)for(S=d.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;S=S.return}for(;I!==null;){if(S=fn(I),S===null)return;if(z=S.tag,z===5||z===6||z===26||z===27){d=b=S;continue e}I=I.parentNode}}d=d.return}Gd(function(){var Q=b,ce=dl(c),ye=[];e:{var re=Ex.get(i);if(re!==void 0){var le=fl,Be=i;switch(i){case"keypress":if(Ua(c)===0)break e;case"keydown":case"keyup":le=vl;break;case"focusin":Be="focus",le=pl;break;case"focusout":Be="blur",le=pl;break;case"beforeblur":case"afterblur":le=pl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=tf;break;case bx:case xx:case _x:le=gl;break;case wx:le=rf;break;case"scroll":case"scrollend":le=Qd;break;case"wheel":le=bl;break;case"copy":case"cut":case"paste":le=yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=qc;break;case"toggle":case"beforetoggle":le=sf}var Ze=(s&4)!==0,ln=!Ze&&(i==="scroll"||i==="scrollend"),Z=Ze?re!==null?re+"Capture":null:re;Ze=[];for(var G=Q,te;G!==null;){var he=G;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Z===null||(he=oo(G,Z),he!=null&&Ze.push(wu(G,he,te))),ln)break;G=G.return}0<Ze.length&&(re=new le(re,Be,null,c,ce),ye.push({event:re,listeners:Ze}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",re&&c!==Wr&&(Be=c.relatedTarget||c.fromElement)&&(fn(Be)||Be[wt]))break e;if((le||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Be=c.relatedTarget||c.toElement,le=Q,Be=Be?fn(Be):null,Be!==null&&(ln=oe(Be),Ze=Be.tag,Be!==ln||Ze!==5&&Ze!==27&&Ze!==6)&&(Be=null)):(le=null,Be=Q),le!==Be)){if(Ze=Zr,he="onMouseLeave",Z="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=qc,he="onPointerLeave",Z="onPointerEnter",G="pointer"),ln=le==null?re:$r(le),te=Be==null?re:$r(Be),re=new Ze(he,G+"leave",le,c,ce),re.target=ln,re.relatedTarget=te,he=null,fn(ce)===Q&&(Ze=new Ze(Z,G+"enter",Be,c,ce),Ze.target=te,Ze.relatedTarget=ln,he=Ze),ln=he,le&&Be)t:{for(Ze=le,Z=Be,G=0,te=Ze;te;te=zl(te))G++;for(te=0,he=Z;he;he=zl(he))te++;for(;0<G-te;)Ze=zl(Ze),G--;for(;0<te-G;)Z=zl(Z),te--;for(;G--;){if(Ze===Z||Z!==null&&Ze===Z.alternate)break t;Ze=zl(Ze),Z=zl(Z)}Ze=null}else Ze=null;le!==null&&Iw(ye,re,le,Ze,!1),Be!==null&&ln!==null&&Iw(ye,ln,Be,Ze,!0)}}e:{if(re=Q?$r(Q):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var je=lx;else if(Dn(re))if(cx)je=eN;else{je=ZR;var ot=XR}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Q&&Lc(Q.elementType)&&(je=lx):je=JR;if(je&&(je=je(i,Q))){wi(ye,je,c,ce);break e}ot&&ot(i,re,Q),i==="focusout"&&Q&&re.type==="number"&&Q.memoizedProps.value!=null&&ul(re,"number",re.value)}switch(ot=Q?$r(Q):window,i){case"focusin":(Dn(ot)||ot.contentEditable==="true")&&(xl=ot,Cp=Q,Qc=null);break;case"focusout":Qc=Cp=xl=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,yx(ye,c,ce);break;case"selectionchange":if(rN)break;case"keydown":case"keyup":yx(ye,c,ce)}var Ye;if(za)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else mt?se(i,c)&&(Ge="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(E&&c.locale!=="ko"&&(mt||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&mt&&(Ye=Bc()):(La=ce,is="value"in La?La.value:La.textContent,mt=!0)),ot=Yf(Q,Ge),0<ot.length&&(Ge=new Hc(Ge,i,null,c,ce),ye.push({event:Ge,listeners:ot}),Ye?Ge.data=Ye:(Ye=we(c),Ye!==null&&(Ge.data=Ye)))),(Ye=_?Sn(i,c):pt(i,c))&&(Ge=Yf(Q,"onBeforeInput"),0<Ge.length&&(ot=new Hc("onBeforeInput","beforeinput",null,c,ce),ye.push({event:ot,listeners:Ge}),ot.data=Ye)),UN(ye,i,Q,c,ce)}Pw(ye,s)})}function wu(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Yf(i,s){for(var c=s+"Capture",d=[];i!==null;){var p=i,b=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||b===null||(p=oo(i,c),p!=null&&d.unshift(wu(i,p,b)),p=oo(i,s),p!=null&&d.push(wu(i,p,b))),i=i.return}return d}function zl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Iw(i,s,c,d,p){for(var b=s._reactName,S=[];c!==null&&c!==d;){var I=c,z=I.alternate,Q=I.stateNode;if(I=I.tag,z!==null&&z===d)break;I!==5&&I!==26&&I!==27||Q===null||(z=Q,p?(Q=oo(c,b),Q!=null&&S.unshift(wu(c,Q,z))):p||(Q=oo(c,b),Q!=null&&S.push(wu(c,Q,z)))),c=c.return}S.length!==0&&i.push({event:s,listeners:S})}var HN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function jw(i){return(typeof i=="string"?i:""+i).replace(HN,`
`).replace(YN,"")}function Vw(i,s){return s=jw(s),jw(i)===s}function qf(){}function Lt(i,s,c,d,p,b){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Kr(i,""+d);break;case"className":ns(i,"class",d);break;case"tabIndex":ns(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,c,d);break;case"style":$d(i,d,b);break;case"data":if(s!=="object"){ns(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Va(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&Lt(i,s,"name",p.name,p,null),Lt(i,s,"formEncType",p.formEncType,p,null),Lt(i,s,"formMethod",p.formMethod,p,null),Lt(i,s,"formTarget",p.formTarget,p,null)):(Lt(i,s,"encType",p.encType,p,null),Lt(i,s,"method",p.method,p,null),Lt(i,s,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Va(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=qf);break;case"onScroll":d!=null&&ht("scroll",i);break;case"onScrollEnd":d!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Va(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":ht("beforetoggle",i),ht("toggle",i),ja(i,"popover",d);break;case"xlinkActuate":Qr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Qr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Qr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Qr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Qr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Qr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Qr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ja(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=_p.get(c)||c,ja(i,c,d))}}function Zg(i,s,c,d,p,b){switch(c){case"style":$d(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Kr(i,d):(typeof d=="number"||typeof d=="bigint")&&Kr(i,""+d);break;case"onScroll":d!=null&&ht("scroll",i);break;case"onScrollEnd":d!=null&&ht("scrollend",i);break;case"onClick":d!=null&&(i.onclick=qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),s=c.slice(2,p?c.length-7:void 0),b=i[$e]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(s,b,p),typeof d=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,p);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):ja(i,c,d)}}}function Qn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var d=!1,p=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Lt(i,s,b,S,c,null)}}p&&Lt(i,s,"srcSet",c.srcSet,c,null),d&&Lt(i,s,"src",c.src,c,null);return;case"input":ht("invalid",i);var I=b=S=p=null,z=null,Q=null;for(d in c)if(c.hasOwnProperty(d)){var ce=c[d];if(ce!=null)switch(d){case"name":p=ce;break;case"type":S=ce;break;case"checked":z=ce;break;case"defaultChecked":Q=ce;break;case"value":b=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:Lt(i,s,d,ce,c,null)}}io(i,b,I,z,Q,S,p,!1),ao(i);return;case"select":ht("invalid",i),d=S=b=null;for(p in c)if(c.hasOwnProperty(p)&&(I=c[p],I!=null))switch(p){case"value":b=I;break;case"defaultValue":S=I;break;case"multiple":d=I;default:Lt(i,s,p,I,c,null)}s=b,c=S,i.multiple=!!d,s!=null?Et(i,!!d,s,!1):c!=null&&Et(i,!!d,c,!0);return;case"textarea":ht("invalid",i),b=p=d=null;for(S in c)if(c.hasOwnProperty(S)&&(I=c[S],I!=null))switch(S){case"value":d=I;break;case"defaultValue":p=I;break;case"children":b=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Lt(i,s,S,I,c,null)}as(i,d,p,b),ao(i);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Lt(i,s,z,d,c,null)}return;case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(d=0;d<_u.length;d++)ht(_u[d],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(d=c[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Lt(i,s,Q,d,c,null)}return;default:if(Lc(s)){for(ce in c)c.hasOwnProperty(ce)&&(d=c[ce],d!==void 0&&Zg(i,s,ce,d,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(d=c[I],d!=null&&Lt(i,s,I,d,c,null))}function qN(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,b=null,S=null,I=null,z=null,Q=null,ce=null;for(le in c){var ye=c[le];if(c.hasOwnProperty(le)&&ye!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":z=ye;default:d.hasOwnProperty(le)||Lt(i,s,le,null,d,ye)}}for(var re in d){var le=d[re];if(ye=c[re],d.hasOwnProperty(re)&&(le!=null||ye!=null))switch(re){case"type":b=le;break;case"name":p=le;break;case"checked":Q=le;break;case"defaultChecked":ce=le;break;case"value":S=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:le!==ye&&Lt(i,s,re,le,d,ye)}}rs(i,S,I,z,Q,ce,b,p);return;case"select":le=S=I=re=null;for(b in c)if(z=c[b],c.hasOwnProperty(b)&&z!=null)switch(b){case"value":break;case"multiple":le=z;default:d.hasOwnProperty(b)||Lt(i,s,b,null,d,z)}for(p in d)if(b=d[p],z=c[p],d.hasOwnProperty(p)&&(b!=null||z!=null))switch(p){case"value":re=b;break;case"defaultValue":I=b;break;case"multiple":S=b;default:b!==z&&Lt(i,s,p,b,d,z)}s=I,c=S,d=le,re!=null?Et(i,!!c,re,!1):!!d!=!!c&&(s!=null?Et(i,!!c,s,!0):Et(i,!!c,c?[]:"",!1));return;case"textarea":le=re=null;for(I in c)if(p=c[I],c.hasOwnProperty(I)&&p!=null&&!d.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Lt(i,s,I,null,d,p)}for(S in d)if(p=d[S],b=c[S],d.hasOwnProperty(S)&&(p!=null||b!=null))switch(S){case"value":re=p;break;case"defaultValue":le=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==b&&Lt(i,s,S,p,d,b)}so(i,re,le);return;case"option":for(var Be in c)if(re=c[Be],c.hasOwnProperty(Be)&&re!=null&&!d.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:Lt(i,s,Be,null,d,re)}for(z in d)if(re=d[z],le=c[z],d.hasOwnProperty(z)&&re!==le&&(re!=null||le!=null))switch(z){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Lt(i,s,z,re,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in c)re=c[Ze],c.hasOwnProperty(Ze)&&re!=null&&!d.hasOwnProperty(Ze)&&Lt(i,s,Ze,null,d,re);for(Q in d)if(re=d[Q],le=c[Q],d.hasOwnProperty(Q)&&re!==le&&(re!=null||le!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Lt(i,s,Q,re,d,le)}return;default:if(Lc(s)){for(var ln in c)re=c[ln],c.hasOwnProperty(ln)&&re!==void 0&&!d.hasOwnProperty(ln)&&Zg(i,s,ln,void 0,d,re);for(ce in d)re=d[ce],le=c[ce],!d.hasOwnProperty(ce)||re===le||re===void 0&&le===void 0||Zg(i,s,ce,re,d,le);return}}for(var Z in c)re=c[Z],c.hasOwnProperty(Z)&&re!=null&&!d.hasOwnProperty(Z)&&Lt(i,s,Z,null,d,re);for(ye in d)re=d[ye],le=c[ye],!d.hasOwnProperty(ye)||re===le||re==null&&le==null||Lt(i,s,ye,re,d,le)}var Jg=null,ey=null;function $f(i){return i.nodeType===9?i:i.ownerDocument}function Lw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ty(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ny=null;function $N(){var i=window.event;return i&&i.type==="popstate"?i===ny?!1:(ny=i,!0):(ny=null,!1)}var Bw=typeof setTimeout=="function"?setTimeout:void 0,GN=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(i){return Fw.resolve(null).then(i).catch(KN)}:Bw;function KN(i){setTimeout(function(){throw i})}function ry(i,s){var c=s,d=0;do{var p=c.nextSibling;if(i.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){i.removeChild(p),Nu(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Nu(s)}function ay(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ay(c),Ir(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function WN(i,s,c,d){for(;i.nodeType===1;){var p=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[gr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==p.rel||i.getAttribute("href")!==(p.href==null?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ta(i.nextSibling),i===null)break}return null}function XN(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ta(i.nextSibling),i===null))return null;return i}function Ta(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}function zw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function Hw(i,s,c){switch(s=$f(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var la=new Map,Yw=new Set;function Gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Vi=_e.d;_e.d={f:ZN,r:JN,D:eM,C:tM,L:nM,m:rM,X:iM,S:aM,M:sM};function ZN(){var i=Vi.f(),s=Uf();return i||s}function JN(i){var s=vn(i);s!==null&&s.tag===5&&s.type==="form"?y_(s):Vi.r(i)}var Hl=typeof document>"u"?null:document;function qw(i,s,c){var d=Hl;if(d&&typeof s=="string"&&s){var p=an(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),Yw.has(p)||(Yw.add(p),i={rel:i,crossOrigin:c,href:s},d.querySelector(p)===null&&(s=d.createElement("link"),Qn(s,"link",i),Dt(s),d.head.appendChild(s)))}}function eM(i){Vi.D(i),qw("dns-prefetch",i,null)}function tM(i,s){Vi.C(i,s),qw("preconnect",i,s)}function nM(i,s,c){Vi.L(i,s,c);var d=Hl;if(d&&i&&s){var p='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+an(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+an(c.imageSizes)+'"]')):p+='[href="'+an(i)+'"]';var b=p;switch(s){case"style":b=Yl(i);break;case"script":b=ql(i)}la.has(b)||(i=N({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),la.set(b,i),d.querySelector(p)!==null||s==="style"&&d.querySelector(Eu(b))||s==="script"&&d.querySelector(Tu(b))||(s=d.createElement("link"),Qn(s,"link",i),Dt(s),d.head.appendChild(s)))}}function rM(i,s){Vi.m(i,s);var c=Hl;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+an(d)+'"][href="'+an(i)+'"]',b=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ql(i)}if(!la.has(b)&&(i=N({rel:"modulepreload",href:i},s),la.set(b,i),c.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Tu(b)))return}d=c.createElement("link"),Qn(d,"link",i),Dt(d),c.head.appendChild(d)}}}function aM(i,s,c){Vi.S(i,s,c);var d=Hl;if(d&&i){var p=Ar(d).hoistableStyles,b=Yl(i);s=s||"default";var S=p.get(b);if(!S){var I={loading:0,preload:null};if(S=d.querySelector(Eu(b)))I.loading=5;else{i=N({rel:"stylesheet",href:i,"data-precedence":s},c),(c=la.get(b))&&iy(i,c);var z=S=d.createElement("link");Dt(z),Qn(z,"link",i),z._p=new Promise(function(Q,ce){z.onload=Q,z.onerror=ce}),z.addEventListener("load",function(){I.loading|=1}),z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Qf(S,s,d)}S={type:"stylesheet",instance:S,count:1,state:I},p.set(b,S)}}}function iM(i,s){Vi.X(i,s);var c=Hl;if(c&&i){var d=Ar(c).hoistableScripts,p=ql(i),b=d.get(p);b||(b=c.querySelector(Tu(p)),b||(i=N({src:i,async:!0},s),(s=la.get(p))&&sy(i,s),b=c.createElement("script"),Dt(b),Qn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function sM(i,s){Vi.M(i,s);var c=Hl;if(c&&i){var d=Ar(c).hoistableScripts,p=ql(i),b=d.get(p);b||(b=c.querySelector(Tu(p)),b||(i=N({src:i,async:!0,type:"module"},s),(s=la.get(p))&&sy(i,s),b=c.createElement("script"),Dt(b),Qn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(p,b))}}function $w(i,s,c,d){var p=(p=Xe.current)?Gf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Yl(c.href),c=Ar(p).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Yl(c.href);var b=Ar(p).hoistableStyles,S=b.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,S),(b=p.querySelector(Eu(i)))&&!b._p&&(S.instance=b,S.state.loading=5),la.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},la.set(i,c),b||oM(p,i,c,S.state))),s&&d===null)throw Error(r(528,""));return S}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ql(c),c=Ar(p).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yl(i){return'href="'+an(i)+'"'}function Eu(i){return'link[rel="stylesheet"]['+i+"]"}function Gw(i){return N({},i,{"data-precedence":i.precedence,precedence:null})}function oM(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Qn(s,"link",c),Dt(s),i.head.appendChild(s))}function ql(i){return'[src="'+an(i)+'"]'}function Tu(i){return"script[async]"+i}function Qw(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+an(c.href)+'"]');if(d)return s.instance=d,Dt(d),d;var p=N({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Dt(d),Qn(d,"style",p),Qf(d,c.precedence,i),s.instance=d;case"stylesheet":p=Yl(c.href);var b=i.querySelector(Eu(p));if(b)return s.state.loading|=4,s.instance=b,Dt(b),b;d=Gw(c),(p=la.get(p))&&iy(d,p),b=(i.ownerDocument||i).createElement("link"),Dt(b);var S=b;return S._p=new Promise(function(I,z){S.onload=I,S.onerror=z}),Qn(b,"link",d),s.state.loading|=4,Qf(b,c.precedence,i),s.instance=b;case"script":return b=ql(c.src),(p=i.querySelector(Tu(b)))?(s.instance=p,Dt(p),p):(d=c,(p=la.get(b))&&(d=N({},c),sy(d,p)),i=i.ownerDocument||i,p=i.createElement("script"),Dt(p),Qn(p,"link",d),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Qf(d,c.precedence,i));return s.instance}function Qf(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,b=p,S=0;S<d.length;S++){var I=d[S];if(I.dataset.precedence===s)b=I;else if(b!==p)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function iy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function sy(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Kf=null;function Kw(i,s,c){if(Kf===null){var d=new Map,p=Kf=new Map;p.set(c,d)}else p=Kf,d=p.get(c),d||(d=new Map,p.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),p=0;p<c.length;p++){var b=c[p];if(!(b[gr]||b[Ie]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(s)||"";S=i+S;var I=d.get(S);I?I.push(b):d.set(S,[b])}}return d}function Ww(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function lM(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Su=null;function cM(){}function uM(i,s,c){if(Su===null)throw Error(r(475));var d=Su;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Yl(c.href),b=i.querySelector(Eu(p));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Wf.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=b,Dt(b);return}b=i.ownerDocument||i,c=Gw(c),(p=la.get(p))&&iy(c,p),b=b.createElement("link"),Dt(b);var S=b;S._p=new Promise(function(I,z){S.onload=I,S.onerror=z}),Qn(b,"link",c),s.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=Wf.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function dM(){if(Su===null)throw Error(r(475));var i=Su;return i.stylesheets&&i.count===0&&oy(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&oy(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Wf(){if(this.count--,this.count===0){if(this.stylesheets)oy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xf=null;function oy(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xf=new Map,s.forEach(fM,i),Xf=null,Wf.call(i))}function fM(i,s){if(!(s.state.loading&4)){var c=Xf.get(i);if(c)var d=c.get(null);else{c=new Map,Xf.set(i,c);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<p.length;b++){var S=p[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}p=s.instance,S=p.getAttribute("data-precedence"),b=c.get(S)||d,b===d&&c.set(null,p),c.set(S,p),this.count++,d=Wf.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),b?b.parentNode.insertBefore(p,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Du={$$typeof:w,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function hM(i,s,c,d,p,b,S,I){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.hiddenUpdates=ae(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Zw(i,s,c,d,p,b,S,I,z,Q,ce,ye){return i=new hM(i,s,c,S,I,z,Q,ye),s=1,b===!0&&(s|=24),b=sa(3,null,null,s),i.current=b,b.stateNode=i,s=Up(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:s},bg(b),i}function Jw(i){return i?(i=El,i):El}function e1(i,s,c,d,p,b){p=Jw(p),d.context===null?d.context=p:d.pendingContext=p,d=hs(s),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=ms(i,d,s),c!==null&&(xr(c,i,s),cu(c,i,s))}function t1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function ly(i,s){t1(i,s),(i=i.alternate)&&t1(i,s)}function n1(i){if(i.tag===13){var s=ss(i,67108864);s!==null&&xr(s,i,67108864),ly(i,67108864)}}var Zf=!0;function mM(i,s,c,d){var p=R.T;R.T=null;var b=_e.p;try{_e.p=2,cy(i,s,c,d)}finally{_e.p=b,R.T=p}}function pM(i,s,c,d){var p=R.T;R.T=null;var b=_e.p;try{_e.p=8,cy(i,s,c,d)}finally{_e.p=b,R.T=p}}function cy(i,s,c,d){if(Zf){var p=uy(d);if(p===null)Xg(i,s,d,Jf,c),a1(i,d);else if(yM(p,i,s,c,d))d.stopPropagation();else if(a1(i,d),s&4&&-1<gM.indexOf(i)){for(;p!==null;){var b=vn(p);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=ar(b.pendingLanes);if(S!==0){var I=b;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var z=1<<31-In(S);I.entanglements[1]|=z,S&=~z}Qa(b),(Jt&6)===0&&(jf=rn()+500,xu(0))}}break;case 13:I=ss(b,2),I!==null&&xr(I,b,2),Uf(),ly(b,2)}if(b=uy(d),b===null&&Xg(i,s,d,Jf,c),b===p)break;p=b}p!==null&&d.stopPropagation()}else Xg(i,s,d,null,c)}}function uy(i){return i=dl(i),dy(i)}var Jf=null;function dy(i){if(Jf=null,i=fn(i),i!==null){var s=oe(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=be(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Jf=i,null}function r1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tn()){case Pt:return 2;case dn:return 8;case Or:case sl:return 32;case Dr:return 268435456;default:return 32}default:return 32}}var fy=!1,_s=null,ws=null,Es=null,Au=new Map,Cu=new Map,Ts=[],gM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a1(i,s){switch(i){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function Ru(i,s,c,d,p,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[p]},s!==null&&(s=vn(s),s!==null&&n1(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function yM(i,s,c,d,p){switch(s){case"focusin":return _s=Ru(_s,i,s,c,d,p),!0;case"dragenter":return ws=Ru(ws,i,s,c,d,p),!0;case"mouseover":return Es=Ru(Es,i,s,c,d,p),!0;case"pointerover":var b=p.pointerId;return Au.set(b,Ru(Au.get(b)||null,i,s,c,d,p)),!0;case"gotpointercapture":return b=p.pointerId,Cu.set(b,Ru(Cu.get(b)||null,i,s,c,d,p)),!0}return!1}function i1(i){var s=fn(i.target);if(s!==null){var c=oe(s);if(c!==null){if(s=c.tag,s===13){if(s=be(c),s!==null){i.blockedOn=s,Ae(i.priority,function(){if(c.tag===13){var d=Br(),p=ss(c,d);p!==null&&xr(p,c,d),ly(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function eh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=uy(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Wr=d,c.target.dispatchEvent(d),Wr=null}else return s=vn(c),s!==null&&n1(s),i.blockedOn=c,!1;s.shift()}return!0}function s1(i,s,c){eh(i)&&c.delete(s)}function vM(){fy=!1,_s!==null&&eh(_s)&&(_s=null),ws!==null&&eh(ws)&&(ws=null),Es!==null&&eh(Es)&&(Es=null),Au.forEach(s1),Cu.forEach(s1)}function th(i,s){i.blockedOn===s&&(i.blockedOn=null,fy||(fy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vM)))}var nh=null;function o1(i){nh!==i&&(nh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nh===i&&(nh=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],p=i[s+2];if(typeof d!="function"){if(dy(d||c)===null)continue;break}var b=vn(c);b!==null&&(i.splice(s,3),s-=3,tg(b,{pending:!0,data:p,method:c.method,action:d},d,p))}}))}function Nu(i){function s(z){return th(z,i)}_s!==null&&th(_s,i),ws!==null&&th(ws,i),Es!==null&&th(Es,i),Au.forEach(s),Cu.forEach(s);for(var c=0;c<Ts.length;c++){var d=Ts[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ts.length&&(c=Ts[0],c.blockedOn===null);)i1(c),c.blockedOn===null&&Ts.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var p=c[d],b=c[d+1],S=p[$e]||null;if(typeof b=="function")S||o1(c);else if(S){var I=null;if(b&&b.hasAttribute("formAction")){if(p=b,S=b[$e]||null)I=S.formAction;else if(dy(p)!==null)continue}else I=S.action;typeof I=="function"?c[d+1]=I:(c.splice(d,3),d-=3),o1(c)}}}function hy(i){this._internalRoot=i}rh.prototype.render=hy.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=Br();e1(c,d,i,s,null,null)},rh.prototype.unmount=hy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;i.tag===0&&Bl(),e1(i.current,2,null,i,null,null),Uf(),s[wt]=null}};function rh(i){this._internalRoot=i}rh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ue();i={blockedOn:null,target:i,priority:s};for(var c=0;c<Ts.length&&s!==0&&s<Ts[c].priority;c++);Ts.splice(c,0,i),c===0&&i1(i)}};var l1=e.version;if(l1!=="19.0.0")throw Error(r(527,l1,"19.0.0"));_e.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=ee(s),i=i!==null?de(i):null,i=i===null?null:i.stateNode,i};var bM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:fn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{va=ah.inject(bM),On=ah}catch{}}return ku.createRoot=function(i,s){if(!a(i))throw Error(r(299));var c=!1,d="",p=S_,b=D_,S=A_,I=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks)),s=Zw(i,1,!1,null,null,c,d,p,b,S,I,null),i[wt]=s.current,Wg(i.nodeType===8?i.parentNode:i),new hy(s)},ku.hydrateRoot=function(i,s,c){if(!a(i))throw Error(r(299));var d=!1,p="",b=S_,S=D_,I=A_,z=null,Q=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(Q=c.formState)),s=Zw(i,1,!0,s,c??null,d,p,b,S,I,z,Q),s.context=Jw(null),c=s.current,d=Br(),p=hs(d),p.callback=null,ms(c,p,d),s.current.lanes=d,fe(s,d),Qa(s),i[wt]=s.current,Wg(i),new rh(s)},ku.version="19.0.0",ku}var v1;function kM(){if(v1)return gy.exports;v1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gy.exports=MM(),gy.exports}var PM=kM(),Pu={},b1;function OM(){if(b1)return Pu;b1=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.parse=l,Pu.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,w){const T=new o,A=x.length;if(A<2)return T;const D=(w==null?void 0:w.decode)||g;let O=0;do{const U=x.indexOf("=",O);if(U===-1)break;const B=x.indexOf(";",O),Y=B===-1?A:B;if(U>Y){O=x.lastIndexOf(";",U-1)+1;continue}const M=u(x,O,U),$=f(x,U,M),j=x.slice(M,$);if(T[j]===void 0){let C=u(x,U+1,Y),R=f(x,Y,C);const N=D(x.slice(C,R));T[j]=N}O=Y+1}while(O<A);return T}function u(x,w,T){do{const A=x.charCodeAt(w);if(A!==32&&A!==9)return w}while(++w<T);return T}function f(x,w,T){for(;w>T;){const A=x.charCodeAt(--w);if(A!==32&&A!==9)return w+1}return T}function h(x,w,T){const A=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const D=A(w);if(!e.test(D))throw new TypeError(`argument val is invalid: ${w}`);let O=x+"="+D;if(!T)return O;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);O+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);O+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);O+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);O+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(O+="; HttpOnly"),T.secure&&(O+="; Secure"),T.partitioned&&(O+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return O}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return a.call(x)==="[object Date]"}return Pu}OM();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d2=n=>{throw TypeError(n)},IM=(n,e,t)=>e.has(n)||d2("Cannot "+t),xy=(n,e,t)=>(IM(n,e,"read from private field"),t?t.call(n):e.get(n)),jM=(n,e,t)=>e.has(n)?d2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),x1="popstate";function VM(n={}){function e(r,a){let{pathname:o,search:l,hash:u}=r.location;return sd("",{pathname:o,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:Bs(a)}return UM(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LM(){return Math.random().toString(36).substring(2,10)}function _1(n,e){return{usr:n.state,key:n.key,idx:e}}function sd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||LM()}}function Bs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function UM(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,l=a.history,u="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function v(){u="POP";let D=g(),O=D==null?null:D-h;h=D,f&&f({action:u,location:A.location,delta:O})}function x(D,O){u="PUSH";let U=sd(A.location,D,O);h=g()+1;let B=_1(U,h),Y=A.createHref(U);try{l.pushState(B,"",Y)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(Y)}o&&f&&f({action:u,location:A.location,delta:1})}function w(D,O){u="REPLACE";let U=sd(A.location,D,O);h=g();let B=_1(U,h),Y=A.createHref(U);l.replaceState(B,"",Y),o&&f&&f({action:u,location:A.location,delta:0})}function T(D){let O=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof D=="string"?D:Bs(D);return U=U.replace(/ $/,"%20"),ct(O,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,O)}let A={get action(){return u},get location(){return n(a,l)},listen(D){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(x1,v),f=D,()=>{a.removeEventListener(x1,v),f=null}},createHref(D){return e(a,D)},createURL:T,encodeLocation(D){let O=T(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:w,go(D){return l.go(D)}};return A}var zu,w1=class{constructor(n){if(jM(this,zu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(xy(this,zu).has(n))return xy(this,zu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){xy(this,zu).set(n,e)}};zu=new WeakMap;var BM=new Set(["lazy","caseSensitive","path","id","index","children"]);function FM(n){return n.index===!0}function Hh(n,e,t=[],r={}){return n.map((a,o)=>{let l=[...t,String(o)],u=typeof a.id=="string"?a.id:l.join("-");if(ct(a.index!==!0||!a.children,"Cannot specify children on an index route"),ct(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),FM(a)){let f={...a,...e(a),id:u};return r[u]=f,f}else{let f={...a,...e(a),id:u,children:void 0};return r[u]=f,a.children&&(f.children=Hh(a.children,e,l,r)),f}})}function Ns(n,e,t="/"){return Th(n,e,t,!1)}function Th(n,e,t,r){let a=typeof e=="string"?Xs(e):e,o=ga(a.pathname||"/",t);if(o==null)return null;let l=f2(n);HM(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=e4(o);u=ZM(l[f],h,r)}return u}function zM(n,e){let{route:t,pathname:r,params:a}=n;return{id:t.id,pathname:r,params:a,data:e[t.id],handle:t.handle}}function f2(n,e=[],t=[],r=""){let a=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=ti([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),f2(o.children,e,g,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:WM(h,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let f of h2(o.path))a(o,l,f)}),e}function h2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let l=h2(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function HM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var YM=/^:[\w-]+$/,qM=3,$M=2,GM=1,QM=10,KM=-2,E1=n=>n==="*";function WM(n,e){let t=n.split("/"),r=t.length;return t.some(E1)&&(r+=KM),e&&(r+=$M),t.filter(a=>!E1(a)).reduce((a,o)=>a+(YM.test(o)?qM:o===""?GM:QM),r)}function XM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function ZM(n,e,t=!1){let{routesMeta:r}=n,a={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=Yh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:ti([o,v.pathname]),pathnameBase:r4(ti([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ti([o,v.pathnameBase]))}return l}function Yh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JM(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:v},x)=>{if(g==="*"){let T=u[x]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[x];return v&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function JM(n,e=!1,t=!0){Jn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function e4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function t4(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:n4(t,e):e,search:a4(r),hash:i4(a)}}function n4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function _y(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mv(n){let e=m2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function pv(n,e,t,r=!1){let a;typeof n=="string"?a=Xs(n):(a={...n},ct(!a.pathname||!a.pathname.includes("?"),_y("?","pathname","search",a)),ct(!a.pathname||!a.pathname.includes("#"),_y("#","pathname","hash",a)),ct(!a.search||!a.search.includes("#"),_y("#","search","hash",a)));let o=n===""||a.pathname==="",l=o?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let f=t4(a,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),r4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),a4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,qh=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function od(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var p2=["POST","PUT","PATCH","DELETE"],s4=new Set(p2),o4=["GET",...p2],l4=new Set(o4),c4=new Set([301,302,303,307,308]),u4=new Set([307,308]),wy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},d4={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f4=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),g2="remix-router-transitions",y2=Symbol("ResetLoaderData");function h4(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ct(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||f4,a={},o=Hh(n.routes,r,void 0,a),l,u=n.basename||"/",f=n.dataStrategy||v4,h={unstable_middleware:!1,...n.future},g=null,v=new Set,x=null,w=null,T=null,A=n.hydrationData!=null,D=Ns(o,n.history.location,u),O=!1,U=null;if(D==null&&!n.patchRoutesOnNavigation){let q=da(404,{pathname:n.history.location.pathname}),{matches:W,route:ae}=I1(o);D=W,U={[ae.id]:q}}D&&!n.hydrationData&&ar(D,o,n.history.location.pathname).active&&(D=null);let B;if(D)if(D.some(q=>q.route.lazy))B=!1;else if(!D.some(q=>q.route.loader))B=!0;else{let q=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let ae=D.findIndex(fe=>W[fe.route.id]!==void 0);B=D.slice(0,ae+1).every(fe=>!a0(fe.route,q,W))}else B=D.every(ae=>!a0(ae.route,q,W))}else{B=!1,D=[];let q=ar(null,o,n.history.location.pathname);q.active&&q.matches&&(O=!0,D=q.matches)}let Y,M={historyAction:n.history.action,location:n.history.location,matches:D,initialized:B,navigation:wy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},$="POP",j=!1,C,R=!1,N=new Map,L=null,H=!1,F=!1,Se=new Set,xe=new Map,K=0,ne=-1,oe=new Map,be=new Set,P=new Map,ee=new Map,de=new Set,pe=new Map,_e,ue=null;function ie(){if(g=n.history.listen(({action:q,location:W,delta:ae})=>{if(_e){_e(),_e=void 0;return}Jn(pe.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=In({currentLocation:M.location,nextLocation:W,historyAction:q});if(fe&&ae!=null){let De=new Promise(He=>{_e=He});n.history.go(ae*-1),pr(fe,{state:"blocked",location:W,proceed(){pr(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),De.then(()=>n.history.go(ae))},reset(){let He=new Map(M.blockers);He.set(fe,Ou),Ee({blockers:He})}});return}return Xe(q,W)}),t){N4(e,N);let q=()=>M4(e,N);e.addEventListener("pagehide",q),L=()=>e.removeEventListener("pagehide",q)}return M.initialized||Xe("POP",M.location,{initialHydration:!0}),Y}function Ne(){g&&g(),L&&L(),v.clear(),C&&C.abort(),M.fetchers.forEach((q,W)=>Or(W)),M.blockers.forEach((q,W)=>es(W))}function Ce(q){return v.add(q),()=>v.delete(q)}function Ee(q,W={}){M={...M,...q};let ae=[],fe=[];M.fetchers.forEach((De,He)=>{De.state==="idle"&&(de.has(He)?ae.push(He):fe.push(He))}),de.forEach(De=>{!M.fetchers.has(De)&&!xe.has(De)&&ae.push(De)}),[...v].forEach(De=>De(M,{deletedFetchers:ae,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ae.forEach(De=>Or(De)),fe.forEach(De=>M.fetchers.delete(De))}function ze(q,W,{flushSync:ae}={}){var Ae,Oe;let fe=M.actionData!=null&&M.navigation.formMethod!=null&&Da(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Ae=q.state)==null?void 0:Ae._isRedirect)!==!0,De;W.actionData?Object.keys(W.actionData).length>0?De=W.actionData:De=null:fe?De=M.actionData:De=null;let He=W.loaderData?P1(M.loaderData,W.loaderData,W.matches||[],W.errors):M.loaderData,Fe=M.blockers;Fe.size>0&&(Fe=new Map(Fe),Fe.forEach((Ie,$e)=>Fe.set($e,Ou)));let Ve=j===!0||M.navigation.formMethod!=null&&Da(M.navigation.formMethod)&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0;l&&(o=l,l=void 0),H||$==="POP"||($==="PUSH"?n.history.push(q,q.state):$==="REPLACE"&&n.history.replace(q,q.state));let Ue;if($==="POP"){let Ie=N.get(M.location.pathname);Ie&&Ie.has(q.pathname)?Ue={currentLocation:M.location,nextLocation:q}:N.has(q.pathname)&&(Ue={currentLocation:q,nextLocation:M.location})}else if(R){let Ie=N.get(M.location.pathname);Ie?Ie.add(q.pathname):(Ie=new Set([q.pathname]),N.set(M.location.pathname,Ie)),Ue={currentLocation:M.location,nextLocation:q}}Ee({...W,actionData:De,loaderData:He,historyAction:$,location:q,initialized:!0,navigation:wy,revalidation:"idle",restoreScrollPosition:ba(q,W.matches||M.matches),preventScrollReset:Ve,blockers:Fe},{viewTransitionOpts:Ue,flushSync:ae===!0}),$="POP",j=!1,R=!1,H=!1,F=!1,ue==null||ue.resolve(),ue=null}async function ut(q,W){if(typeof q=="number"){n.history.go(q);return}let ae=r0(M.location,M.matches,u,q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:fe,submission:De,error:He}=T1(!1,ae,W),Fe=M.location,Ve=sd(M.location,fe,W&&W.state);Ve={...Ve,...n.history.encodeLocation(Ve)};let Ue=W&&W.replace!=null?W.replace:void 0,Ae="PUSH";Ue===!0?Ae="REPLACE":Ue===!1||De!=null&&Da(De.formMethod)&&De.formAction===M.location.pathname+M.location.search&&(Ae="REPLACE");let Oe=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ie=(W&&W.flushSync)===!0,$e=In({currentLocation:Fe,nextLocation:Ve,historyAction:Ae});if($e){pr($e,{state:"blocked",location:Ve,proceed(){pr($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),ut(q,W)},reset(){let wt=new Map(M.blockers);wt.set($e,Ou),Ee({blockers:wt})}});return}await Xe(Ae,Ve,{submission:De,pendingError:He,preventScrollReset:Oe,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Ie})}function nt(){ue||(ue=k4()),rn(),Ee({revalidation:"loading"});let q=ue.promise;return M.navigation.state==="submitting"?q:M.navigation.state==="idle"?(Xe(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),q):(Xe($||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:R===!0}),q)}async function Xe(q,W,ae){C&&C.abort(),C=null,$=q,H=(ae&&ae.startUninterruptedRevalidation)===!0,qr(M.location,M.matches),j=(ae&&ae.preventScrollReset)===!0,R=(ae&&ae.enableViewTransition)===!0;let fe=l||o,De=ae&&ae.overrideNavigation,He=ae!=null&&ae.initialHydration&&M.matches&&M.matches.length>0&&!O?M.matches:Ns(fe,W,u),Fe=(ae&&ae.flushSync)===!0;if(He&&M.initialized&&!F&&S4(M.location,W)&&!(ae&&ae.submission&&Da(ae.submission.formMethod))){ze(W,{matches:He},{flushSync:Fe});return}let Ve=ar(He,fe,W.pathname);if(Ve.active&&Ve.matches&&(He=Ve.matches),!He){let{error:Bt,notFoundMatches:bt,route:$t}=mi(W.pathname);ze(W,{matches:bt,loaderData:{},errors:{[$t.id]:Bt}},{flushSync:Fe});return}C=new AbortController;let Ue=$l(n.history,W,C.signal,ae&&ae.submission),Ae=new w1(n.unstable_getContext?await n.unstable_getContext():void 0),Oe;if(ae&&ae.pendingError)Oe=[Vo(He).route.id,{type:"error",error:ae.pendingError}];else if(ae&&ae.submission&&Da(ae.submission.formMethod)){let Bt=await Ut(Ue,W,ae.submission,He,Ae,Ve.active,{replace:ae.replace,flushSync:Fe});if(Bt.shortCircuited)return;if(Bt.pendingActionResult){let[bt,$t]=Bt.pendingActionResult;if(Fr($t)&&od($t.error)&&$t.error.status===404){C=null,ze(W,{matches:Bt.matches,loaderData:{},errors:{[bt]:$t.error}});return}}He=Bt.matches||He,Oe=Bt.pendingActionResult,De=Ey(W,ae.submission),Fe=!1,Ve.active=!1,Ue=$l(n.history,Ue.url,Ue.signal)}let{shortCircuited:Ie,matches:$e,loaderData:wt,errors:Qt}=await Xt(Ue,W,He,Ae,Ve.active,De,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,Fe,Oe);Ie||(C=null,ze(W,{matches:$e||He,...O1(Oe),loaderData:wt,errors:Qt}))}async function Ut(q,W,ae,fe,De,He,Fe={}){rn();let Ve=C4(W,ae);if(Ee({navigation:Ve},{flushSync:Fe.flushSync===!0}),He){let Oe=await Yn(fe,W.pathname,q.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let Ie=Vo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[Ie,{type:"error",error:Oe.error}]}}else if(Oe.matches)fe=Oe.matches;else{let{notFoundMatches:Ie,error:$e,route:wt}=mi(W.pathname);return{matches:Ie,pendingActionResult:[wt.id,{type:"error",error:$e}]}}}let Ue,Ae=Hu(fe,W);if(!Ae.route.action&&!Ae.route.lazy)Ue={type:"error",error:da(405,{method:q.method,pathname:W.pathname,routeId:Ae.route.id})};else{let Oe=await Pr("action",q,[Ae],fe,De,null);if(Ue=Oe[Ae.route.id],!Ue){for(let Ie of fe)if(Oe[Ie.route.id]){Ue=Oe[Ie.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Lo(Ue)){let Oe;return Fe&&Fe.replace!=null?Oe=Fe.replace:Oe=N1(Ue.response.headers.get("Location"),new URL(q.url),u)===M.location.pathname+M.location.search,await rr(q,Ue,!0,{submission:ae,replace:Oe}),{shortCircuited:!0}}if(Fr(Ue)){let Oe=Vo(fe,Ae.route.id);return(Fe&&Fe.replace)!==!0&&($="PUSH"),{matches:fe,pendingActionResult:[Oe.route.id,Ue]}}return{matches:fe,pendingActionResult:[Ae.route.id,Ue]}}async function Xt(q,W,ae,fe,De,He,Fe,Ve,Ue,Ae,Oe,Ie){let $e=He||Ey(W,Fe),wt=Fe||Ve||V1($e),Qt=!H&&!Ae;if(De){if(Qt){let At=Te(Ie);Ee({navigation:$e,...At!==void 0?{actionData:At}:{}},{flushSync:Oe})}let at=await Yn(ae,W.pathname,q.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){let At=Vo(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[At]:at.error}}}else if(at.matches)ae=at.matches;else{let{error:At,notFoundMatches:jn,route:pi}=mi(W.pathname);return{matches:jn,loaderData:{},errors:{[pi.id]:At}}}}let Bt=l||o,[bt,$t]=D1(n.history,M,ae,wt,W,Ae===!0,F,Se,de,P,be,Bt,u,Ie);if(ne=++K,bt.length===0&&$t.length===0){let at=Pa();return ze(W,{matches:ae,loaderData:{},errors:Ie&&Fr(Ie[1])?{[Ie[0]]:Ie[1].error}:null,...O1(Ie),...at?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Qt){let at={};if(!De){at.navigation=$e;let At=Te(Ie);At!==void 0&&(at.actionData=At)}$t.length>0&&(at.fetchers=et($t)),Ee(at,{flushSync:Oe})}$t.forEach(at=>{Dr(at.key),at.controller&&xe.set(at.key,at.controller)});let gr=()=>$t.forEach(at=>Dr(at.key));C&&C.signal.addEventListener("abort",gr);let{loaderResults:Ir,fetcherResults:fn}=await Pn(ae,bt,$t,q,fe);if(q.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",gr),$t.forEach(at=>xe.delete(at.key));let vn=ih(Ir);if(vn)return await rr(q,vn.result,!0,{replace:Ue}),{shortCircuited:!0};if(vn=ih(fn),vn)return be.add(vn.key),await rr(q,vn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:$r,errors:Ar}=k1(M,ae,Ir,Ie,$t,fn);Ae&&M.errors&&(Ar={...M.errors,...Ar});let Dt=Pa(),Ia=va(ne),xa=Dt||Ia||$t.length>0;return{matches:ae,loaderData:$r,errors:Ar,...xa?{fetchers:new Map(M.fetchers)}:{}}}function Te(q){if(q&&!Fr(q[1]))return{[q[0]]:q[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function et(q){return q.forEach(W=>{let ae=M.fetchers.get(W.key),fe=Iu(void 0,ae?ae.data:void 0);M.fetchers.set(W.key,fe)}),new Map(M.fetchers)}async function Rt(q,W,ae,fe){Dr(q);let De=(fe&&fe.flushSync)===!0,He=l||o,Fe=r0(M.location,M.matches,u,ae,W,fe==null?void 0:fe.relative),Ve=Ns(He,Fe,u),Ue=ar(Ve,He,Fe);if(Ue.active&&Ue.matches&&(Ve=Ue.matches),!Ve){Pt(q,W,da(404,{pathname:Fe}),{flushSync:De});return}let{path:Ae,submission:Oe,error:Ie}=T1(!0,Fe,fe);if(Ie){Pt(q,W,Ie,{flushSync:De});return}let $e=Hu(Ve,Ae),wt=new w1(n.unstable_getContext?await n.unstable_getContext():void 0),Qt=(fe&&fe.preventScrollReset)===!0;if(Oe&&Da(Oe.formMethod)){await jt(q,W,Ae,$e,Ve,wt,Ue.active,De,Qt,Oe);return}P.set(q,{routeId:W,path:Ae}),await nr(q,W,Ae,$e,Ve,wt,Ue.active,De,Qt,Oe)}async function jt(q,W,ae,fe,De,He,Fe,Ve,Ue,Ae){rn(),P.delete(q);function Oe(zt){if(!zt.route.action&&!zt.route.lazy){let Gr=da(405,{method:Ae.formMethod,pathname:ae,routeId:W});return Pt(q,W,Gr,{flushSync:Ve}),!0}return!1}if(!Fe&&Oe(fe))return;let Ie=M.fetchers.get(q);Tn(q,R4(Ae,Ie),{flushSync:Ve});let $e=new AbortController,wt=$l(n.history,ae,$e.signal,Ae);if(Fe){let zt=await Yn(De,ae,wt.signal,q);if(zt.type==="aborted")return;if(zt.type==="error"){Pt(q,W,zt.error,{flushSync:Ve});return}else if(zt.matches){if(De=zt.matches,fe=Hu(De,ae),Oe(fe))return}else{Pt(q,W,da(404,{pathname:ae}),{flushSync:Ve});return}}xe.set(q,$e);let Qt=K,bt=(await Pr("action",wt,[fe],De,He,q))[fe.route.id];if(wt.signal.aborted){xe.get(q)===$e&&xe.delete(q);return}if(de.has(q)){if(Lo(bt)||Fr(bt)){Tn(q,Cs(void 0));return}}else{if(Lo(bt))if(xe.delete(q),ne>Qt){Tn(q,Cs(void 0));return}else return be.add(q),Tn(q,Iu(Ae)),rr(wt,bt,!1,{fetcherSubmission:Ae,preventScrollReset:Ue});if(Fr(bt)){Pt(q,W,bt.error);return}}let $t=M.navigation.location||M.location,gr=$l(n.history,$t,$e.signal),Ir=l||o,fn=M.navigation.state!=="idle"?Ns(Ir,M.navigation.location,u):M.matches;ct(fn,"Didn't find any matches after fetcher action");let vn=++K;oe.set(q,vn);let $r=Iu(Ae,bt.data);M.fetchers.set(q,$r);let[Ar,Dt]=D1(n.history,M,fn,Ae,$t,!1,F,Se,de,P,be,Ir,u,[fe.route.id,bt]);Dt.filter(zt=>zt.key!==q).forEach(zt=>{let Gr=zt.key,ro=M.fetchers.get(Gr),ja=Iu(void 0,ro?ro.data:void 0);M.fetchers.set(Gr,ja),Dr(Gr),zt.controller&&xe.set(Gr,zt.controller)}),Ee({fetchers:new Map(M.fetchers)});let Ia=()=>Dt.forEach(zt=>Dr(zt.key));$e.signal.addEventListener("abort",Ia);let{loaderResults:xa,fetcherResults:at}=await Pn(fn,Ar,Dt,gr,He);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Ia),oe.delete(q),xe.delete(q),Dt.forEach(zt=>xe.delete(zt.key));let At=ih(xa);if(At)return rr(gr,At.result,!1,{preventScrollReset:Ue});if(At=ih(at),At)return be.add(At.key),rr(gr,At.result,!1,{preventScrollReset:Ue});let{loaderData:jn,errors:pi}=k1(M,fn,xa,void 0,Dt,at);if(M.fetchers.has(q)){let zt=Cs(bt.data);M.fetchers.set(q,zt)}va(vn),M.navigation.state==="loading"&&vn>ne?(ct($,"Expected pending action"),C&&C.abort(),ze(M.navigation.location,{matches:fn,loaderData:jn,errors:pi,fetchers:new Map(M.fetchers)})):(Ee({errors:pi,loaderData:P1(M.loaderData,jn,fn,pi),fetchers:new Map(M.fetchers)}),F=!1)}async function nr(q,W,ae,fe,De,He,Fe,Ve,Ue,Ae){let Oe=M.fetchers.get(q);Tn(q,Iu(Ae,Oe?Oe.data:void 0),{flushSync:Ve});let Ie=new AbortController,$e=$l(n.history,ae,Ie.signal);if(Fe){let bt=await Yn(De,ae,$e.signal,q);if(bt.type==="aborted")return;if(bt.type==="error"){Pt(q,W,bt.error,{flushSync:Ve});return}else if(bt.matches)De=bt.matches,fe=Hu(De,ae);else{Pt(q,W,da(404,{pathname:ae}),{flushSync:Ve});return}}xe.set(q,Ie);let wt=K,Bt=(await Pr("loader",$e,[fe],De,He,q))[fe.route.id];if(xe.get(q)===Ie&&xe.delete(q),!$e.signal.aborted){if(de.has(q)){Tn(q,Cs(void 0));return}if(Lo(Bt))if(ne>wt){Tn(q,Cs(void 0));return}else{be.add(q),await rr($e,Bt,!1,{preventScrollReset:Ue});return}if(Fr(Bt)){Pt(q,W,Bt.error);return}Tn(q,Cs(Bt.data))}}async function rr(q,W,ae,{submission:fe,fetcherSubmission:De,preventScrollReset:He,replace:Fe}={}){W.response.headers.has("X-Remix-Revalidate")&&(F=!0);let Ve=W.response.headers.get("Location");ct(Ve,"Expected a Location header on the redirect Response"),Ve=N1(Ve,new URL(q.url),u);let Ue=sd(M.location,Ve,{_isRedirect:!0});if(t){let Qt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Qt=!0;else if(gv.test(Ve)){const Bt=n.history.createURL(Ve);Qt=Bt.origin!==e.location.origin||ga(Bt.pathname,u)==null}if(Qt){Fe?e.location.replace(Ve):e.location.assign(Ve);return}}C=null;let Ae=Fe===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:Ie,formEncType:$e}=M.navigation;!fe&&!De&&Oe&&Ie&&$e&&(fe=V1(M.navigation));let wt=fe||De;if(u4.has(W.response.status)&&wt&&Da(wt.formMethod))await Xe(Ae,Ue,{submission:{...wt,formAction:Ve},preventScrollReset:He||j,enableViewTransition:ae?R:void 0});else{let Qt=Ey(Ue,fe);await Xe(Ae,Ue,{overrideNavigation:Qt,fetcherSubmission:De,preventScrollReset:He||j,enableViewTransition:ae?R:void 0})}}async function Pr(q,W,ae,fe,De,He){let Fe,Ve={};try{Fe=await x4(f,q,W,ae,fe,He,a,r,De,h.unstable_middleware)}catch(Ue){return ae.forEach(Ae=>{Ve[Ae.route.id]={type:"error",error:Ue}}),Ve}for(let[Ue,Ae]of Object.entries(Fe))if(D4(Ae)){let Oe=Ae.result;Ve[Ue]={type:"redirect",response:E4(Oe,W,Ue,fe,u)}}else Ve[Ue]=await w4(Ae);return Ve}async function Pn(q,W,ae,fe,De){let He=Pr("loader",fe,W,q,De,null),Fe=Promise.all(ae.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.controller){let Ie=(await Pr("loader",$l(n.history,Ae.path,Ae.controller.signal),[Ae.match],Ae.matches,De,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ie}}else return Promise.resolve({[Ae.key]:{type:"error",error:da(404,{pathname:Ae.path})}})})),Ve=await He,Ue=(await Fe).reduce((Ae,Oe)=>Object.assign(Ae,Oe),{});return{loaderResults:Ve,fetcherResults:Ue}}function rn(){F=!0,P.forEach((q,W)=>{xe.has(W)&&Se.add(W),Dr(W)})}function Tn(q,W,ae={}){M.fetchers.set(q,W),Ee({fetchers:new Map(M.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function Pt(q,W,ae,fe={}){let De=Vo(M.matches,W);Or(q),Ee({errors:{[De.route.id]:ae},fetchers:new Map(M.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function dn(q){return ee.set(q,(ee.get(q)||0)+1),de.has(q)&&de.delete(q),M.fetchers.get(q)||d4}function Or(q){let W=M.fetchers.get(q);xe.has(q)&&!(W&&W.state==="loading"&&oe.has(q))&&Dr(q),P.delete(q),oe.delete(q),be.delete(q),de.delete(q),Se.delete(q),M.fetchers.delete(q)}function sl(q){let W=(ee.get(q)||0)-1;W<=0?(ee.delete(q),de.add(q)):ee.set(q,W),Ee({fetchers:new Map(M.fetchers)})}function Dr(q){let W=xe.get(q);W&&(W.abort(),xe.delete(q))}function ol(q){for(let W of q){let ae=dn(W),fe=Cs(ae.data);M.fetchers.set(W,fe)}}function Pa(){let q=[],W=!1;for(let ae of be){let fe=M.fetchers.get(ae);ct(fe,`Expected fetcher: ${ae}`),fe.state==="loading"&&(be.delete(ae),q.push(ae),W=!0)}return ol(q),W}function va(q){let W=[];for(let[ae,fe]of oe)if(fe<q){let De=M.fetchers.get(ae);ct(De,`Expected fetcher: ${ae}`),De.state==="loading"&&(Dr(ae),oe.delete(ae),W.push(ae))}return ol(W),W.length>0}function On(q,W){let ae=M.blockers.get(q)||Ou;return pe.get(q)!==W&&pe.set(q,W),ae}function es(q){M.blockers.delete(q),pe.delete(q)}function pr(q,W){let ae=M.blockers.get(q)||Ou;ct(ae.state==="unblocked"&&W.state==="blocked"||ae.state==="blocked"&&W.state==="blocked"||ae.state==="blocked"&&W.state==="proceeding"||ae.state==="blocked"&&W.state==="unblocked"||ae.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ae.state} -> ${W.state}`);let fe=new Map(M.blockers);fe.set(q,W),Ee({blockers:fe})}function In({currentLocation:q,nextLocation:W,historyAction:ae}){if(pe.size===0)return;pe.size>1&&Jn(!1,"A router only supports one blocker at a time");let fe=Array.from(pe.entries()),[De,He]=fe[fe.length-1],Fe=M.blockers.get(De);if(!(Fe&&Fe.state==="proceeding")&&He({currentLocation:q,nextLocation:W,historyAction:ae}))return De}function mi(q){let W=da(404,{pathname:q}),ae=l||o,{matches:fe,route:De}=I1(ae);return{notFoundMatches:fe,route:De,error:W}}function ll(q,W,ae){if(x=q,T=W,w=ae||null,!A&&M.navigation===wy){A=!0;let fe=ba(M.location,M.matches);fe!=null&&Ee({restoreScrollPosition:fe})}return()=>{x=null,T=null,w=null}}function no(q,W){return w&&w(q,W.map(fe=>zM(fe,M.loaderData)))||q.key}function qr(q,W){if(x&&T){let ae=no(q,W);x[ae]=T()}}function ba(q,W){if(x){let ae=no(q,W),fe=x[ae];if(typeof fe=="number")return fe}return null}function ar(q,W,ae){if(n.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Th(W,ae,u,!0)}}else return{active:!0,matches:Th(W,ae,u,!0)||[]};return{active:!1,matches:null}}async function Yn(q,W,ae,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:q};let De=q;for(;;){let He=l==null,Fe=l||o,Ve=a;try{await n.patchRoutesOnNavigation({signal:ae,path:W,matches:De,fetcherKey:fe,patch:(Oe,Ie)=>{ae.aborted||C1(Oe,Ie,Fe,Ve,r)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:De}}finally{He&&!ae.aborted&&(o=[...o])}if(ae.aborted)return{type:"aborted"};let Ue=Ns(Fe,W,u);if(Ue)return{type:"success",matches:Ue};let Ae=Th(Fe,W,u,!0);if(!Ae||De.length===Ae.length&&De.every((Oe,Ie)=>Oe.route.id===Ae[Ie].route.id))return{type:"success",matches:null};De=Ae}}function Oa(q){a={},l=Hh(q,r,void 0,a)}function ts(q,W){let ae=l==null;C1(q,W,l||o,a,r),ae&&(o=[...o],Ee({}))}return Y={get basename(){return u},get future(){return h},get state(){return M},get routes(){return o},get window(){return e},initialize:ie,subscribe:Ce,enableScrollRestoration:ll,navigate:ut,fetch:Rt,revalidate:nt,createHref:q=>n.history.createHref(q),encodeLocation:q=>n.history.encodeLocation(q),getFetcher:dn,deleteFetcher:sl,dispose:Ne,getBlocker:On,deleteBlocker:es,patchRoutes:ts,_internalFetchControllers:xe,_internalSetRoutes:Oa},Y}function m4(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function r0(n,e,t,r,a,o){let l,u;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){u=h;break}}else l=e,u=e[e.length-1];let f=pv(r||".",mv(l),ga(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&u){let h=yv(f.search);if(u.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),Bs(f)}function T1(n,e,t){if(!t||!m4(t))return{path:e};if(t.formMethod&&!A4(t.formMethod))return{path:e,error:da(405,{method:t.formMethod})};let r=()=>({path:e,error:da(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),l=x2(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Da(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[w,T])=>`${x}${w}=${T}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Da(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}ct(typeof FormData=="function","FormData is not available in this environment");let u,f;if(t.formData)u=i0(t.formData),f=t.formData;else if(t.body instanceof FormData)u=i0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)u=t.body,f=M1(u);else if(t.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(t.body),f=M1(u)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Da(h.formMethod))return{path:e,submission:h};let g=Xs(e);return n&&g.search&&yv(g.search)&&u.append("index",""),g.search=`?${u}`,{path:Bs(g),submission:h}}function S1(n,e,t=!1){let r=n.findIndex(a=>a.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function D1(n,e,t,r,a,o,l,u,f,h,g,v,x,w){let T=w?Fr(w[1])?w[1].error:w[1].data:void 0,A=n.createURL(e.location),D=n.createURL(a),O=t;o&&e.errors?O=S1(t,Object.keys(e.errors)[0],!0):w&&Fr(w[1])&&(O=S1(t,w[0]));let U=w?w[1].statusCode:void 0,B=U&&U>=400,Y=O.filter(($,j)=>{let{route:C}=$;if(C.lazy)return!0;if(C.loader==null)return!1;if(o)return a0(C,e.loaderData,e.errors);if(p4(e.loaderData,e.matches[j],$))return!0;let R=e.matches[j],N=$;return A1($,{currentUrl:A,currentParams:R.params,nextUrl:D,nextParams:N.params,...r,actionResult:T,actionStatus:U,defaultShouldRevalidate:B?!1:l||A.pathname+A.search===D.pathname+D.search||A.search!==D.search||g4(R,N)})}),M=[];return h.forEach(($,j)=>{if(o||!t.some(H=>H.route.id===$.routeId)||f.has(j))return;let C=Ns(v,$.path,x);if(!C){M.push({key:j,routeId:$.routeId,path:$.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(j),N=Hu(C,$.path),L=!1;g.has(j)?L=!1:u.has(j)?(u.delete(j),L=!0):R&&R.state!=="idle"&&R.data===void 0?L=l:L=A1(N,{currentUrl:A,currentParams:e.matches[e.matches.length-1].params,nextUrl:D,nextParams:t[t.length-1].params,...r,actionResult:T,actionStatus:U,defaultShouldRevalidate:B?!1:l}),L&&M.push({key:j,routeId:$.routeId,path:$.path,matches:C,match:N,controller:new AbortController})}),[Y,M]}function a0(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,a=t!=null&&t[n.id]!==void 0;return!r&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!a}function p4(n,e,t){let r=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return r||a}function g4(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function A1(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function C1(n,e,t,r,a){let o;if(n){let f=r[n];ct(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let l=e.filter(f=>!o.some(h=>v2(f,h))),u=Hh(l,a,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...u)}function v2(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>v2(t,o))}):!1}async function y4(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let a=t[n.id];ct(a,"No route found in manifest");let o={};for(let l in r){let f=a[l]!==void 0&&l!=="hasErrorBoundary";Jn(!f,`Route "${a.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!f&&!BM.has(l)&&(o[l]=r[l])}Object.assign(a,o),Object.assign(a,{...e(a),lazy:void 0})}async function R1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{t[e[o].route.id]=a}),t}async function v4(n){return n.matches.some(e=>e.route.unstable_middleware)?b4(n,!1,()=>R1(n),(e,t)=>({[t]:{type:"error",result:e}})):R1(n)}async function b4(n,e,t,r){let{matches:a,request:o,params:l,context:u}=n,f={handlerResult:void 0};try{let h=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(x=>[v.route.id,x]):[]),g=await b2({request:o,params:l,context:u},h,e,f,t);return e?g:f.handlerResult}catch(h){if(!f.middlewareError)throw h;let g=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,g):g}}async function b2(n,e,t,r,a,o=0){let{request:l}=n;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let u=e[o];if(!u)return r.handlerResult=await a(),r.handlerResult;let[f,h]=u,g=!1,v,x=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await b2(n,e,t,r,a,o+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},x);return g?w===void 0?v:w:x()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}async function x4(n,e,t,r,a,o,l,u,f,h){let g=a.map(w=>w.route.lazy?y4(w.route,u,l):void 0);h&&await Promise.all(g);let v=a.map((w,T)=>{let A=g[T],D=r.some(U=>U.route.id===w.route.id);return{...w,shouldLoad:D,resolve:async U=>(U&&t.method==="GET"&&(w.route.lazy||w.route.loader)&&(D=!0),D?_4(e,t,w,A,U,f):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:v,request:t,params:a[0].params,fetcherKey:o,context:f});try{await Promise.all(g)}catch{}return x}async function _4(n,e,t,r,a,o){let l,u,f=h=>{let g,v=new Promise((T,A)=>g=A);u=()=>g(),e.signal.addEventListener("abort",u);let x=T=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:o},...T!==void 0?[T]:[]),w=(async()=>{try{return{type:"data",result:await(a?a(A=>x(A)):x())}}catch(T){return{type:"error",result:T}}})();return Promise.race([w,v])};try{let h=t.route[n];if(r)if(h){let g,[v]=await Promise.all([f(h).catch(x=>{g=x}),r]);if(g!==void 0)throw g;l=v}else if(await r,h=t.route[n],h)l=await f(h);else if(n==="action"){let g=new URL(e.url),v=g.pathname+g.search;throw da(405,{method:e.method,pathname:v,routeId:t.route.id})}else return{type:"data",result:void 0};else if(h)l=await f(h);else{let g=new URL(e.url),v=g.pathname+g.search;throw da(404,{pathname:v})}}catch(h){return{type:"error",result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function w4(n){var r,a,o,l,u,f;let{result:e,type:t}=n;if(_2(e)){let h;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new qh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?j1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qh(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:od(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:od(e)?e.status:void 0}:j1(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function E4(n,e,t,r,a){let o=n.headers.get("Location");if(ct(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gv.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);o=r0(new URL(e.url),l,a,o),n.headers.set("Location",o)}return n}function N1(n,e,t){if(gv.test(n)){let r=n,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=ga(a.pathname,t)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return n}function $l(n,e,t,r){let a=n.createURL(x2(e)).toString(),o={signal:t};if(r&&Da(r.formMethod)){let{formMethod:l,formEncType:u}=r;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(r.json)):u==="text/plain"?o.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?o.body=i0(r.formData):o.body=r.formData}return new Request(a,o)}function i0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function M1(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function T4(n,e,t,r=!1,a=!1){let o={},l=null,u,f=!1,h={},g=t&&Fr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let x=v.route.id,w=e[x];if(ct(!Lo(w),"Cannot handle redirect results in processLoaderData"),Fr(w)){let T=w.error;if(g!==void 0&&(T=g,g=void 0),l=l||{},a)l[x]=T;else{let A=Vo(n,x);l[A.route.id]==null&&(l[A.route.id]=T)}r||(o[x]=y2),f||(f=!0,u=od(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else o[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(u=w.statusCode),w.headers&&(h[x]=w.headers)}),g!==void 0&&t&&(l={[t[0]]:g},o[t[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:h}}function k1(n,e,t,r,a,o){let{loaderData:l,errors:u}=T4(e,t,r);return a.forEach(f=>{let{key:h,match:g,controller:v}=f,x=o[h];if(ct(x,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Fr(x)){let w=Vo(n.matches,g==null?void 0:g.route.id);u&&u[w.route.id]||(u={...u,[w.route.id]:x.error}),n.fetchers.delete(h)}else if(Lo(x))ct(!1,"Unhandled fetcher revalidation redirect");else{let w=Cs(x.data);n.fetchers.set(h,w)}}),{loaderData:l,errors:u}}function P1(n,e,t,r){let a=Object.entries(e).filter(([,o])=>o!==y2).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of t){let l=o.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(a[l]=n[l]),r&&r.hasOwnProperty(l))break}return a}function O1(n){return n?Fr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Vo(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function I1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function da(n,{pathname:e,routeId:t,method:r,type:a,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new qh(n||500,l,new Error(u),!0)}function ih(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,a]=e[t];if(Lo(a))return{key:r,result:a}}}function x2(n){let e=typeof n=="string"?Xs(n):n;return Bs({...e,hash:""})}function S4(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function D4(n){return _2(n.result)&&c4.has(n.result.status)}function Fr(n){return n.type==="error"}function Lo(n){return(n&&n.type)==="redirect"}function j1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function _2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function A4(n){return l4.has(n.toUpperCase())}function Da(n){return s4.has(n.toUpperCase())}function yv(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Hu(n,e){let t=typeof e=="string"?Xs(e).search:e.search;if(n[n.length-1].route.index&&yv(t||""))return n[n.length-1];let r=m2(n);return r[r.length-1]}function V1(n){let{formMethod:e,formAction:t,formEncType:r,text:a,formData:o,json:l}=n;if(!(!e||!t||!r)){if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ey(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function C4(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Iu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function R4(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Cs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function N4(n,e){try{let t=n.sessionStorage.getItem(g2);if(t){let r=JSON.parse(t);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function M4(n,e){if(e.size>0){let t={};for(let[r,a]of e)t[r]=[...a];try{n.sessionStorage.setItem(g2,JSON.stringify(t))}catch(r){Jn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function k4(){let n,e,t=new Promise((r,a)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{a(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var el=k.createContext(null);el.displayName="DataRouter";var Rd=k.createContext(null);Rd.displayName="DataRouterState";var vv=k.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var w2=k.createContext(new Map);w2.displayName="Fetchers";var P4=k.createContext(null);P4.displayName="Await";var ui=k.createContext(null);ui.displayName="Navigation";var Om=k.createContext(null);Om.displayName="Location";var di=k.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var bv=k.createContext(null);bv.displayName="RouteError";function O4(n,{relative:e}={}){ct(Nd(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=k.useContext(ui),{hash:a,pathname:o,search:l}=Md(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:ti([t,o])),r.createHref({pathname:u,search:l,hash:a})}function Nd(){return k.useContext(Om)!=null}function ka(){return ct(Nd(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Om).location}var E2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T2(n){k.useContext(ui).static||k.useLayoutEffect(n)}function tr(){let{isDataRoute:n}=k.useContext(di);return n?G4():I4()}function I4(){ct(Nd(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(el),{basename:e,navigator:t}=k.useContext(ui),{matches:r}=k.useContext(di),{pathname:a}=ka(),o=JSON.stringify(mv(r)),l=k.useRef(!1);return T2(()=>{l.current=!0}),k.useCallback((f,h={})=>{if(Jn(l.current,E2),!l.current)return;if(typeof f=="number"){t.go(f);return}let g=pv(f,JSON.parse(o),a,h.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ti([e,g.pathname])),(h.replace?t.replace:t.push)(g,h.state,h)},[e,t,o,a,n])}k.createContext(null);function Im(){let{matches:n}=k.useContext(di),e=n[n.length-1];return e?e.params:{}}function Md(n,{relative:e}={}){let{matches:t}=k.useContext(di),{pathname:r}=ka(),a=JSON.stringify(mv(t));return k.useMemo(()=>pv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function j4(n,e,t,r){ct(Nd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=k.useContext(ui),{matches:l}=k.useContext(di),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",v=u&&u.route;{let U=v&&v.path||"";S2(h,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=ka(),w;w=x;let T=w.pathname||"/",A=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=!o&&t&&t.matches&&t.matches.length>0?t.matches:Ns(n,{pathname:A});return Jn(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),F4(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:ti([g,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:ti([g,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,t,r)}function V4(){let n=$4(),e=od(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:o},"ErrorBoundary")," or"," ",k.createElement("code",{style:o},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:a},t):null,l)}var L4=k.createElement(V4,null),U4=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?k.createElement(di.Provider,{value:this.props.routeContext},k.createElement(bv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B4({routeContext:n,match:e,children:t}){let r=k.useContext(el);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(di.Provider,{value:n},t)}function F4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=t==null?void 0:t.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:v}=t,x=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,g)=>{let v,x=!1,w=null,T=null;t&&(v=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||L4,l&&(u<0&&g===0?(S2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===g&&(x=!0,T=h.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),D=()=>{let O;return v?O=w:x?O=T:h.route.Component?O=k.createElement(h.route.Component,null):h.route.element?O=h.route.element:O=f,k.createElement(B4,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:O})};return t&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?k.createElement(U4,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):D()},null)}function xv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z4(n){let e=k.useContext(el);return ct(e,xv(n)),e}function H4(n){let e=k.useContext(Rd);return ct(e,xv(n)),e}function Y4(n){let e=k.useContext(di);return ct(e,xv(n)),e}function _v(n){let e=Y4(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function q4(){return _v("useRouteId")}function $4(){var r;let n=k.useContext(bv),e=H4("useRouteError"),t=_v("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function G4(){let{router:n}=z4("useNavigate"),e=_v("useNavigate"),t=k.useRef(!1);return T2(()=>{t.current=!0}),k.useCallback(async(a,o={})=>{Jn(t.current,E2),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var L1={};function S2(n,e,t){!e&&!L1[n]&&(L1[n]=!0,Jn(!1,t))}var U1={};function B1(n,e){!n&&!U1[e]&&(U1[e]=!0,console.warn(e))}function Q4(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Jn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Jn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Jn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var K4=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function W4({router:n,flushSync:e}){let[t,r]=k.useState(n.state),[a,o]=k.useState(),[l,u]=k.useState({isTransitioning:!1}),[f,h]=k.useState(),[g,v]=k.useState(),[x,w]=k.useState(),T=k.useRef(new Map),A=k.useCallback((B,{deletedFetchers:Y,flushSync:M,viewTransitionOpts:$})=>{B.fetchers.forEach((C,R)=>{C.data!==void 0&&T.current.set(R,C.data)}),Y.forEach(C=>T.current.delete(C)),B1(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let j=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(B1($==null||j,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!$||!j){e&&M?e(()=>r(B)):k.startTransition(()=>r(B));return}if(e&&M){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:$.currentLocation,nextLocation:$.nextLocation})});let C=n.window.document.startViewTransition(()=>{e(()=>r(B))});C.finished.finally(()=>{e(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})})}),e(()=>v(C));return}g?(f&&f.resolve(),g.skipTransition(),w({state:B,currentLocation:$.currentLocation,nextLocation:$.nextLocation})):(o(B),u({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}))},[n.window,e,g,f]);k.useLayoutEffect(()=>n.subscribe(A),[n,A]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new K4)},[l]),k.useEffect(()=>{if(f&&a&&n.window){let B=a,Y=f.promise,M=n.window.document.startViewTransition(async()=>{k.startTransition(()=>r(B)),await Y});M.finished.finally(()=>{h(void 0),v(void 0),o(void 0),u({isTransitioning:!1})}),v(M)}},[a,f,n.window]),k.useEffect(()=>{f&&a&&t.location.key===a.location.key&&f.resolve()},[f,g,t.location,a]),k.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),w(void 0))},[l.isTransitioning,x]);let D=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,Y,M)=>n.navigate(B,{state:Y,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(B,Y,M)=>n.navigate(B,{replace:!0,state:Y,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),O=n.basename||"/",U=k.useMemo(()=>({router:n,navigator:D,static:!1,basename:O}),[n,D,O]);return k.createElement(k.Fragment,null,k.createElement(el.Provider,{value:U},k.createElement(Rd.Provider,{value:t},k.createElement(w2.Provider,{value:T.current},k.createElement(vv.Provider,{value:l},k.createElement(J4,{basename:O,location:t.location,navigationType:t.historyAction,navigator:D},k.createElement(X4,{routes:n.routes,future:n.future,state:t})))))),null)}var X4=k.memo(Z4);function Z4({routes:n,future:e,state:t}){return j4(n,void 0,t,e)}function Rr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:o=!1}){ct(!Nd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:a,static:o,future:{}}),[l,a,o]);typeof t=="string"&&(t=Xs(t));let{pathname:f="/",search:h="",hash:g="",state:v=null,key:x="default"}=t,w=k.useMemo(()=>{let T=ga(f,l);return T==null?null:{location:{pathname:T,search:h,hash:g,state:v,key:x},navigationType:r}},[l,f,h,g,v,x,r]);return Jn(w!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:k.createElement(ui.Provider,{value:u},k.createElement(Om.Provider,{children:e,value:w}))}function s0(n,e=[]){let t=[];return k.Children.forEach(n,(r,a)=>{if(!k.isValidElement(r))return;let o=[...e,a];if(r.type===k.Fragment){t.push.apply(t,s0(r.props.children,o));return}ct(r.type===Rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=s0(r.props.children,o)),t.push(l)}),t}var ek=s0,Sh="get",Dh="application/x-www-form-urlencoded";function jm(n){return n!=null&&typeof n.tagName=="string"}function tk(n){return jm(n)&&n.tagName.toLowerCase()==="button"}function nk(n){return jm(n)&&n.tagName.toLowerCase()==="form"}function rk(n){return jm(n)&&n.tagName.toLowerCase()==="input"}function ak(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ik(n,e){return n.button===0&&(!e||e==="_self")&&!ak(n)}var sh=null;function sk(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ty(n){return n!=null&&!ok.has(n)?(Jn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dh}"`),null):n}function lk(n,e){let t,r,a,o,l;if(nk(n)){let u=n.getAttribute("action");r=u?ga(u,e):null,t=n.getAttribute("method")||Sh,a=Ty(n.getAttribute("enctype"))||Dh,o=new FormData(n)}else if(tk(n)||rk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?ga(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Sh,a=Ty(n.getAttribute("formenctype"))||Ty(u.getAttribute("enctype"))||Dh,o=new FormData(u,n),!sk()){let{name:h,type:g,value:v}=n;if(g==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,v)}}else{if(jm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,r=null,a=Dh,l=n}return o&&a==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:o,body:l}}function wv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ck(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dk(n,e,t){let r=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let l=await ck(o,t);return l.links?l.links():[]}return[]}));return pk(r.flat(1).filter(uk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function F1(n,e,t,r,a,o){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var g;return t[h].pathname!==f.pathname||((g=t[h].route.path)==null?void 0:g.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fk(n,e,{includeHydrateFallback:t}={}){return hk(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function hk(n){return[...new Set(n)]}function mk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function pk(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let o=JSON.stringify(mk(a));return t.has(o)||(t.add(o),r.push({key:o,link:a})),r},[])}function gk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function D2(){let n=k.useContext(el);return wv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function yk(){let n=k.useContext(Rd);return wv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ev=k.createContext(void 0);Ev.displayName="FrameworkContext";function A2(){let n=k.useContext(Ev);return wv(n,"You must render this element inside a <HydratedRouter> element"),n}function vk(n,e){let t=k.useContext(Ev),[r,a]=k.useState(!1),[o,l]=k.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:v}=e,x=k.useRef(null);k.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=O=>{O.forEach(U=>{l(U.isIntersecting)})},D=new IntersectionObserver(A,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[n]),k.useEffect(()=>{if(r){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{a(!0)},T=()=>{a(!1),l(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:ju(u,w),onBlur:ju(f,T),onMouseEnter:ju(h,w),onMouseLeave:ju(g,T),onTouchStart:ju(v,w)}]:[!1,x,{}]}function ju(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bk({page:n,...e}){let{router:t}=D2(),r=k.useMemo(()=>Ns(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?k.createElement(_k,{page:n,matches:r,...e}):null}function xk(n){let{manifest:e,routeModules:t}=A2(),[r,a]=k.useState([]);return k.useEffect(()=>{let o=!1;return dk(n,e,t).then(l=>{o||a(l)}),()=>{o=!0}},[n,e,t]),r}function _k({page:n,matches:e,...t}){let r=ka(),{manifest:a,routeModules:o}=A2(),{basename:l}=D2(),{loaderData:u,matches:f}=yk(),h=k.useMemo(()=>F1(n,e,f,a,r,"data"),[n,e,f,a,r]),g=k.useMemo(()=>F1(n,e,f,a,r,"assets"),[n,e,f,a,r]),v=k.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(O=>{var B;let U=a.routes[O.route.id];!U||!U.hasLoader||(!h.some(Y=>Y.route.id===O.route.id)&&O.route.id in u&&((B=o[O.route.id])!=null&&B.shouldRevalidate)||U.hasClientLoader?A=!0:T.add(O.route.id))}),T.size===0)return[];let D=gk(n,l);return A&&T.size>0&&D.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[l,u,r,a,h,e,n,o]),x=k.useMemo(()=>fk(g,a),[g,a]),w=xk(g);return k.createElement(k.Fragment,null,v.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),x.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:A})=>k.createElement("link",{key:T,...A})))}function wk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var C2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C2&&(window.__reactRouterVersion="7.4.0")}catch{}function Ek(n,e){return h4({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:VM({window:e==null?void 0:e.window}),hydrationData:Tk(),routes:n,mapRouteProperties:Q4,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Tk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Sk(n.errors)}),n}function Sk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")t[r]=new qh(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let o=new Error(a.message);o.stack="",t[r]=o}}else t[r]=a;return t}var R2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=k.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:g,viewTransition:v,...x},w){let{basename:T}=k.useContext(ui),A=typeof h=="string"&&R2.test(h),D,O=!1;if(typeof h=="string"&&A&&(D=h,C2))try{let R=new URL(window.location.href),N=h.startsWith("//")?new URL(R.protocol+h):new URL(h),L=ga(N.pathname,T);N.origin===R.origin&&L!=null?h=L+N.search+N.hash:O=!0}catch{Jn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=O4(h,{relative:a}),[B,Y,M]=vk(r,x),$=Rk(h,{replace:l,state:u,target:f,preventScrollReset:g,relative:a,viewTransition:v});function j(R){e&&e(R),R.defaultPrevented||$(R)}let C=k.createElement("a",{...x,...M,href:D||U,onClick:O||o?e:j,ref:wk(w,Y),target:f,"data-discover":!A&&t==="render"?"true":void 0});return B&&!A?k.createElement(k.Fragment,null,C,k.createElement(bk,{page:U})):C});$h.displayName="Link";var Dk=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:u,children:f,...h},g){let v=Md(l,{relative:h.relative}),x=ka(),w=k.useContext(Rd),{navigator:T,basename:A}=k.useContext(ui),D=w!=null&&Ok(v)&&u===!0,O=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,U=x.pathname,B=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(U=U.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&A&&(B=ga(B,A)||B);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let M=U===O||!a&&U.startsWith(O)&&U.charAt(Y)==="/",$=B!=null&&(B===O||!a&&B.startsWith(O)&&B.charAt(O.length)==="/"),j={isActive:M,isPending:$,isTransitioning:D},C=M?e:void 0,R;typeof r=="function"?R=r(j):R=[r,M?"active":null,$?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(j):o;return k.createElement($h,{...h,"aria-current":C,className:R,ref:g,style:N,to:l,viewTransition:u},typeof f=="function"?f(j):f)});Dk.displayName="NavLink";var Ak=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:o,method:l=Sh,action:u,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:v,...x},w)=>{let T=kk(),A=Pk(u,{relative:h}),D=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&R2.test(u),U=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let Y=B.nativeEvent.submitter,M=(Y==null?void 0:Y.getAttribute("formmethod"))||l;T(Y||B.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:a,state:o,relative:h,preventScrollReset:g,viewTransition:v})};return k.createElement("form",{ref:w,method:D,action:A,onSubmit:r?f:U,...x,"data-discover":!O&&n==="render"?"true":void 0})});Ak.displayName="Form";function Ck(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N2(n){let e=k.useContext(el);return ct(e,Ck(n)),e}function Rk(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:o,viewTransition:l}={}){let u=tr(),f=ka(),h=Md(n,{relative:o});return k.useCallback(g=>{if(ik(g,e)){g.preventDefault();let v=t!==void 0?t:Bs(f)===Bs(h);u(n,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[f,u,h,t,r,e,n,a,o,l])}var Nk=0,Mk=()=>`__${String(++Nk)}__`;function kk(){let{router:n}=N2("useSubmit"),{basename:e}=k.useContext(ui),t=q4();return k.useCallback(async(r,a={})=>{let{action:o,method:l,encType:u,formData:f,body:h}=lk(r,e);if(a.navigate===!1){let g=a.fetcherKey||Mk();await n.fetch(g,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Pk(n,{relative:e}={}){let{basename:t}=k.useContext(ui),r=k.useContext(di);ct(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Md(n||".",{relative:e})},l=ka();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let g=u.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ti([t,o.pathname])),Bs(o)}function Ok(n,e={}){let t=k.useContext(vv);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N2("useViewTransitionState"),a=Md(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Yh(a.pathname,l)!=null||Yh(a.pathname,o)!=null}new TextEncoder;var Tv=u2();const Ik=c2(Tv);/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jk(n){return k.createElement(W4,{flushSync:Tv.flushSync,...n})}const Sv=k.createContext({});function Dv(n){const e=k.useRef(null);return e.current===null&&(e.current=n()),e.current}const Av=typeof window<"u",M2=Av?k.useLayoutEffect:k.useEffect,Vm=k.createContext(null),Cv=k.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Vk extends k.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lk({children:n,isPresent:e,anchorX:t}){const r=k.useId(),a=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(Cv);return k.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:g,right:v}=o.current;if(e||!a.current||!u||!f)return;const x=t==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return l&&(w.nonce=l),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),y.jsx(Vk,{isPresent:e,childRef:a,sizeRef:o,children:k.cloneElement(n,{ref:a})})}const Uk=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:l,anchorX:u})=>{const f=Dv(Bk),h=k.useId(),g=k.useCallback(x=>{f.set(x,!0);for(const w of f.values())if(!w)return;r&&r()},[f,r]),v=k.useMemo(()=>({id:h,initial:e,isPresent:t,custom:a,onExitComplete:g,register:x=>(f.set(x,!1),()=>f.delete(x))}),o?[Math.random(),g]:[t,g]);return k.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[t]),k.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=y.jsx(Lk,{isPresent:t,anchorX:u,children:n})),y.jsx(Vm.Provider,{value:v,children:n})};function Bk(){return new Map}function k2(n=!0){const e=k.useContext(Vm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:a}=e,o=k.useId();k.useEffect(()=>{if(n)return a(o)},[n]);const l=k.useCallback(()=>n&&r&&r(o),[o,r,n]);return!t&&r?[!1,l]:[!0]}const oh=n=>n.key||"";function z1(n){const e=[];return k.Children.forEach(n,t=>{k.isValidElement(t)&&e.push(t)}),e}const Fk=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:l=!1,anchorX:u="left"})=>{const[f,h]=k2(l),g=k.useMemo(()=>z1(n),[n]),v=l&&!f?[]:g.map(oh),x=k.useRef(!0),w=k.useRef(g),T=Dv(()=>new Map),[A,D]=k.useState(g),[O,U]=k.useState(g);M2(()=>{x.current=!1,w.current=g;for(let M=0;M<O.length;M++){const $=oh(O[M]);v.includes($)?T.delete($):T.get($)!==!0&&T.set($,!1)}},[O,v.length,v.join("-")]);const B=[];if(g!==A){let M=[...g];for(let $=0;$<O.length;$++){const j=O[$],C=oh(j);v.includes(C)||(M.splice($,0,j),B.push(j))}return o==="wait"&&B.length&&(M=B),U(z1(M)),D(g),null}const{forceRender:Y}=k.useContext(Sv);return y.jsx(y.Fragment,{children:O.map(M=>{const $=oh(M),j=l&&!f?!1:g===O||v.includes($),C=()=>{if(T.has($))T.set($,!0);else return;let R=!0;T.forEach(N=>{N||(R=!1)}),R&&(Y==null||Y(),U(w.current),l&&(h==null||h()),r&&r())};return y.jsx(Uk,{isPresent:j,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:j?void 0:C,anchorX:u,children:M},$)})})};function Rv(n,e){n.indexOf(e)===-1&&n.push(e)}function Nv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hr=n=>n;let P2=Hr;const zk={useManualTiming:!1};function Mv(n){let e;return()=>(e===void 0&&(e=n()),e)}const oc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class kv{constructor(){this.subscriptions=[]}add(e){return Rv(this.subscriptions,e),()=>Nv(this.subscriptions,e)}notify(e,t,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,r);else for(let o=0;o<a;o++){const l=this.subscriptions[o];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=n=>n*1e3,Bi=n=>n/1e3;function O2(n,e){return e?n*(1e3/e):0}const Hk=Mv(()=>window.ScrollTimeline!==void 0);class Yk{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(a=>{if(Hk()&&a.attachTimeline)return a.attachTimeline(e);if(typeof t=="function")return t(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qk extends Yk{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Pv(n,e){return n?n[e]||n.default||n:void 0}const o0=2e4;function I2(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<o0;)e+=t,r=n.next(e);return e>=o0?1/0:e}function Ov(n){return typeof n=="function"}function H1(n,e){n.timeline=e,n.onfinish=null}const Iv=n=>Array.isArray(n)&&typeof n[0]=="number",$k={linearEasing:void 0};function Gk(n,e){const t=Mv(n);return()=>{var r;return(r=$k[e])!==null&&r!==void 0?r:t()}}const Gh=Gk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),j2=(n,e,t=10)=>{let r="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)r+=n(oc(0,a-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function V2(n){return!!(typeof n=="function"&&Gh()||!n||typeof n=="string"&&(n in l0||Gh())||Iv(n)||Array.isArray(n)&&n.every(V2))}const Yu=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,l0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yu([0,.65,.55,1]),circOut:Yu([.55,0,1,.45]),backIn:Yu([.31,.01,.66,-.59]),backOut:Yu([.33,1.53,.69,.99])};function L2(n,e){if(n)return typeof n=="function"&&Gh()?j2(n,e):Iv(n)?Yu(n):Array.isArray(n)?n.map(t=>L2(t,e)||l0.easeOut):l0[n]}const lh=["read","resolveKeyframes","update","preRender","render","postRender"],Y1={value:null};function Qk(n,e){let t=new Set,r=new Set,a=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function h(v){l.has(v)&&(g.schedule(v),n()),f++,v(u)}const g={schedule:(v,x=!1,w=!1)=>{const A=w&&a?t:r;return x&&l.add(v),A.has(v)||A.add(v),v},cancel:v=>{r.delete(v),l.delete(v)},process:v=>{if(u=v,a){o=!0;return}a=!0,[t,r]=[r,t],t.forEach(h),e&&Y1.value&&Y1.value.frameloop[e].push(f),f=0,t.clear(),a=!1,o&&(o=!1,g.process(v))}};return g}const Kk=40;function U2(n,e){let t=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=lh.reduce((O,U)=>(O[U]=Qk(o,e?U:void 0),O),{}),{read:u,resolveKeyframes:f,update:h,preRender:g,render:v,postRender:x}=l,w=()=>{const O=performance.now();t=!1,a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,Kk),1),a.timestamp=O,a.isProcessing=!0,u.process(a),f.process(a),h.process(a),g.process(a),v.process(a),x.process(a),a.isProcessing=!1,t&&e&&(r=!1,n(w))},T=()=>{t=!0,r=!0,a.isProcessing||n(w)};return{schedule:lh.reduce((O,U)=>{const B=l[U];return O[U]=(Y,M=!1,$=!1)=>(t||T(),B.schedule(Y,M,$)),O},{}),cancel:O=>{for(let U=0;U<lh.length;U++)l[lh[U]].cancel(O)},state:a,steps:l}}const{schedule:qt,cancel:Fs,state:Kn,steps:Sy}=U2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),{schedule:jv}=U2(queueMicrotask,!1);let Ah;function Wk(){Ah=void 0}const ni={now:()=>(Ah===void 0&&ni.set(Kn.isProcessing||zk.useManualTiming?Kn.timestamp:performance.now()),Ah),set:n=>{Ah=n,queueMicrotask(Wk)}},Sa={x:!1,y:!1};function B2(){return Sa.x||Sa.y}function Xk(n){return n==="x"||n==="y"?Sa[n]?null:(Sa[n]=!0,()=>{Sa[n]=!1}):Sa.x||Sa.y?null:(Sa.x=Sa.y=!0,()=>{Sa.x=Sa.y=!1})}function Zk(n,e,t){var r;if(n instanceof EventTarget)return[n];if(typeof n=="string"){let a=document;const o=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}function F2(n,e){const t=Zk(n),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[t,a,()=>r.abort()]}function q1(n){return!(n.pointerType==="touch"||B2())}function Jk(n,e,t={}){const[r,a,o]=F2(n,t),l=u=>{if(!q1(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const g=v=>{q1(v)&&(h(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),o}function $1(n,e){const t=`${e}PointerCapture`;if(n.target instanceof Element&&t in n.target&&n.pointerId!==void 0)try{n.target[t](n.pointerId)}catch{}}const z2=(n,e)=>e?n===e?!0:z2(n,e.parentElement):!1,Vv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,eP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tP(n){return eP.has(n.tagName)||n.tabIndex!==-1}const qu=new WeakSet;function G1(n){return e=>{e.key==="Enter"&&n(e)}}function Dy(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=G1(()=>{if(qu.has(t))return;Dy(t,"down");const a=G1(()=>{Dy(t,"up")}),o=()=>Dy(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function Q1(n){return Vv(n)&&!B2()}function rP(n,e,t={}){const[r,a,o]=F2(n,t),l=u=>{const f=u.currentTarget;if(!f||!Q1(u)||qu.has(f))return;qu.add(f),$1(u,"set");const h=e(f,u),g=(w,T)=>{f.removeEventListener("pointerup",v),f.removeEventListener("pointercancel",x),$1(w,"release"),!(!Q1(w)||!qu.has(f))&&(qu.delete(f),typeof h=="function"&&h(w,{success:T}))},v=w=>{(w.isTrusted?aP(w,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(w,!1):g(w,!(f instanceof Element)||z2(f,w.target))},x=w=>{g(w,!1)};f.addEventListener("pointerup",v,a),f.addEventListener("pointercancel",x,a),f.addEventListener("lostpointercapture",x,a)};return r.forEach(u=>{u=t.useGlobalTarget?window:u;let f=!1;u instanceof HTMLElement&&(f=!0,!tP(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0)),u.addEventListener("pointerdown",l,a),f&&u.addEventListener("focus",h=>nP(h,a),a)}),o}function aP(n,e){return n.clientX<e.left||n.clientX>e.right||n.clientY<e.top||n.clientY>e.bottom}const K1=30,iP=n=>!isNaN(parseFloat(n));class sP{constructor(e,t={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=ni.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ni.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new kv);const r=this.events[e].add(t);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,K1);return O2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ld(n,e){return new sP(n,e)}const H2=k.createContext({strict:!1}),W1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},lc={};for(const n in W1)lc[n]={isEnabled:e=>W1[n].some(t=>!!e[t])};function oP(n){for(const e in n)lc[e]={...lc[e],...n[e]}}const lP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Qh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||lP.has(n)}let Y2=n=>!Qh(n);function cP(n){n&&(Y2=e=>e.startsWith("on")?!Qh(e):n(e))}try{cP(require("@emotion/is-prop-valid").default)}catch{}function uP(n,e,t){const r={};for(const a in n)a==="values"&&typeof n.values=="object"||(Y2(a)||t===!0&&Qh(a)||!e&&!Qh(a)||n.draggable&&a.startsWith("onDrag"))&&(r[a]=n[a]);return r}function dP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,a)=>a==="create"?n:(e.has(a)||e.set(a,n(a)),e.get(a))})}const Lm=k.createContext({});function Um(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function cd(n){return typeof n=="string"||Array.isArray(n)}const Lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...Lv];function Bm(n){return Um(n.animate)||Uv.some(e=>cd(n[e]))}function q2(n){return!!(Bm(n)||n.variants)}function fP(n,e){if(Bm(n)){const{initial:t,animate:r}=n;return{initial:t===!1||cd(t)?t:void 0,animate:cd(r)?r:void 0}}return n.inherit!==!1?e:{}}function hP(n){const{initial:e,animate:t}=fP(n,k.useContext(Lm));return k.useMemo(()=>({initial:e,animate:t}),[X1(e),X1(t)])}function X1(n){return Array.isArray(n)?n.join(" "):n}const mP=Symbol.for("motionComponentSymbol");function Jl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pP(n,e,t){return k.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Jl(t)&&(t.current=r))},[e])}const Bv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gP="framerAppearId",$2="data-"+Bv(gP),G2=k.createContext({});function yP(n,e,t,r,a){var o,l;const{visualElement:u}=k.useContext(Lm),f=k.useContext(H2),h=k.useContext(Vm),g=k.useContext(Cv).reducedMotion,v=k.useRef(null);r=r||f.renderer,!v.current&&r&&(v.current=r(n,{visualState:e,parent:u,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:g}));const x=v.current,w=k.useContext(G2);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&vP(v.current,t,a,w);const T=k.useRef(!1);k.useInsertionEffect(()=>{x&&T.current&&x.update(t,h)});const A=t[$2],D=k.useRef(!!A&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,A))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,A)));return M2(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),jv.render(x.render),D.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!D.current&&x.animationState&&x.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,A)}),D.current=!1))}),x}function vP(n,e,t,r){const{layoutId:a,layout:o,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Q2(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!l||u&&Jl(u),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:h})}function Q2(n){if(n)return n.options.allowProjection!==!1?n.projection:Q2(n.parent)}function bP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:a}){var o,l;n&&oP(n);function u(h,g){let v;const x={...k.useContext(Cv),...h,layoutId:xP(h)},{isStatic:w}=x,T=hP(h),A=r(h,w);if(!w&&Av){_P();const D=wP(x);v=D.MeasureLayout,T.visualElement=yP(a,A,x,e,D.ProjectionNode)}return y.jsxs(Lm.Provider,{value:T,children:[v&&T.visualElement?y.jsx(v,{visualElement:T.visualElement,...x}):null,t(a,h,pP(A,T.visualElement,g),A,w,T.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${(l=(o=a.displayName)!==null&&o!==void 0?o:a.name)!==null&&l!==void 0?l:""})`}`;const f=k.forwardRef(u);return f[mP]=a,f}function xP({layoutId:n}){const e=k.useContext(Sv).id;return e&&n!==void 0?e+"-"+n:n}function _P(n,e){k.useContext(H2).strict}function wP(n){const{drag:e,layout:t}=lc;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const K2=n=>e=>typeof e=="string"&&e.startsWith(n),Fv=K2("--"),EP=K2("var(--"),zv=n=>EP(n)?TP.test(n.split("/*")[0].trim()):!1,TP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ud={};function SP(n){for(const e in n)ud[e]=n[e],Fv(e)&&(ud[e].isCSSVariable=!0)}const Ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tl=new Set(Ac);function W2(n,{layout:e,layoutId:t}){return tl.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ud[n]||n==="opacity")}const hr=n=>!!(n&&n.getVelocity),X2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Gi=(n,e,t)=>t>e?e:t<n?n:t,Cc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},dd={...Cc,transform:n=>Gi(0,1,n)},ch={...Cc,default:1},kd=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Rs=kd("deg"),ri=kd("%"),Qe=kd("px"),DP=kd("vh"),AP=kd("vw"),Z1={...ri,parse:n=>ri.parse(n)/100,transform:n=>ri.transform(n*100)},CP={borderWidth:Qe,borderTopWidth:Qe,borderRightWidth:Qe,borderBottomWidth:Qe,borderLeftWidth:Qe,borderRadius:Qe,radius:Qe,borderTopLeftRadius:Qe,borderTopRightRadius:Qe,borderBottomRightRadius:Qe,borderBottomLeftRadius:Qe,width:Qe,maxWidth:Qe,height:Qe,maxHeight:Qe,top:Qe,right:Qe,bottom:Qe,left:Qe,padding:Qe,paddingTop:Qe,paddingRight:Qe,paddingBottom:Qe,paddingLeft:Qe,margin:Qe,marginTop:Qe,marginRight:Qe,marginBottom:Qe,marginLeft:Qe,backgroundPositionX:Qe,backgroundPositionY:Qe},RP={rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:ch,scaleX:ch,scaleY:ch,scaleZ:ch,skew:Rs,skewX:Rs,skewY:Rs,distance:Qe,translateX:Qe,translateY:Qe,translateZ:Qe,x:Qe,y:Qe,z:Qe,perspective:Qe,transformPerspective:Qe,opacity:dd,originX:Z1,originY:Z1,originZ:Qe},J1={...Cc,transform:Math.round},Hv={...CP,...RP,zIndex:J1,size:Qe,fillOpacity:dd,strokeOpacity:dd,numOctaves:J1},NP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MP=Ac.length;function kP(n,e,t){let r="",a=!0;for(let o=0;o<MP;o++){const l=Ac[o],u=n[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||t){const h=X2(u,Hv[l]);if(!f){a=!1;const g=NP[l]||l;r+=`${g}(${h}) `}t&&(e[l]=h)}}return r=r.trim(),t?r=t(e,a?"":r):a&&(r="none"),r}function Yv(n,e,t){const{style:r,vars:a,transformOrigin:o}=n;let l=!1,u=!1;for(const f in e){const h=e[f];if(tl.has(f)){l=!0;continue}else if(Fv(f)){a[f]=h;continue}else{const g=X2(h,Hv[f]);f.startsWith("origin")?(u=!0,o[f]=g):r[f]=g}}if(e.transform||(l||t?r.transform=kP(e,n.transform,t):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${h} ${g}`}}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z2(n,e,t){for(const r in e)!hr(e[r])&&!W2(r,t)&&(n[r]=e[r])}function PP({transformTemplate:n},e){return k.useMemo(()=>{const t=qv();return Yv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function OP(n,e){const t=n.style||{},r={};return Z2(r,t,n),Object.assign(r,PP(n,e)),r}function IP(n,e){const t={},r=OP(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const jP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $v(n){return typeof n!="string"||n.includes("-")?!1:!!(jP.indexOf(n)>-1||/[A-Z]/u.test(n))}const VP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function UP(n,e,t=1,r=0,a=!0){n.pathLength=1;const o=a?VP:LP;n[o.offset]=Qe.transform(-r);const l=Qe.transform(e),u=Qe.transform(t);n[o.array]=`${l} ${u}`}function eE(n,e,t){return typeof n=="string"?n:Qe.transform(e+t*n)}function BP(n,e,t){const r=eE(e,n.x,n.width),a=eE(t,n.y,n.height);return`${r} ${a}`}function Gv(n,{attrX:e,attrY:t,attrScale:r,originX:a,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...h},g,v){if(Yv(n,h,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:w,dimensions:T}=n;x.transform&&(T&&(w.transform=x.transform),delete x.transform),T&&(a!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=BP(T,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(x.x=e),t!==void 0&&(x.y=t),r!==void 0&&(x.scale=r),l!==void 0&&UP(x,l,u,f,!1)}const J2=()=>({...qv(),attrs:{}}),Qv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function FP(n,e,t,r){const a=k.useMemo(()=>{const o=J2();return Gv(o,e,Qv(r),n.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};Z2(o,n.style,n),a.style={...o,...a.style}}return a}function zP(n=!1){return(t,r,a,{latestValues:o},l)=>{const f=($v(t)?FP:IP)(r,o,l,t),h=uP(r,typeof t=="string",n),g=t!==k.Fragment?{...h,...f,ref:a}:{},{children:v}=r,x=k.useMemo(()=>hr(v)?v.get():v,[v]);return k.createElement(t,{...g,children:x})}}function tE(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Kv(n,e,t,r){if(typeof e=="function"){const[a,o]=tE(r);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=tE(r);e=e(t!==void 0?t:n.custom,a,o)}return e}const c0=n=>Array.isArray(n),HP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),YP=n=>c0(n)?n[n.length-1]||0:n;function Ch(n){const e=hr(n)?n.get():n;return HP(e)?e.toValue():e}function qP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,a,o){const l={latestValues:$P(r,a,o,n),renderState:e()};return t&&(l.onMount=u=>t({props:r,current:u,...l}),l.onUpdate=u=>t(u)),l}const eD=n=>(e,t)=>{const r=k.useContext(Lm),a=k.useContext(Vm),o=()=>qP(n,e,r,a);return t?o():Dv(o)};function $P(n,e,t,r){const a={},o=r(n,{});for(const x in o)a[x]=Ch(o[x]);let{initial:l,animate:u}=n;const f=Bm(n),h=q2(n);e&&h&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const v=g?u:l;if(v&&typeof v!="boolean"&&!Um(v)){const x=Array.isArray(v)?v:[v];for(let w=0;w<x.length;w++){const T=Kv(n,x[w]);if(T){const{transitionEnd:A,transition:D,...O}=T;for(const U in O){let B=O[U];if(Array.isArray(B)){const Y=g?B.length-1:0;B=B[Y]}B!==null&&(a[U]=B)}for(const U in A)a[U]=A[U]}}}return a}function Wv(n,e,t){var r;const{style:a}=n,o={};for(const l in a)(hr(a[l])||e.style&&hr(e.style[l])||W2(l,n)||((r=t==null?void 0:t.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[l]=a[l]);return o}const GP={useVisualState:eD({scrapeMotionValuesFromProps:Wv,createRenderState:qv})};function tD(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function nD(n,{style:e,vars:t},r,a){Object.assign(n.style,e,a&&a.getProjectionStyles(r));for(const o in t)n.style.setProperty(o,t[o])}const rD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aD(n,e,t,r){nD(n,e,void 0,r);for(const a in e.attrs)n.setAttribute(rD.has(a)?a:Bv(a),e.attrs[a])}function iD(n,e,t){const r=Wv(n,e,t);for(const a in n)if(hr(n[a])||hr(e[a])){const o=Ac.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=n[a]}return r}const nE=["x","y","width","height","cx","cy","r"],QP={useVisualState:eD({scrapeMotionValuesFromProps:iD,createRenderState:J2,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:a})=>{if(!t)return;let o=!!n.drag;if(!o){for(const u in a)if(tl.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<nE.length;u++){const f=nE[u];n[f]!==e[f]&&(l=!0)}l&&qt.read(()=>{tD(t,r),qt.render(()=>{Gv(r,a,Qv(t.tagName),n.transformTemplate),aD(t,r)})})}})};function KP(n,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...$v(r)?QP:GP,preloadedFeatures:n,useRender:zP(a),createVisualElement:e,Component:r};return bP(l)}}function fd(n,e,t){const r=n.getProps();return Kv(r,e,t!==void 0?t:r.custom,n)}const sD=new Set(["width","height","top","left","right","bottom",...Ac]);function WP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ld(t))}function XP(n,e){const t=fd(n,e);let{transitionEnd:r={},transition:a={},...o}=t||{};o={...o,...r};for(const l in o){const u=YP(o[l]);WP(n,l,u)}}function ZP(n){return!!(hr(n)&&n.add)}function u0(n,e){const t=n.getValue("willChange");if(ZP(t))return t.add(e)}function oD(n){return n.props[$2]}const lD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,JP=1e-7,eO=12;function tO(n,e,t,r,a){let o,l,u=0;do l=e+(t-e)/2,o=lD(l,r,a)-n,o>0?t=l:e=l;while(Math.abs(o)>JP&&++u<eO);return l}function Pd(n,e,t,r){if(n===e&&t===r)return Hr;const a=o=>tO(o,0,1,n,t);return o=>o===0||o===1?o:lD(a(o),e,r)}const cD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,uD=n=>e=>1-n(1-e),dD=Pd(.33,1.53,.69,.99),Xv=uD(dD),fD=cD(Xv),hD=n=>(n*=2)<1?.5*Xv(n):.5*(2-Math.pow(2,-10*(n-1))),Zv=n=>1-Math.sin(Math.acos(n)),mD=uD(Zv),pD=cD(Zv),gD=n=>/^0[^.\s]+$/u.test(n);function nO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||gD(n):!0}const Zu=n=>Math.round(n*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rO(n){return n==null}const aO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eb=(n,e)=>t=>!!(typeof t=="string"&&aO.test(t)&&t.startsWith(n)||e&&!rO(t)&&Object.prototype.hasOwnProperty.call(t,e)),yD=(n,e,t)=>r=>{if(typeof r!="string")return r;const[a,o,l,u]=r.match(Jv);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},iO=n=>Gi(0,255,n),Ay={...Cc,transform:n=>Math.round(iO(n))},Uo={test:eb("rgb","red"),parse:yD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Ay.transform(n)+", "+Ay.transform(e)+", "+Ay.transform(t)+", "+Zu(dd.transform(r))+")"};function sO(n){let e="",t="",r="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const d0={test:eb("#"),parse:sO,transform:Uo.transform},ec={test:eb("hsl","hue"),parse:yD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+ri.transform(Zu(e))+", "+ri.transform(Zu(t))+", "+Zu(dd.transform(r))+")"},lr={test:n=>Uo.test(n)||d0.test(n)||ec.test(n),parse:n=>Uo.test(n)?Uo.parse(n):ec.test(n)?ec.parse(n):d0.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Uo.transform(n):ec.transform(n)},oO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Jv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(oO))===null||t===void 0?void 0:t.length)||0)>0}const vD="number",bD="color",cO="var",uO="var(",rE="${}",dO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hd(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(dO,f=>(lr.test(f)?(r.color.push(o),a.push(bD),t.push(lr.parse(f))):f.startsWith(uO)?(r.var.push(o),a.push(cO),t.push(f)):(r.number.push(o),a.push(vD),t.push(parseFloat(f))),++o,rE)).split(rE);return{values:t,split:u,indexes:r,types:a}}function xD(n){return hd(n).values}function _D(n){const{split:e,types:t}=hd(n),r=e.length;return a=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],a[l]!==void 0){const u=t[l];u===vD?o+=Zu(a[l]):u===bD?o+=lr.transform(a[l]):o+=a[l]}return o}}const fO=n=>typeof n=="number"?0:n;function hO(n){const e=xD(n);return _D(n)(e.map(fO))}const zs={test:lO,parse:xD,createTransformer:_D,getAnimatableNone:hO},mO=new Set(["brightness","contrast","saturate","opacity"]);function pO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Jv)||[];if(!r)return n;const a=t.replace(r,"");let o=mO.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+a+")"}const gO=/\b([a-z-]*)\(.*?\)/gu,f0={...zs,getAnimatableNone:n=>{const e=n.match(gO);return e?e.map(pO).join(" "):n}},yO={...Hv,color:lr,backgroundColor:lr,outlineColor:lr,fill:lr,stroke:lr,borderColor:lr,borderTopColor:lr,borderRightColor:lr,borderBottomColor:lr,borderLeftColor:lr,filter:f0,WebkitFilter:f0},wD=n=>yO[n];function ED(n,e){let t=wD(n);return t!==f0&&(t=zs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const vO=new Set(["auto","none","0"]);function bO(n,e,t){let r=0,a;for(;r<n.length&&!a;){const o=n[r];typeof o=="string"&&!vO.has(o)&&hd(o).values.length&&(a=n[r]),r++}if(a&&t)for(const o of e)n[o]=ED(t,a)}const Bo=n=>n*180/Math.PI,h0=n=>{const e=Bo(Math.atan2(n[1],n[0]));return m0(e)},xO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:h0,rotateZ:h0,skewX:n=>Bo(Math.atan(n[1])),skewY:n=>Bo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},m0=n=>(n=n%360,n<0&&(n+=360),n),aE=h0,iE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),sE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),_O={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iE,scaleY:sE,scale:n=>(iE(n)+sE(n))/2,rotateX:n=>m0(Bo(Math.atan2(n[6],n[5]))),rotateY:n=>m0(Bo(Math.atan2(-n[2],n[0]))),rotateZ:aE,rotate:aE,skewX:n=>Bo(Math.atan(n[4])),skewY:n=>Bo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function oE(n){return n.includes("scale")?1:0}function p0(n,e){if(!n||n==="none")return oE(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(t)r=_O,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xO,a=u}if(!a)return oE(e);const o=r[e],l=a[1].split(",").map(EO);return typeof o=="function"?o(l):l[o]}const wO=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return p0(t,e)};function EO(n){return parseFloat(n.trim())}const lE=n=>n===Cc||n===Qe,TO=new Set(["x","y","z"]),SO=Ac.filter(n=>!TO.has(n));function DO(n){const e=[];return SO.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const cc={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>p0(e,"x"),y:(n,{transform:e})=>p0(e,"y")};cc.translateX=cc.x;cc.translateY=cc.y;const Ho=new Set;let g0=!1,y0=!1;function TD(){if(y0){const n=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const a=DO(r);a.length&&(t.set(r,a),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=t.get(r);a&&a.forEach(([o,l])=>{var u;(u=r.getValue(o))===null||u===void 0||u.set(l)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}y0=!1,g0=!1,Ho.forEach(n=>n.complete()),Ho.clear()}function SD(){Ho.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(y0=!0)})}function AO(){SD(),TD()}class tb{constructor(e,t,r,a,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=a,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),g0||(g0=!0,qt.read(SD),qt.resolveKeyframes(TD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&t){const f=r.readValue(t,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),CO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RO(n){const e=CO.exec(n);if(!e)return[,];const[,t,r,a]=e;return[`--${t??r}`,a]}function AD(n,e,t=1){const[r,a]=RO(n);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return DD(l)?parseFloat(l):l}return zv(a)?AD(a,e,t+1):a}const CD=n=>e=>e.test(n),NO={test:n=>n==="auto",parse:n=>n},RD=[Cc,Qe,ri,Rs,AP,DP,NO],cE=n=>RD.find(CD(n));class ND extends tb{constructor(e,t,r,a,o){super(e,t,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),zv(h))){const g=AD(h,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!sD.has(r)||e.length!==2)return;const[a,o]=e,l=cE(a),u=cE(o);if(l!==u)if(lE(l)&&lE(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let a=0;a<e.length;a++)nO(e[a])&&r.push(a);r.length&&bO(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=cc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}const uE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zs.test(n)||n==="0")&&!n.startsWith("url("));function MO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function kO(n,e,t,r){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],l=uE(a,e),u=uE(o,e);return!l||!u?!1:MO(n)||(t==="spring"||Ov(t))&&r}const PO=n=>n!==null;function Fm(n,{repeat:e,repeatType:t="loop"},r){const a=n.filter(PO),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const OO=40;class MD{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ni.now(),this.options={autoplay:e,delay:t,type:r,repeat:a,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&AO(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ni.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:l,onComplete:u,onUpdate:f,isGenerator:h}=this.options;if(!h&&!kO(e,r,a,o))if(l)this.options.duration=0;else{f&&f(Fm(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const en=(n,e,t)=>n+(e-n)*t;function Cy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function IO({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let a=0,o=0,l=0;if(!e)a=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;a=Cy(f,u,n+1/3),o=Cy(f,u,n),l=Cy(f,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Kh(n,e){return t=>t>0?e:n}const Ry=(n,e,t)=>{const r=n*n,a=t*(e*e-r)+r;return a<0?0:Math.sqrt(a)},jO=[d0,Uo,ec],VO=n=>jO.find(e=>e.test(n));function dE(n){const e=VO(n);if(!e)return!1;let t=e.parse(n);return e===ec&&(t=IO(t)),t}const fE=(n,e)=>{const t=dE(n),r=dE(e);if(!t||!r)return Kh(n,e);const a={...t};return o=>(a.red=Ry(t.red,r.red,o),a.green=Ry(t.green,r.green,o),a.blue=Ry(t.blue,r.blue,o),a.alpha=en(t.alpha,r.alpha,o),Uo.transform(a))},LO=(n,e)=>t=>e(n(t)),Od=(...n)=>n.reduce(LO),v0=new Set(["none","hidden"]);function UO(n,e){return v0.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function BO(n,e){return t=>en(n,e,t)}function nb(n){return typeof n=="number"?BO:typeof n=="string"?zv(n)?Kh:lr.test(n)?fE:HO:Array.isArray(n)?kD:typeof n=="object"?lr.test(n)?fE:FO:Kh}function kD(n,e){const t=[...n],r=t.length,a=n.map((o,l)=>nb(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)t[l]=a[l](o);return t}}function FO(n,e){const t={...n,...e},r={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(r[a]=nb(n[a])(n[a],e[a]));return a=>{for(const o in r)t[o]=r[o](a);return t}}function zO(n,e){var t;const r=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=n.indexes[l][a[l]],f=(t=n.values[u])!==null&&t!==void 0?t:0;r[o]=f,a[l]++}return r}const HO=(n,e)=>{const t=zs.createTransformer(e),r=hd(n),a=hd(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?v0.has(n)&&!a.values.length||v0.has(e)&&!r.values.length?UO(n,e):Od(kD(zO(r,a),a.values),t):Kh(n,e)};function PD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?en(n,e,t):nb(n)(n,e)}const YO=5;function OD(n,e,t){const r=Math.max(e-YO,0);return O2(t-n(r),e-r)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hE=.001;function qO({duration:n=cn.duration,bounce:e=cn.bounce,velocity:t=cn.velocity,mass:r=cn.mass}){let a,o,l=1-e;l=Gi(cn.minDamping,cn.maxDamping,l),n=Gi(cn.minDuration,cn.maxDuration,Bi(n)),l<1?(a=h=>{const g=h*l,v=g*n,x=g-t,w=b0(h,l),T=Math.exp(-v);return hE-x/w*T},o=h=>{const v=h*l*n,x=v*t+t,w=Math.pow(l,2)*Math.pow(h,2)*n,T=Math.exp(-v),A=b0(Math.pow(h,2),l);return(-a(h)+hE>0?-1:1)*((x-w)*T)/A}):(a=h=>{const g=Math.exp(-h*n),v=(h-t)*n+1;return-.001+g*v},o=h=>{const g=Math.exp(-h*n),v=(t-h)*(n*n);return g*v});const u=5/n,f=GO(a,o,u);if(n=Ui(n),isNaN(f))return{stiffness:cn.stiffness,damping:cn.damping,duration:n};{const h=Math.pow(f,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:n}}}const $O=12;function GO(n,e,t){let r=t;for(let a=1;a<$O;a++)r=r-n(r)/e(r);return r}function b0(n,e){return n*Math.sqrt(1-e*e)}const QO=["duration","bounce"],KO=["stiffness","damping","mass"];function mE(n,e){return e.some(t=>n[t]!==void 0)}function WO(n){let e={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...n};if(!mE(n,KO)&&mE(n,QO))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),a=r*r,o=2*Gi(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:cn.mass,stiffness:a,damping:o}}else{const t=qO(n);e={...e,...t,mass:cn.mass},e.isResolvedFromDuration=!0}return e}function ID(n=cn.visualDuration,e=cn.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:a}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:g,duration:v,velocity:x,isResolvedFromDuration:w}=WO({...t,velocity:-Bi(t.velocity||0)}),T=x||0,A=h/(2*Math.sqrt(f*g)),D=l-o,O=Bi(Math.sqrt(f/g)),U=Math.abs(D)<5;r||(r=U?cn.restSpeed.granular:cn.restSpeed.default),a||(a=U?cn.restDelta.granular:cn.restDelta.default);let B;if(A<1){const M=b0(O,A);B=$=>{const j=Math.exp(-A*O*$);return l-j*((T+A*O*D)/M*Math.sin(M*$)+D*Math.cos(M*$))}}else if(A===1)B=M=>l-Math.exp(-O*M)*(D+(T+O*D)*M);else{const M=O*Math.sqrt(A*A-1);B=$=>{const j=Math.exp(-A*O*$),C=Math.min(M*$,300);return l-j*((T+A*O*D)*Math.sinh(C)+M*D*Math.cosh(C))/M}}const Y={calculatedDuration:w&&v||null,next:M=>{const $=B(M);if(w)u.done=M>=v;else{let j=0;A<1&&(j=M===0?Ui(T):OD(B,M,$));const C=Math.abs(j)<=r,R=Math.abs(l-$)<=a;u.done=C&&R}return u.value=u.done?l:$,u},toString:()=>{const M=Math.min(I2(Y),o0),$=j2(j=>Y.next(M*j).value,M,30);return M+"ms "+$}};return Y}function pE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:f,restDelta:h=.5,restSpeed:g}){const v=n[0],x={done:!1,value:v},w=C=>u!==void 0&&C<u||f!==void 0&&C>f,T=C=>u===void 0?f:f===void 0||Math.abs(u-C)<Math.abs(f-C)?u:f;let A=t*e;const D=v+A,O=l===void 0?D:l(D);O!==D&&(A=O-v);const U=C=>-A*Math.exp(-C/r),B=C=>O+U(C),Y=C=>{const R=U(C),N=B(C);x.done=Math.abs(R)<=h,x.value=x.done?O:N};let M,$;const j=C=>{w(x.value)&&(M=C,$=ID({keyframes:[x.value,T(x.value)],velocity:OD(B,C,x.value),damping:a,stiffness:o,restDelta:h,restSpeed:g}))};return j(0),{calculatedDuration:null,next:C=>{let R=!1;return!$&&M===void 0&&(R=!0,Y(C),j(C)),M!==void 0&&C>=M?$.next(C-M):(!R&&Y(C),x)}}}const XO=Pd(.42,0,1,1),ZO=Pd(0,0,.58,1),jD=Pd(.42,0,.58,1),JO=n=>Array.isArray(n)&&typeof n[0]!="number",eI={linear:Hr,easeIn:XO,easeInOut:jD,easeOut:ZO,circIn:Zv,circInOut:pD,circOut:mD,backIn:Xv,backInOut:fD,backOut:dD,anticipate:hD},gE=n=>{if(Iv(n)){P2(n.length===4);const[e,t,r,a]=n;return Pd(e,t,r,a)}else if(typeof n=="string")return eI[n];return n};function tI(n,e,t){const r=[],a=t||PD,o=n.length-1;for(let l=0;l<o;l++){let u=a(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||Hr:e;u=Od(f,u)}r.push(u)}return r}function nI(n,e,{clamp:t=!0,ease:r,mixer:a}={}){const o=n.length;if(P2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=tI(e,r,a),f=u.length,h=g=>{if(l&&g<n[0])return e[0];let v=0;if(f>1)for(;v<n.length-2&&!(g<n[v+1]);v++);const x=oc(n[v],n[v+1],g);return u[v](x)};return t?g=>h(Gi(n[0],n[o-1],g)):h}function rI(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const a=oc(0,e,r);n.push(en(t,1,a))}}function aI(n){const e=[0];return rI(e,n.length-1),e}function iI(n,e){return n.map(t=>t*e)}function sI(n,e){return n.map(()=>e||jD).splice(0,n.length-1)}function Wh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const a=JO(r)?r.map(gE):gE(r),o={done:!1,value:e[0]},l=iI(t&&t.length===e.length?t:aI(e),n),u=nI(l,e,{ease:Array.isArray(a)?a:sI(e,a)});return{calculatedDuration:n,next:f=>(o.value=u(f),o.done=f>=n,o)}}const oI=n=>{const e=({timestamp:t})=>n(t);return{start:()=>qt.update(e,!0),stop:()=>Fs(e),now:()=>Kn.isProcessing?Kn.timestamp:ni.now()}},lI={decay:pE,inertia:pE,tween:Wh,keyframes:Wh,spring:ID},cI=n=>n/100;class rb extends MD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:a,keyframes:o}=this.options,l=(a==null?void 0:a.KeyframeResolver)||tb,u=(f,h)=>this.onKeyframesResolved(f,h);this.resolver=new l(o,u,t,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:l=0}=this.options,u=Ov(t)?t:lI[t]||Wh;let f,h;u!==Wh&&typeof e[0]!="number"&&(f=Od(cI,PD(e[0],e[1])),e=[0,100]);const g=u({...this.options,keyframes:e});o==="mirror"&&(h=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=I2(g));const{calculatedDuration:v}=g,x=v+a,w=x*(r+1)-a;return{generator:g,mirroredGenerator:h,mapPercentToKeyframes:f,calculatedDuration:v,resolvedDuration:x,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:h,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:x,repeat:w,repeatType:T,repeatDelay:A,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-x*(this.speed>=0?1:-1),U=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let B=this.currentTime,Y=o;if(w){const C=Math.min(this.currentTime,g)/v;let R=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&R--,R=Math.min(R,w+1),!!(R%2)&&(T==="reverse"?(N=1-N,A&&(N-=A/v)):T==="mirror"&&(Y=l)),B=Gi(0,1,N)*v}const M=U?{done:!1,value:f[0]}:Y.next(B);u&&(M.value=u(M.value));let{done:$}=M;!U&&h!==null&&($=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return j&&a!==void 0&&(M.value=Fm(f,this.options,a)),D&&D(M.value),j&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Bi(e.calculatedDuration):0}get time(){return Bi(this.currentTime)}set time(e){e=Ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Bi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oI,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uI=new Set(["opacity","clipPath","filter","transform"]);function dI(n,e,t,{delay:r=0,duration:a=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const h={[e]:t};f&&(h.offset=f);const g=L2(u,a);return Array.isArray(g)&&(h.easing=g),n.animate(h,{delay:r,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const fI=Mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xh=10,hI=2e4;function mI(n){return Ov(n.type)||n.type==="spring"||!V2(n.ease)}function pI(n,e){const t=new rb({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const a=[];let o=0;for(;!r.done&&o<hI;)r=t.sample(o),a.push(r.value),o+=Xh;return{times:void 0,keyframes:a,duration:o-Xh,ease:"linear"}}const VD={anticipate:hD,backInOut:fD,circInOut:pD};function gI(n){return n in VD}class yE extends MD{constructor(e){super(e);const{name:t,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new ND(o,(l,u)=>this.onKeyframesResolved(l,u),t,r,a),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:a,ease:o,type:l,motionValue:u,name:f,startTime:h}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Gh()&&gI(o)&&(o=VD[o]),mI(this.options)){const{onComplete:v,onUpdate:x,motionValue:w,element:T,...A}=this.options,D=pI(e,A);e=D.keyframes,e.length===1&&(e[1]=e[0]),r=D.duration,a=D.times,o=D.ease,l="keyframes"}const g=dI(u.owner.current,f,e,{...this.options,duration:r,times:a,ease:o});return g.startTime=h??this.calcStartTime(),this.pendingTimeline?(H1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;u.set(Fm(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:a,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Bi(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Bi(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Hr;const{animation:r}=t;H1(r,e)}return Hr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:a,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:g,onComplete:v,element:x,...w}=this.options,T=new rb({...w,keyframes:r,duration:a,type:o,ease:l,times:u,isGenerator:!0}),A=Ui(this.time);h.setWithVelocity(T.sample(A-Xh).value,T.sample(A).value,Xh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return fI()&&r&&uI.has(r)&&!f&&!h&&!a&&o!=="mirror"&&l!==0&&u!=="inertia"}}const yI={type:"spring",stiffness:500,damping:25,restSpeed:10},vI=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),bI={type:"keyframes",duration:.8},xI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_I=(n,{keyframes:e})=>e.length>2?bI:tl.has(n)?n.startsWith("scale")?vI(e[1]):yI:xI;function wI({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:l,repeatDelay:u,from:f,elapsed:h,...g}){return!!Object.keys(g).length}const ab=(n,e,t,r={},a,o)=>l=>{const u=Pv(r,n)||{},f=u.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ui(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:o?void 0:a};wI(u)||(g={...g,..._I(n,g)}),g.duration&&(g.duration=Ui(g.duration)),g.repeatDelay&&(g.repeatDelay=Ui(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!u.type&&!u.ease,v&&!o&&e.get()!==void 0){const x=Fm(g.keyframes,u);if(x!==void 0)return qt.update(()=>{g.onUpdate(x),g.onComplete()}),new qk([])}return!o&&yE.supports(g)?new yE(g):new rb(g)};function EI({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function LD(n,e,{delay:t=0,transitionOverride:r,type:a}={}){var o;let{transition:l=n.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(l=r);const h=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in f){const x=n.getValue(v,(o=n.latestValues[v])!==null&&o!==void 0?o:null),w=f[v];if(w===void 0||g&&EI(g,v))continue;const T={delay:t,...Pv(l||{},v)};let A=!1;if(window.MotionHandoffAnimation){const O=oD(n);if(O){const U=window.MotionHandoffAnimation(O,v,qt);U!==null&&(T.startTime=U,A=!0)}}u0(n,v),x.start(ab(v,x,w,n.shouldReduceMotion&&sD.has(v)?{type:!1}:T,n,A));const D=x.animation;D&&h.push(D)}return u&&Promise.all(h).then(()=>{qt.update(()=>{u&&XP(n,u)})}),h}function x0(n,e,t={}){var r;const a=fd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=a||{};t.transitionOverride&&(o=t.transitionOverride);const l=a?()=>Promise.all(LD(n,a,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:x}=o;return TI(n,e,g+h,v,x,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[h,g]=f==="beforeChildren"?[l,u]:[u,l];return h().then(()=>g())}else return Promise.all([l(),u(t.delay)])}function TI(n,e,t=0,r=0,a=1,o){const l=[],u=(n.variantChildren.size-1)*r,f=a===1?(h=0)=>h*r:(h=0)=>u-h*r;return Array.from(n.variantChildren).sort(SI).forEach((h,g)=>{h.notify("AnimationStart",e),l.push(x0(h,e,{...o,delay:t+f(g)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function SI(n,e){return n.sortNodePosition(e)}function DI(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>x0(n,o,t));r=Promise.all(a)}else if(typeof e=="string")r=x0(n,e,t);else{const a=typeof e=="function"?fd(n,e,t.custom):e;r=Promise.all(LD(n,a,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function UD(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const AI=Uv.length;function BD(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?BD(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<AI;t++){const r=Uv[t],a=n.props[r];(cd(a)||a===!1)&&(e[r]=a)}return e}const CI=[...Lv].reverse(),RI=Lv.length;function NI(n){return e=>Promise.all(e.map(({animation:t,options:r})=>DI(n,t,r)))}function MI(n){let e=NI(n),t=vE(),r=!0;const a=f=>(h,g)=>{var v;const x=fd(n,g,f==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(x){const{transition:w,transitionEnd:T,...A}=x;h={...h,...A,...T}}return h};function o(f){e=f(n)}function l(f){const{props:h}=n,g=BD(n.parent)||{},v=[],x=new Set;let w={},T=1/0;for(let D=0;D<RI;D++){const O=CI[D],U=t[O],B=h[O]!==void 0?h[O]:g[O],Y=cd(B),M=O===f?U.isActive:null;M===!1&&(T=D);let $=B===g[O]&&B!==h[O]&&Y;if($&&r&&n.manuallyAnimateOnMount&&($=!1),U.protectedKeys={...w},!U.isActive&&M===null||!B&&!U.prevProp||Um(B)||typeof B=="boolean")continue;const j=kI(U.prevProp,B);let C=j||O===f&&U.isActive&&!$&&Y||D>T&&Y,R=!1;const N=Array.isArray(B)?B:[B];let L=N.reduce(a(O),{});M===!1&&(L={});const{prevResolvedValues:H={}}=U,F={...H,...L},Se=ne=>{C=!0,x.has(ne)&&(R=!0,x.delete(ne)),U.needsAnimating[ne]=!0;const oe=n.getValue(ne);oe&&(oe.liveStyle=!1)};for(const ne in F){const oe=L[ne],be=H[ne];if(w.hasOwnProperty(ne))continue;let P=!1;c0(oe)&&c0(be)?P=!UD(oe,be):P=oe!==be,P?oe!=null?Se(ne):x.add(ne):oe!==void 0&&x.has(ne)?Se(ne):U.protectedKeys[ne]=!0}U.prevProp=B,U.prevResolvedValues=L,U.isActive&&(w={...w,...L}),r&&n.blockInitialAnimation&&(C=!1),C&&(!($&&j)||R)&&v.push(...N.map(ne=>({animation:ne,options:{type:O}})))}if(x.size){const D={};if(typeof h.initial!="boolean"){const O=fd(n,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(D.transition=O.transition)}x.forEach(O=>{const U=n.getBaseTarget(O),B=n.getValue(O);B&&(B.liveStyle=!0),D[O]=U??null}),v.push({animation:D})}let A=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function u(f,h){var g;if(t[f].isActive===h)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(x=>{var w;return(w=x.animationState)===null||w===void 0?void 0:w.setActive(f,h)}),t[f].isActive=h;const v=l(f);for(const x in t)t[x].protectedKeys={};return v}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=vE(),r=!0}}}function kI(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!UD(e,n):!1}function Po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vE(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class Zs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PI extends Zs{constructor(e){super(e),e.animationState||(e.animationState=MI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Um(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let OI=0;class II extends Zs{constructor(){super(...arguments),this.id=OI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jI={animation:{Feature:PI},exit:{Feature:II}};function md(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Id(n){return{point:{x:n.pageX,y:n.pageY}}}const VI=n=>e=>Vv(e)&&n(e,Id(e));function Ju(n,e,t,r){return md(n,e,VI(t),r)}function FD({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function LI({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function UI(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const zD=1e-4,BI=1-zD,FI=1+zD,HD=.01,zI=0-HD,HI=0+HD;function Er(n){return n.max-n.min}function YI(n,e,t){return Math.abs(n-e)<=t}function bE(n,e,t,r=.5){n.origin=r,n.originPoint=en(e.min,e.max,n.origin),n.scale=Er(t)/Er(e),n.translate=en(t.min,t.max,n.origin)-n.originPoint,(n.scale>=BI&&n.scale<=FI||isNaN(n.scale))&&(n.scale=1),(n.translate>=zI&&n.translate<=HI||isNaN(n.translate))&&(n.translate=0)}function ed(n,e,t,r){bE(n.x,e.x,t.x,r?r.originX:void 0),bE(n.y,e.y,t.y,r?r.originY:void 0)}function xE(n,e,t){n.min=t.min+e.min,n.max=n.min+Er(e)}function qI(n,e,t){xE(n.x,e.x,t.x),xE(n.y,e.y,t.y)}function _E(n,e,t){n.min=e.min-t.min,n.max=n.min+Er(e)}function td(n,e,t){_E(n.x,e.x,t.x),_E(n.y,e.y,t.y)}const wE=()=>({translate:0,scale:1,origin:0,originPoint:0}),tc=()=>({x:wE(),y:wE()}),EE=()=>({min:0,max:0}),mn=()=>({x:EE(),y:EE()});function ua(n){return[n("x"),n("y")]}function Ny(n){return n===void 0||n===1}function _0({scale:n,scaleX:e,scaleY:t}){return!Ny(n)||!Ny(e)||!Ny(t)}function Oo(n){return _0(n)||YD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function YD(n){return TE(n.x)||TE(n.y)}function TE(n){return n&&n!=="0%"}function Zh(n,e,t){const r=n-t,a=e*r;return t+a}function SE(n,e,t,r,a){return a!==void 0&&(n=Zh(n,a,r)),Zh(n,t,r)+e}function w0(n,e=0,t=1,r,a){n.min=SE(n.min,e,t,r,a),n.max=SE(n.max,e,t,r,a)}function qD(n,{x:e,y:t}){w0(n.x,e.translate,e.scale,e.originPoint),w0(n.y,t.translate,t.scale,t.originPoint)}const DE=.999999999999,AE=1.0000000000001;function $I(n,e,t,r=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,l;for(let u=0;u<a;u++){o=t[u],l=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&rc(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,qD(n,l)),r&&Oo(o.latestValues)&&rc(n,o.latestValues))}e.x<AE&&e.x>DE&&(e.x=1),e.y<AE&&e.y>DE&&(e.y=1)}function nc(n,e){n.min=n.min+e,n.max=n.max+e}function CE(n,e,t,r,a=.5){const o=en(n.min,n.max,a);w0(n,e,t,o,r)}function rc(n,e){CE(n.x,e.x,e.scaleX,e.scale,e.originX),CE(n.y,e.y,e.scaleY,e.scale,e.originY)}function $D(n,e){return FD(UI(n.getBoundingClientRect(),e))}function GI(n,e,t){const r=$D(n,t),{scroll:a}=e;return a&&(nc(r.x,a.offset.x),nc(r.y,a.offset.y)),r}const GD=({current:n})=>n?n.ownerDocument.defaultView:null,RE=(n,e)=>Math.abs(n-e);function QI(n,e){const t=RE(n.x,e.x),r=RE(n.y,e.y);return Math.sqrt(t**2+r**2)}class QD{constructor(e,t,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ky(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=QI(v.offset,{x:0,y:0})>=3;if(!x&&!w)return;const{point:T}=v,{timestamp:A}=Kn;this.history.push({...T,timestamp:A});const{onStart:D,onMove:O}=this.handlers;x||(D&&D(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=My(x,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=ky(v.type==="pointercancel"?this.lastMoveEventInfo:My(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,D),T&&T(v,D)},!Vv(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=r,this.contextWindow=a||window;const l=Id(e),u=My(l,this.transformPagePoint),{point:f}=u,{timestamp:h}=Kn;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=t;g&&g(e,ky(u,this.history)),this.removeListeners=Od(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fs(this.updatePoint)}}function My(n,e){return e?{point:e(n.point)}:n}function NE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ky({point:n},e){return{point:n,delta:NE(n,KD(e)),offset:NE(n,KI(e)),velocity:WI(e,.1)}}function KI(n){return n[0]}function KD(n){return n[n.length-1]}function WI(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const a=KD(n);for(;t>=0&&(r=n[t],!(a.timestamp-r.timestamp>Ui(e)));)t--;if(!r)return{x:0,y:0};const o=Bi(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function XI(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?en(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?en(t,n,r.max):Math.min(n,t)),n}function ME(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function ZI(n,{top:e,left:t,bottom:r,right:a}){return{x:ME(n.x,t,a),y:ME(n.y,e,r)}}function kE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function JI(n,e){return{x:kE(n.x,e.x),y:kE(n.y,e.y)}}function e3(n,e){let t=.5;const r=Er(n),a=Er(e);return a>r?t=oc(e.min,e.max-r,n.min):r>a&&(t=oc(n.min,n.max-a,e.min)),Gi(0,1,t)}function t3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const E0=.35;function n3(n=E0){return n===!1?n=0:n===!0&&(n=E0),{x:PE(n,"left","right"),y:PE(n,"top","bottom")}}function PE(n,e,t){return{min:OE(n,e),max:OE(n,t)}}function OE(n,e){return typeof n=="number"?n:n[e]||0}const r3=new WeakMap;class a3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Id(g).point)},o=(g,v)=>{const{drag:x,dragPropagation:w,onDragStart:T}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xk(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ua(D=>{let O=this.getAxisMotionValue(D).get()||0;if(ri.test(O)){const{projection:U}=this.visualElement;if(U&&U.layout){const B=U.layout.layoutBox[D];B&&(O=Er(B)*(parseFloat(O)/100))}}this.originPoint[D]=O}),T&&qt.postRender(()=>T(g,v)),u0(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:T,onDrag:A}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:D}=v;if(w&&this.currentDirection===null){this.currentDirection=i3(D),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,D),this.updateAxis("y",v.point,D),this.visualElement.render(),A&&A(g,v)},u=(g,v)=>this.stop(g,v),f=()=>ua(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new QD(e,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:GD(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=t;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&qt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:a}=this.getProps();if(!r||!uh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=XI(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Jl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=ZI(a.layoutBox,t):this.constraints=!1,this.elastic=n3(r),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ua(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=t3(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=GI(r,a.root,this.visualElement.getTransformPagePoint());let l=JI(a.layout.layoutBox,o);if(t){const u=t(LI(l));this.hasMutatedConstraints=!!u,u&&(l=FD(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=ua(g=>{if(!uh(g,t,this.currentDirection))return;let v=f&&f[g]||{};l&&(v={min:0,max:0});const x=a?200:1e6,w=a?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return u0(this.visualElement,e),r.start(ab(e,r,0,t,this.visualElement,!1))}stopAnimation(){ua(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ua(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[t];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ua(t=>{const{drag:r}=this.getProps();if(!uh(t,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];o.set(e[t]-en(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Jl(t)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ua(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();a[l]=e3({min:f,max:f},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ua(l=>{if(!uh(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];u.set(en(f,h,a[l]))})}addListeners(){if(!this.visualElement.current)return;r3.set(this.visualElement,this);const e=this.visualElement.current,t=Ju(e,"pointerdown",f=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Jl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),qt.read(r);const l=md(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(ua(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:l=E0,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function uh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function i3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class s3 extends Zs{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new a3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const IE=n=>(e,t)=>{n&&qt.postRender(()=>n(e,t))};class o3 extends Zs{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new QD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:IE(e),onStart:IE(t),onMove:r,onEnd:(o,l)=>{delete this.session,a&&qt.postRender(()=>a(o,l))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Vu={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Qe.test(n))n=parseFloat(n);else return n;const t=jE(n,e.target.x),r=jE(n,e.target.y);return`${t}% ${r}%`}},l3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,a=zs.parse(n);if(a.length>5)return r;const o=zs.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=f;const h=en(u,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=h),typeof a[3+l]=="number"&&(a[3+l]/=h),o(a)}};class c3 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;SP(u3),o&&(t.group&&t.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:a,isPresent:o}=this.props,l=r.projection;return l&&(l.isPresent=o,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||qt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WD(n){const[e,t]=k2(),r=k.useContext(Sv);return y.jsx(c3,{...n,layoutGroup:r,switchLayoutGroup:k.useContext(G2),isPresent:e,safeToRemove:t})}const u3={borderRadius:{...Vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vu,borderTopRightRadius:Vu,borderBottomLeftRadius:Vu,borderBottomRightRadius:Vu,boxShadow:l3};function d3(n,e,t){const r=hr(n)?n:ld(n);return r.start(ab("",r,e,t)),r.animation}function f3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const h3=(n,e)=>n.depth-e.depth;class m3{constructor(){this.children=[],this.isDirty=!1}add(e){Rv(this.children,e),this.isDirty=!0}remove(e){Nv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(e)}}function p3(n,e){const t=ni.now(),r=({timestamp:a})=>{const o=a-t;o>=e&&(Fs(r),n(o-e))};return qt.read(r,!0),()=>Fs(r)}const XD=["TopLeft","TopRight","BottomLeft","BottomRight"],g3=XD.length,VE=n=>typeof n=="string"?parseFloat(n):n,LE=n=>typeof n=="number"||Qe.test(n);function y3(n,e,t,r,a,o){a?(n.opacity=en(0,t.opacity!==void 0?t.opacity:1,v3(r)),n.opacityExit=en(e.opacity!==void 0?e.opacity:1,0,b3(r))):o&&(n.opacity=en(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<g3;l++){const u=`border${XD[l]}Radius`;let f=UE(e,u),h=UE(t,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||LE(f)===LE(h)?(n[u]=Math.max(en(VE(f),VE(h),r),0),(ri.test(h)||ri.test(f))&&(n[u]+="%")):n[u]=h}(e.rotate||t.rotate)&&(n.rotate=en(e.rotate||0,t.rotate||0,r))}function UE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const v3=ZD(0,.5,mD),b3=ZD(.5,.95,Hr);function ZD(n,e,t){return r=>r<n?0:r>e?1:t(oc(n,e,r))}function BE(n,e){n.min=e.min,n.max=e.max}function ca(n,e){BE(n.x,e.x),BE(n.y,e.y)}function FE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function zE(n,e,t,r,a){return n-=e,n=Zh(n,1/t,r),a!==void 0&&(n=Zh(n,1/a,r)),n}function x3(n,e=0,t=1,r=.5,a,o=n,l=n){if(ri.test(e)&&(e=parseFloat(e),e=en(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=en(o.min,o.max,r);n===o&&(u-=e),n.min=zE(n.min,e,t,u,a),n.max=zE(n.max,e,t,u,a)}function HE(n,e,[t,r,a],o,l){x3(n,e[t],e[r],e[a],e.scale,o,l)}const _3=["x","scaleX","originX"],w3=["y","scaleY","originY"];function YE(n,e,t,r){HE(n.x,e,_3,t?t.x:void 0,r?r.x:void 0),HE(n.y,e,w3,t?t.y:void 0,r?r.y:void 0)}function qE(n){return n.translate===0&&n.scale===1}function JD(n){return qE(n.x)&&qE(n.y)}function $E(n,e){return n.min===e.min&&n.max===e.max}function E3(n,e){return $E(n.x,e.x)&&$E(n.y,e.y)}function GE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function eA(n,e){return GE(n.x,e.x)&&GE(n.y,e.y)}function QE(n){return Er(n.x)/Er(n.y)}function KE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class T3{constructor(){this.members=[]}add(e){Rv(this.members,e),e.scheduleRender()}remove(e){if(Nv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let r;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S3(n,e,t){let r="";const a=n.x.translate/e.x,o=n.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((a||o||l)&&(r=`translate3d(${a}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:x,skewX:w,skewY:T}=t;h&&(r=`perspective(${h}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=n.x.scale*e.x,f=n.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const Py=["","X","Y","Z"],D3={visibility:"hidden"},WE=1e3;let A3=0;function Oy(n,e,t,r){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),r&&(r[n]=0))}function tA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=oD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",qt,!(a||o))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&tA(r)}function nA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=e==null?void 0:e()){this.id=A3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N3),this.nodes.forEach(I3),this.nodes.forEach(j3),this.nodes.forEach(M3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new m3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new kv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=f3(l),this.instance=l;const{layoutId:f,layout:h,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(h||f)&&(this.isLayoutDirty=!0),n){let v;const x=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=p3(x,250),Rh.hasAnimatedSinceResize&&(Rh.hasAnimatedSinceResize=!1,this.nodes.forEach(ZE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||F3,{onLayoutAnimationStart:D,onLayoutAnimationComplete:O}=g.getProps(),U=!this.targetLayout||!eA(this.targetLayout,T),B=!x&&w;if(this.options.layoutRoot||this.resumeFrom||B||x&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,B);const Y={...Pv(A,"layout"),onPlay:D,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else x||ZE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XE);return}this.isUpdating||this.nodes.forEach(P3),this.isUpdating=!1,this.nodes.forEach(O3),this.nodes.forEach(C3),this.nodes.forEach(R3),this.clearAllSnapshots();const u=ni.now();Kn.delta=Gi(0,1e3/60,u-Kn.timestamp),Kn.timestamp=u,Kn.isProcessing=!0,Sy.update.process(Kn),Sy.preRender.process(Kn),Sy.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k3),this.sharedNodes.forEach(L3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Er(this.snapshot.measuredBox.x)&&!Er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!JD(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;l&&(u||Oo(this.latestValues)||g)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),z3(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return mn();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(H3))){const{scroll:g}=this.root;g&&(nc(f.x,g.offset.x),nc(f.y,g.offset.y))}return f}removeElementScroll(l){var u;const f=mn();if(ca(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:v,options:x}=g;g!==this.root&&v&&x.layoutScroll&&(v.wasRoot&&ca(f,l),nc(f.x,v.offset.x),nc(f.y,v.offset.y))}return f}applyTransform(l,u=!1){const f=mn();ca(f,l);for(let h=0;h<this.path.length;h++){const g=this.path[h];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&rc(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Oo(g.latestValues)&&rc(f,g.latestValues)}return Oo(this.latestValues)&&rc(f,this.latestValues),f}removeTransform(l){const u=mn();ca(u,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Oo(h.latestValues))continue;_0(h.latestValues)&&h.updateSnapshot();const g=mn(),v=h.measurePageBox();ca(g,v),YE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return Oo(this.latestValues)&&YE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:x}=this.options;if(!(!this.layout||!(v||x))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),td(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mn(),this.targetWithTransforms=mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),qD(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mn(),this.relativeTargetOrigin=mn(),td(this.relativeTargetOrigin,this.target,w.target),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_0(this.parent.latestValues)||YD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(h=!1),h)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ca(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;$I(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=mn());const{target:T}=u;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FE(this.prevProjectionDelta.x,this.projectionDelta.x),FE(this.prevProjectionDelta.y,this.projectionDelta.y)),ed(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!KE(this.projectionDelta.x,this.prevProjectionDelta.x)||!KE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tc(),this.projectionDelta=tc(),this.projectionDeltaWithTransform=tc()}setAnimationOrigin(l,u=!1){const f=this.snapshot,h=f?f.latestValues:{},g={...this.latestValues},v=tc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=mn(),w=f?f.source:void 0,T=this.layout?this.layout.source:void 0,A=w!==T,D=this.getStack(),O=!D||D.members.length<=1,U=!!(A&&!O&&this.options.crossfade===!0&&!this.path.some(B3));this.animationProgress=0;let B;this.mixTargetDelta=Y=>{const M=Y/1e3;JE(v.x,l.x,M),JE(v.y,l.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(td(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),U3(this.relativeTarget,this.relativeTargetOrigin,x,M),B&&E3(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=mn()),ca(B,this.relativeTarget)),A&&(this.animationValues=g,y3(g,h,this.latestValues,M,U,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Rh.hasAnimatedSinceResize=!0,this.currentAnimation=d3(0,WE,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:g}=l;if(!(!u||!f||!h)){if(this!==l&&this.layout&&h&&rA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||mn();const v=Er(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const x=Er(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+x}ca(u,f),rc(u,g),ed(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new T3),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Oy("z",l,h,this.animationValues);for(let g=0;g<Py.length;g++)Oy(`rotate${Py[g]}`,l,h,this.animationValues),Oy(`skew${Py[g]}`,l,h,this.animationValues);l.render();for(const g in h)l.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return D3;const h={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ch(l==null?void 0:l.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none",h;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=Ch(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),h.transform=S3(this.projectionDeltaWithTransform,this.treeScale,x),g&&(h.transform=g(x,h.transform));const{x:w,y:T}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,v.animationValues?h.opacity=v===this?(f=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=v===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const A in ud){if(x[A]===void 0)continue;const{correct:D,applyTo:O,isCSSVariable:U}=ud[A],B=h.transform==="none"?x[A]:D(x[A],v);if(O){const Y=O.length;for(let M=0;M<Y;M++)h[O[M]]=B}else U?this.options.visualElement.renderState.vars[A]=B:h[A]=B}return this.options.layoutId&&(h.pointerEvents=v===this?Ch(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(XE),this.root.sharedNodes.clear()}}}function C3(n){n.updateLayout()}function R3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=n.layout,{animationType:o}=n.options,l=t.source!==n.layout.source;o==="size"?ua(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=Er(x);x.min=r[v].min,x.max=x.min+w}):rA(o,t.layoutBox,r)&&ua(v=>{const x=l?t.measuredBox[v]:t.layoutBox[v],w=Er(r[v]);x.max=x.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+w)});const u=tc();ed(u,r,t.layoutBox);const f=tc();l?ed(f,n.applyTransform(a,!0),t.measuredBox):ed(f,r,t.layoutBox);const h=!JD(u);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:x,layout:w}=v;if(x&&w){const T=mn();td(T,t.layoutBox,x.layoutBox);const A=mn();td(A,r,w.layoutBox),eA(T,A)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=T,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function N3(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function M3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function k3(n){n.clearSnapshot()}function XE(n){n.clearMeasurements()}function P3(n){n.isLayoutDirty=!1}function O3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ZE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function I3(n){n.resolveTargetDelta()}function j3(n){n.calcProjection()}function V3(n){n.resetSkewAndRotation()}function L3(n){n.removeLeadSnapshot()}function JE(n,e,t){n.translate=en(e.translate,0,t),n.scale=en(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function eT(n,e,t,r){n.min=en(e.min,t.min,r),n.max=en(e.max,t.max,r)}function U3(n,e,t,r){eT(n.x,e.x,t.x,r),eT(n.y,e.y,t.y,r)}function B3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const F3={duration:.45,ease:[.4,0,.1,1]},tT=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),nT=tT("applewebkit/")&&!tT("chrome/")?Math.round:Hr;function rT(n){n.min=nT(n.min),n.max=nT(n.max)}function z3(n){rT(n.x),rT(n.y)}function rA(n,e,t){return n==="position"||n==="preserve-aspect"&&!YI(QE(e),QE(t),.2)}function H3(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y3=nA({attachResizeListener:(n,e)=>md(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Iy={current:void 0},aA=nA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Iy.current){const n=new Y3({});n.mount(window),n.setOptions({layoutScroll:!0}),Iy.current=n}return Iy.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),q3={pan:{Feature:o3},drag:{Feature:s3,ProjectionNode:aA,MeasureLayout:WD}};function aT(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=r[a];o&&qt.postRender(()=>o(e,Id(e)))}class $3 extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=Jk(e,(t,r)=>(aT(this.node,r,"Start"),a=>aT(this.node,a,"End"))))}unmount(){}}class G3 extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Od(md(this.node.current,"focus",()=>this.onFocus()),md(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function iT(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=r[a];o&&qt.postRender(()=>o(e,Id(e)))}class Q3 extends Zs{mount(){const{current:e}=this.node;e&&(this.unmount=rP(e,(t,r)=>(iT(this.node,r,"Start"),(a,{success:o})=>iT(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const T0=new WeakMap,jy=new WeakMap,K3=n=>{const e=T0.get(n.target);e&&e(n)},W3=n=>{n.forEach(K3)};function X3({root:n,...e}){const t=n||document;jy.has(t)||jy.set(t,{});const r=jy.get(t),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(W3,{root:n,...e})),r[a]}function Z3(n,e,t){const r=X3(e);return T0.set(n,t),r.observe(n),()=>{T0.delete(n),r.unobserve(n)}}const J3={some:0,all:1};class ej extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:a="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:J3[a]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),x=h?g:v;x&&x(f)};return Z3(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(tj(e,t))&&this.startObserver()}unmount(){}}function tj({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const nj={inView:{Feature:ej},tap:{Feature:Q3},focus:{Feature:G3},hover:{Feature:$3}},rj={layout:{ProjectionNode:aA,MeasureLayout:WD}},S0={current:null},iA={current:!1};function aj(){if(iA.current=!0,!!Av)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>S0.current=n.matches;n.addListener(e),e()}else S0.current=!1}const ij=[...RD,lr,zs],sj=n=>ij.find(CD(n)),oj=new WeakMap;function lj(n,e,t){for(const r in e){const a=e[r],o=t[r];if(hr(a))n.addValue(r,a);else if(hr(o))n.addValue(r,ld(a,{owner:n}));else if(o!==a)if(n.hasValue(r)){const l=n.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(r);n.addValue(r,ld(l!==void 0?l:a,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const sT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cj{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=ni.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,qt.render(this.render,!1,!0))};const{latestValues:f,renderState:h,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Bm(t),this.isVariantNode=q2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(t,{},this);for(const w in x){const T=x[w];f[w]!==void 0&&hr(T)&&T.set(f[w],!1)}}mount(e){this.current=e,oj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),iA.current||aj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:S0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=tl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lc){const t=lc[e];if(!t)continue;const{isEnabled:r,Feature:a}=t;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<sT.length;r++){const a=sT[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,l=e[o];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=lj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ld(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(DD(a)||gD(a))?a=parseFloat(a):!sj(a)&&zs.test(t)&&(a=ED(e,t)),this.setBaseTarget(e,hr(a)?a.get():a)),hr(a)?a.get():a}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=Kv(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(a=l[e])}if(r&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!hr(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new kv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sA extends cj{constructor(){super(...arguments),this.KeyframeResolver=ND}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function uj(n){return window.getComputedStyle(n)}class dj extends sA{constructor(){super(...arguments),this.type="html",this.renderInstance=nD}readValueFromInstance(e,t){if(tl.has(t))return wO(e,t);{const r=uj(e),a=(Fv(t)?r.getPropertyValue(t):r[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return $D(e,t)}build(e,t,r){Yv(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Wv(e,t,r)}}class fj extends sA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tD(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tl.has(t)){const r=wD(t);return r&&r.default||0}return t=rD.has(t)?t:Bv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return iD(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&qt.postRender(this.updateDimensions)}build(e,t,r){Gv(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,a){aD(e,t,r,a)}mount(e){this.isSVGTag=Qv(e.tagName),super.mount(e)}}const hj=(n,e)=>$v(n)?new fj(e):new dj(e,{allowProjection:n!==k.Fragment}),mj=KP({...jI,...nj,...q3,...rj},hj),ve=dP(mj),pj=()=>{};var oT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},gj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],l=n[t++],u=n[t++],f=((a&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|l&63)}}return e.join("")},lA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const o=n[a],l=a+1<n.length,u=l?n[a+1]:0,f=a+2<n.length,h=f?n[a+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(t[g],t[v],t[x],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],u=a<n.length?t[n.charAt(a)]:0;++a;const h=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||u==null||h==null||v==null)throw new yj;const x=o<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),v!==64){const T=h<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vj=function(n){const e=oA(n);return lA.encodeByteArray(e,!0)},Jh=function(n){return vj(n).replace(/\./g,"")},bj=function(n){try{return lA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=()=>xj().__FIREBASE_DEFAULTS__,wj=()=>{if(typeof process>"u"||typeof oT>"u")return;const n=oT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ej=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bj(n[1]);return e&&JSON.parse(e)},ib=()=>{try{return pj()||_j()||wj()||Ej()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tj=n=>{var e,t;return(t=(e=ib())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cA=n=>{const e=Tj(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uA=()=>{var n;return(n=ib())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jh(JSON.stringify(t)),Jh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aj(){var n;const e=(n=ib())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cj(){return!Aj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rj(){try{return typeof indexedDB=="object"}catch{return!1}}function Nj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="FirebaseError";class nl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Mj,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fA.prototype.create)}}class fA{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],l=o?kj(o,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new nl(a,u,r)}}function kj(n,e){return n.replace(Pj,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Pj=/\{\$([^}]+)}/g;function pd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const o=n[a],l=e[a];if(lT(o)&&lT(l)){if(!pd(o,l))return!1}else if(o!==l)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n){return n&&n._delegate?n._delegate:n}class uc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Sj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jj(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ij(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ij(n){return n===Io?void 0:n}function jj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Oj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const Lj={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},Uj=vt.INFO,Bj={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},Fj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=Bj[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hA{constructor(e){this.name=e,this._logLevel=Uj,this._logHandler=Fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const zj=(n,e)=>e.some(t=>n instanceof t);let cT,uT;function Hj(){return cT||(cT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yj(){return uT||(uT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mA=new WeakMap,D0=new WeakMap,pA=new WeakMap,Vy=new WeakMap,sb=new WeakMap;function qj(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Ps(n.result)),a()},l=()=>{r(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&mA.set(t,n)}).catch(()=>{}),sb.set(e,n),e}function $j(n){if(D0.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),a()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});D0.set(n,e)}let A0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Gj(n){A0=n(A0)}function Qj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ly(this),e,...t);return pA.set(r,e.sort?e.sort():[e]),Ps(r)}:Yj().includes(n)?function(...e){return n.apply(Ly(this),e),Ps(mA.get(this))}:function(...e){return Ps(n.apply(Ly(this),e))}}function Kj(n){return typeof n=="function"?Qj(n):(n instanceof IDBTransaction&&$j(n),zj(n,Hj())?new Proxy(n,A0):n)}function Ps(n){if(n instanceof IDBRequest)return qj(n);if(Vy.has(n))return Vy.get(n);const e=Kj(n);return e!==n&&(Vy.set(n,e),sb.set(e,n)),e}const Ly=n=>sb.get(n);function Wj(n,e,{blocked:t,upgrade:r,blocking:a,terminated:o}={}){const l=indexedDB.open(n,e),u=Ps(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ps(l.result),f.oldVersion,f.newVersion,Ps(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const Xj=["get","getKey","getAll","getAllKeys","count"],Zj=["put","add","delete","clear"],Uy=new Map;function dT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uy.get(e))return Uy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Zj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Xj.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),a&&f.done]))[0]};return Uy.set(e,o),o}Gj(n=>({...n,get:(e,t,r)=>dT(e,t)||n.get(e,t,r),has:(e,t)=>!!dT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function e6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C0="@firebase/app",fT="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new hA("@firebase/app"),t6="@firebase/app-compat",n6="@firebase/analytics-compat",r6="@firebase/analytics",a6="@firebase/app-check-compat",i6="@firebase/app-check",s6="@firebase/auth",o6="@firebase/auth-compat",l6="@firebase/database",c6="@firebase/data-connect",u6="@firebase/database-compat",d6="@firebase/functions",f6="@firebase/functions-compat",h6="@firebase/installations",m6="@firebase/installations-compat",p6="@firebase/messaging",g6="@firebase/messaging-compat",y6="@firebase/performance",v6="@firebase/performance-compat",b6="@firebase/remote-config",x6="@firebase/remote-config-compat",_6="@firebase/storage",w6="@firebase/storage-compat",E6="@firebase/firestore",T6="@firebase/vertexai",S6="@firebase/firestore-compat",D6="firebase",A6="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="[DEFAULT]",C6={[C0]:"fire-core",[t6]:"fire-core-compat",[r6]:"fire-analytics",[n6]:"fire-analytics-compat",[i6]:"fire-app-check",[a6]:"fire-app-check-compat",[s6]:"fire-auth",[o6]:"fire-auth-compat",[l6]:"fire-rtdb",[c6]:"fire-data-connect",[u6]:"fire-rtdb-compat",[d6]:"fire-fn",[f6]:"fire-fn-compat",[h6]:"fire-iid",[m6]:"fire-iid-compat",[p6]:"fire-fcm",[g6]:"fire-fcm-compat",[y6]:"fire-perf",[v6]:"fire-perf-compat",[b6]:"fire-rc",[x6]:"fire-rc-compat",[_6]:"fire-gcs",[w6]:"fire-gcs-compat",[E6]:"fire-fst",[S6]:"fire-fst-compat",[T6]:"fire-vertex","fire-js":"fire-js",[D6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Map,R6=new Map,N0=new Map;function hT(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gd(n){const e=n.name;if(N0.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;N0.set(e,n);for(const t of em.values())hT(t,n);for(const t of R6.values())hT(t,n);return!0}function gA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new fA("app","Firebase",N6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=A6;function ob(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:R0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=uA()),!t)throw Os.create("no-options");const o=em.get(a);if(o){if(pd(t,o.options)&&pd(r,o.config))return o;throw Os.create("duplicate-app",{appName:a})}const l=new Vj(a);for(const f of N0.values())l.addComponent(f);const u=new M6(t,r,l);return em.set(a,u),u}function bA(n=R0){const e=em.get(n);if(!e&&n===R0&&uA())return ob();if(!e)throw Os.create("no-app",{appName:n});return e}function Is(n,e,t){var r;let a=(r=C6[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(u.join(" "));return}gd(new uc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="firebase-heartbeat-database",P6=1,yd="firebase-heartbeat-store";let By=null;function xA(){return By||(By=Wj(k6,P6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),By}async function O6(n){try{const t=(await xA()).transaction(yd),r=await t.objectStore(yd).get(_A(n));return await t.done,r}catch(e){if(e instanceof nl)Qi.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(t.message)}}}async function mT(n,e){try{const r=(await xA()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,_A(n)),await r.done}catch(t){if(t instanceof nl)Qi.warn(t.message);else{const r=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qi.warn(r.message)}}}function _A(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1024,j6=30;class V6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>j6){const l=B6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pT(),{heartbeatsToSend:r,unsentEntries:a}=L6(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qi.warn(t),""}}}function pT(){return new Date().toISOString().substring(0,10)}function L6(n,e=I6){const t=[];let r=n.slice();for(const a of n){const o=t.find(l=>l.agent===a.agent);if(o){if(o.dates.push(a.date),gT(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),gT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class U6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rj()?Nj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return mT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gT(n){return Jh(JSON.stringify({version:2,heartbeats:n})).length}function B6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){gd(new uc("platform-logger",e=>new Jj(e),"PRIVATE")),gd(new uc("heartbeat",e=>new V6(e),"PRIVATE")),Is(C0,fT,n),Is(C0,fT,"esm2017"),Is("fire-js","")}F6("");var z6="firebase",H6="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(z6,H6,"app");var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,wA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,C){function R(){}R.prototype=C.prototype,j.D=C.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(N,L,H){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return C.prototype[L].apply(N,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)N[L]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(L=0;16>L;++L)N[L]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=j.g[0],R=j.g[1],L=j.g[2];var H=j.g[3],F=C+(H^R&(L^H))+N[0]+3614090360&4294967295;C=R+(F<<7&4294967295|F>>>25),F=H+(L^C&(R^L))+N[1]+3905402710&4294967295,H=C+(F<<12&4294967295|F>>>20),F=L+(R^H&(C^R))+N[2]+606105819&4294967295,L=H+(F<<17&4294967295|F>>>15),F=R+(C^L&(H^C))+N[3]+3250441966&4294967295,R=L+(F<<22&4294967295|F>>>10),F=C+(H^R&(L^H))+N[4]+4118548399&4294967295,C=R+(F<<7&4294967295|F>>>25),F=H+(L^C&(R^L))+N[5]+1200080426&4294967295,H=C+(F<<12&4294967295|F>>>20),F=L+(R^H&(C^R))+N[6]+2821735955&4294967295,L=H+(F<<17&4294967295|F>>>15),F=R+(C^L&(H^C))+N[7]+4249261313&4294967295,R=L+(F<<22&4294967295|F>>>10),F=C+(H^R&(L^H))+N[8]+1770035416&4294967295,C=R+(F<<7&4294967295|F>>>25),F=H+(L^C&(R^L))+N[9]+2336552879&4294967295,H=C+(F<<12&4294967295|F>>>20),F=L+(R^H&(C^R))+N[10]+4294925233&4294967295,L=H+(F<<17&4294967295|F>>>15),F=R+(C^L&(H^C))+N[11]+2304563134&4294967295,R=L+(F<<22&4294967295|F>>>10),F=C+(H^R&(L^H))+N[12]+1804603682&4294967295,C=R+(F<<7&4294967295|F>>>25),F=H+(L^C&(R^L))+N[13]+4254626195&4294967295,H=C+(F<<12&4294967295|F>>>20),F=L+(R^H&(C^R))+N[14]+2792965006&4294967295,L=H+(F<<17&4294967295|F>>>15),F=R+(C^L&(H^C))+N[15]+1236535329&4294967295,R=L+(F<<22&4294967295|F>>>10),F=C+(L^H&(R^L))+N[1]+4129170786&4294967295,C=R+(F<<5&4294967295|F>>>27),F=H+(R^L&(C^R))+N[6]+3225465664&4294967295,H=C+(F<<9&4294967295|F>>>23),F=L+(C^R&(H^C))+N[11]+643717713&4294967295,L=H+(F<<14&4294967295|F>>>18),F=R+(H^C&(L^H))+N[0]+3921069994&4294967295,R=L+(F<<20&4294967295|F>>>12),F=C+(L^H&(R^L))+N[5]+3593408605&4294967295,C=R+(F<<5&4294967295|F>>>27),F=H+(R^L&(C^R))+N[10]+38016083&4294967295,H=C+(F<<9&4294967295|F>>>23),F=L+(C^R&(H^C))+N[15]+3634488961&4294967295,L=H+(F<<14&4294967295|F>>>18),F=R+(H^C&(L^H))+N[4]+3889429448&4294967295,R=L+(F<<20&4294967295|F>>>12),F=C+(L^H&(R^L))+N[9]+568446438&4294967295,C=R+(F<<5&4294967295|F>>>27),F=H+(R^L&(C^R))+N[14]+3275163606&4294967295,H=C+(F<<9&4294967295|F>>>23),F=L+(C^R&(H^C))+N[3]+4107603335&4294967295,L=H+(F<<14&4294967295|F>>>18),F=R+(H^C&(L^H))+N[8]+1163531501&4294967295,R=L+(F<<20&4294967295|F>>>12),F=C+(L^H&(R^L))+N[13]+2850285829&4294967295,C=R+(F<<5&4294967295|F>>>27),F=H+(R^L&(C^R))+N[2]+4243563512&4294967295,H=C+(F<<9&4294967295|F>>>23),F=L+(C^R&(H^C))+N[7]+1735328473&4294967295,L=H+(F<<14&4294967295|F>>>18),F=R+(H^C&(L^H))+N[12]+2368359562&4294967295,R=L+(F<<20&4294967295|F>>>12),F=C+(R^L^H)+N[5]+4294588738&4294967295,C=R+(F<<4&4294967295|F>>>28),F=H+(C^R^L)+N[8]+2272392833&4294967295,H=C+(F<<11&4294967295|F>>>21),F=L+(H^C^R)+N[11]+1839030562&4294967295,L=H+(F<<16&4294967295|F>>>16),F=R+(L^H^C)+N[14]+4259657740&4294967295,R=L+(F<<23&4294967295|F>>>9),F=C+(R^L^H)+N[1]+2763975236&4294967295,C=R+(F<<4&4294967295|F>>>28),F=H+(C^R^L)+N[4]+1272893353&4294967295,H=C+(F<<11&4294967295|F>>>21),F=L+(H^C^R)+N[7]+4139469664&4294967295,L=H+(F<<16&4294967295|F>>>16),F=R+(L^H^C)+N[10]+3200236656&4294967295,R=L+(F<<23&4294967295|F>>>9),F=C+(R^L^H)+N[13]+681279174&4294967295,C=R+(F<<4&4294967295|F>>>28),F=H+(C^R^L)+N[0]+3936430074&4294967295,H=C+(F<<11&4294967295|F>>>21),F=L+(H^C^R)+N[3]+3572445317&4294967295,L=H+(F<<16&4294967295|F>>>16),F=R+(L^H^C)+N[6]+76029189&4294967295,R=L+(F<<23&4294967295|F>>>9),F=C+(R^L^H)+N[9]+3654602809&4294967295,C=R+(F<<4&4294967295|F>>>28),F=H+(C^R^L)+N[12]+3873151461&4294967295,H=C+(F<<11&4294967295|F>>>21),F=L+(H^C^R)+N[15]+530742520&4294967295,L=H+(F<<16&4294967295|F>>>16),F=R+(L^H^C)+N[2]+3299628645&4294967295,R=L+(F<<23&4294967295|F>>>9),F=C+(L^(R|~H))+N[0]+4096336452&4294967295,C=R+(F<<6&4294967295|F>>>26),F=H+(R^(C|~L))+N[7]+1126891415&4294967295,H=C+(F<<10&4294967295|F>>>22),F=L+(C^(H|~R))+N[14]+2878612391&4294967295,L=H+(F<<15&4294967295|F>>>17),F=R+(H^(L|~C))+N[5]+4237533241&4294967295,R=L+(F<<21&4294967295|F>>>11),F=C+(L^(R|~H))+N[12]+1700485571&4294967295,C=R+(F<<6&4294967295|F>>>26),F=H+(R^(C|~L))+N[3]+2399980690&4294967295,H=C+(F<<10&4294967295|F>>>22),F=L+(C^(H|~R))+N[10]+4293915773&4294967295,L=H+(F<<15&4294967295|F>>>17),F=R+(H^(L|~C))+N[1]+2240044497&4294967295,R=L+(F<<21&4294967295|F>>>11),F=C+(L^(R|~H))+N[8]+1873313359&4294967295,C=R+(F<<6&4294967295|F>>>26),F=H+(R^(C|~L))+N[15]+4264355552&4294967295,H=C+(F<<10&4294967295|F>>>22),F=L+(C^(H|~R))+N[6]+2734768916&4294967295,L=H+(F<<15&4294967295|F>>>17),F=R+(H^(L|~C))+N[13]+1309151649&4294967295,R=L+(F<<21&4294967295|F>>>11),F=C+(L^(R|~H))+N[4]+4149444226&4294967295,C=R+(F<<6&4294967295|F>>>26),F=H+(R^(C|~L))+N[11]+3174756917&4294967295,H=C+(F<<10&4294967295|F>>>22),F=L+(C^(H|~R))+N[2]+718787259&4294967295,L=H+(F<<15&4294967295|F>>>17),F=R+(H^(L|~C))+N[9]+3951481745&4294967295,j.g[0]=j.g[0]+C&4294967295,j.g[1]=j.g[1]+(L+(F<<21&4294967295|F>>>11))&4294967295,j.g[2]=j.g[2]+L&4294967295,j.g[3]=j.g[3]+H&4294967295}r.prototype.u=function(j,C){C===void 0&&(C=j.length);for(var R=C-this.blockSize,N=this.B,L=this.h,H=0;H<C;){if(L==0)for(;H<=R;)a(this,j,H),H+=this.blockSize;if(typeof j=="string"){for(;H<C;)if(N[L++]=j.charCodeAt(H++),L==this.blockSize){a(this,N),L=0;break}}else for(;H<C;)if(N[L++]=j[H++],L==this.blockSize){a(this,N),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var C=1;C<j.length-8;++C)j[C]=0;var R=8*this.o;for(C=j.length-8;C<j.length;++C)j[C]=R&255,R/=256;for(this.u(j),j=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)j[R++]=this.g[C]>>>N&255;return j};function o(j,C){var R=u;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=C(j)}function l(j,C){this.h=C;for(var R=[],N=!0,L=j.length-1;0<=L;L--){var H=j[L]|0;N&&H==C||(R[L]=H,N=!1)}this.g=R}var u={};function f(j){return-128<=j&&128>j?o(j,function(C){return new l([C|0],0>C?-1:0)}):new l([j|0],0>j?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return v;if(0>j)return D(h(-j));for(var C=[],R=1,N=0;j>=R;N++)C[N]=j/R|0,R*=4294967296;return new l(C,0)}function g(j,C){if(j.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j.charAt(0)=="-")return D(g(j.substring(1),C));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(C,8)),N=v,L=0;L<j.length;L+=8){var H=Math.min(8,j.length-L),F=parseInt(j.substring(L,L+H),C);8>H?(H=h(Math.pow(C,H)),N=N.j(H).add(h(F))):(N=N.j(R),N=N.add(h(F)))}return N}var v=f(0),x=f(1),w=f(16777216);n=l.prototype,n.m=function(){if(A(this))return-D(this).m();for(var j=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);j+=(0<=N?N:4294967296+N)*C,C*=4294967296}return j},n.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(T(this))return"0";if(A(this))return"-"+D(this).toString(j);for(var C=h(Math.pow(j,6)),R=this,N="";;){var L=Y(R,C).g;R=O(R,L.j(C));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=L,T(R))return H+N;for(;6>H.length;)H="0"+H;N=H+N}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function T(j){if(j.h!=0)return!1;for(var C=0;C<j.g.length;C++)if(j.g[C]!=0)return!1;return!0}function A(j){return j.h==-1}n.l=function(j){return j=O(this,j),A(j)?-1:T(j)?0:1};function D(j){for(var C=j.g.length,R=[],N=0;N<C;N++)R[N]=~j.g[N];return new l(R,~j.h).add(x)}n.abs=function(){return A(this)?D(this):this},n.add=function(j){for(var C=Math.max(this.g.length,j.g.length),R=[],N=0,L=0;L<=C;L++){var H=N+(this.i(L)&65535)+(j.i(L)&65535),F=(H>>>16)+(this.i(L)>>>16)+(j.i(L)>>>16);N=F>>>16,H&=65535,F&=65535,R[L]=F<<16|H}return new l(R,R[R.length-1]&-2147483648?-1:0)};function O(j,C){return j.add(D(C))}n.j=function(j){if(T(this)||T(j))return v;if(A(this))return A(j)?D(this).j(D(j)):D(D(this).j(j));if(A(j))return D(this.j(D(j)));if(0>this.l(w)&&0>j.l(w))return h(this.m()*j.m());for(var C=this.g.length+j.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var L=0;L<j.g.length;L++){var H=this.i(N)>>>16,F=this.i(N)&65535,Se=j.i(L)>>>16,xe=j.i(L)&65535;R[2*N+2*L]+=F*xe,U(R,2*N+2*L),R[2*N+2*L+1]+=H*xe,U(R,2*N+2*L+1),R[2*N+2*L+1]+=F*Se,U(R,2*N+2*L+1),R[2*N+2*L+2]+=H*Se,U(R,2*N+2*L+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new l(R,0)};function U(j,C){for(;(j[C]&65535)!=j[C];)j[C+1]+=j[C]>>>16,j[C]&=65535,C++}function B(j,C){this.g=j,this.h=C}function Y(j,C){if(T(C))throw Error("division by zero");if(T(j))return new B(v,v);if(A(j))return C=Y(D(j),C),new B(D(C.g),D(C.h));if(A(C))return C=Y(j,D(C)),new B(D(C.g),C.h);if(30<j.g.length){if(A(j)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var R=x,N=C;0>=N.l(j);)R=M(R),N=M(N);var L=$(R,1),H=$(N,1);for(N=$(N,2),R=$(R,2);!T(N);){var F=H.add(N);0>=F.l(j)&&(L=L.add(R),H=F),N=$(N,1),R=$(R,1)}return C=O(j,L.j(C)),new B(L,C)}for(L=v;0<=j.l(C);){for(R=Math.max(1,Math.floor(j.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),H=h(R),F=H.j(C);A(F)||0<F.l(j);)R-=N,H=h(R),F=H.j(C);T(H)&&(H=x),L=L.add(H),j=O(j,F)}return new B(L,j)}n.A=function(j){return Y(this,j).h},n.and=function(j){for(var C=Math.max(this.g.length,j.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&j.i(N);return new l(R,this.h&j.h)},n.or=function(j){for(var C=Math.max(this.g.length,j.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|j.i(N);return new l(R,this.h|j.h)},n.xor=function(j){for(var C=Math.max(this.g.length,j.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^j.i(N);return new l(R,this.h^j.h)};function M(j){for(var C=j.g.length+1,R=[],N=0;N<C;N++)R[N]=j.i(N)<<1|j.i(N-1)>>>31;return new l(R,j.h)}function $(j,C){var R=C>>5;C%=32;for(var N=j.g.length-R,L=[],H=0;H<N;H++)L[H]=0<C?j.i(H+R)>>>C|j.i(H+R+1)<<32-C:j.i(H+R);return new l(L,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wA=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,js=l}).apply(typeof yT<"u"?yT:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,$u,TA,Nh,M0,SA,DA,AA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,E){return m==Array.prototype||m==Object.prototype||(m[_]=E.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<m.length;++_){var E=m[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(m,_){if(_)e:{var E=r;m=m.split(".");for(var V=0;V<m.length-1;V++){var J=m[V];if(!(J in E))break e;E=E[J]}m=m[m.length-1],V=E[m],_=_(V),_!=V&&_!=null&&e(E,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var E=0,V=!1,J={next:function(){if(!V&&E<m.length){var se=E++;return{value:_(se,m[se]),done:!1}}return V=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}a("Array.prototype.values",function(m){return m||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function g(m,_,E){return m.call.apply(m.bind,arguments)}function v(m,_,E){if(!m)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,V),m.apply(_,J)}}return function(){return m.apply(_,arguments)}}function x(m,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,x.apply(null,arguments)}function w(m,_){var E=Array.prototype.slice.call(arguments,1);return function(){var V=E.slice();return V.push.apply(V,arguments),m.apply(this,V)}}function T(m,_){function E(){}E.prototype=_.prototype,m.aa=_.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(V,J,se){for(var we=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)we[mt-2]=arguments[mt];return _.prototype[J].apply(V,we)}}function A(m){const _=m.length;if(0<_){const E=Array(_);for(let V=0;V<_;V++)E[V]=m[V];return E}return[]}function D(m,_){for(let E=1;E<arguments.length;E++){const V=arguments[E];if(f(V)){const J=m.length||0,se=V.length||0;m.length=J+se;for(let we=0;we<se;we++)m[J+we]=V[we]}else m.push(V)}}class O{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(m){return/^[\s\xa0]*$/.test(m)}function B(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Y(m){return Y[" "](m),m}Y[" "]=function(){};var M=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function $(m,_,E){for(const V in m)_.call(E,m[V],V,m)}function j(m,_){for(const E in m)_.call(void 0,m[E],E,m)}function C(m){const _={};for(const E in m)_[E]=m[E];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,_){let E,V;for(let J=1;J<arguments.length;J++){V=arguments[J];for(E in V)m[E]=V[E];for(let se=0;se<R.length;se++)E=R[se],Object.prototype.hasOwnProperty.call(V,E)&&(m[E]=V[E])}}function L(m){var _=1;m=m.split(":");const E=[];for(;0<_&&m.length;)E.push(m.shift()),_--;return m.length&&E.push(m.join(":")),E}function H(m){u.setTimeout(()=>{throw m},0)}function F(){var m=be;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,E){const V=xe.get();V.set(_,E),this.h?this.h.next=V:this.g=V,this.h=V}}var xe=new O(()=>new K,m=>m.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,oe=!1,be=new Se,P=()=>{const m=u.Promise.resolve(void 0);ne=()=>{m.then(ee)}};var ee=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(E){H(E)}var _=xe;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}oe=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return m}();function ue(m,_){if(pe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,V=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(M){e:{try{Y(_.nodeName);var J=!0;break e}catch{}J=!1}J||(_=null)}}else E=="mouseover"?_=m.fromElement:E=="mouseout"&&(_=m.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ie[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ue.aa.h.call(this)}}T(ue,pe);var ie={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ee(m,_,E,V,J){this.listener=m,this.proxy=null,this.src=_,this.type=E,this.capture=!!V,this.ha=J,this.key=++Ce,this.da=this.fa=!1}function ze(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ut(m){this.src=m,this.g={},this.h=0}ut.prototype.add=function(m,_,E,V,J){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var we=Xe(m,_,V,J);return-1<we?(_=m[we],E||(_.fa=!1)):(_=new Ee(_,this.src,se,!!V,J),_.fa=E,m.push(_)),_};function nt(m,_){var E=_.type;if(E in m.g){var V=m.g[E],J=Array.prototype.indexOf.call(V,_,void 0),se;(se=0<=J)&&Array.prototype.splice.call(V,J,1),se&&(ze(_),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Xe(m,_,E,V){for(var J=0;J<m.length;++J){var se=m[J];if(!se.da&&se.listener==_&&se.capture==!!E&&se.ha==V)return J}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),Xt={};function Te(m,_,E,V,J){if(Array.isArray(_)){for(var se=0;se<_.length;se++)Te(m,_[se],E,V,J);return null}return E=Tn(E),m&&m[Ne]?m.K(_,E,h(V)?!!V.capture:!1,J):et(m,_,E,!1,V,J)}function et(m,_,E,V,J,se){if(!_)throw Error("Invalid event type");var we=h(J)?!!J.capture:!!J,mt=Pn(m);if(mt||(m[Ut]=mt=new ut(m)),E=mt.add(_,E,V,we,se),E.proxy)return E;if(V=Rt(),E.proxy=V,V.src=m,V.listener=E,m.addEventListener)_e||(J=we),J===void 0&&(J=!1),m.addEventListener(_.toString(),V,J);else if(m.attachEvent)m.attachEvent(rr(_.toString()),V);else if(m.addListener&&m.removeListener)m.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rt(){function m(E){return _.call(m.src,m.listener,E)}const _=Pr;return m}function jt(m,_,E,V,J){if(Array.isArray(_))for(var se=0;se<_.length;se++)jt(m,_[se],E,V,J);else V=h(V)?!!V.capture:!!V,E=Tn(E),m&&m[Ne]?(m=m.i,_=String(_).toString(),_ in m.g&&(se=m.g[_],E=Xe(se,E,V,J),-1<E&&(ze(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete m.g[_],m.h--)))):m&&(m=Pn(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Xe(_,E,V,J)),(E=-1<m?_[m]:null)&&nr(E))}function nr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ne])nt(_.i,m);else{var E=m.type,V=m.proxy;_.removeEventListener?_.removeEventListener(E,V,m.capture):_.detachEvent?_.detachEvent(rr(E),V):_.addListener&&_.removeListener&&_.removeListener(V),(E=Pn(_))?(nt(E,m),E.h==0&&(E.src=null,_[Ut]=null)):ze(m)}}}function rr(m){return m in Xt?Xt[m]:Xt[m]="on"+m}function Pr(m,_){if(m.da)m=!0;else{_=new ue(_,this);var E=m.listener,V=m.ha||m.src;m.fa&&nr(m),m=E.call(V,_)}return m}function Pn(m){return m=m[Ut],m instanceof ut?m:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(m){return typeof m=="function"?m:(m[rn]||(m[rn]=function(_){return m.handleEvent(_)}),m[rn])}function Pt(){de.call(this),this.i=new ut(this),this.M=this,this.F=null}T(Pt,de),Pt.prototype[Ne]=!0,Pt.prototype.removeEventListener=function(m,_,E,V){jt(this,m,_,E,V)};function dn(m,_){var E,V=m.F;if(V)for(E=[];V;V=V.F)E.push(V);if(m=m.M,V=_.type||_,typeof _=="string")_=new pe(_,m);else if(_ instanceof pe)_.target=_.target||m;else{var J=_;_=new pe(V,m),N(_,J)}if(J=!0,E)for(var se=E.length-1;0<=se;se--){var we=_.g=E[se];J=Or(we,V,!0,_)&&J}if(we=_.g=m,J=Or(we,V,!0,_)&&J,J=Or(we,V,!1,_)&&J,E)for(se=0;se<E.length;se++)we=_.g=E[se],J=Or(we,V,!1,_)&&J}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var E=m.g[_],V=0;V<E.length;V++)ze(E[V]);delete m.g[_],m.h--}}this.F=null},Pt.prototype.K=function(m,_,E,V){return this.i.add(String(m),_,!1,E,V)},Pt.prototype.L=function(m,_,E,V){return this.i.add(String(m),_,!0,E,V)};function Or(m,_,E,V){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var J=!0,se=0;se<_.length;++se){var we=_[se];if(we&&!we.da&&we.capture==E){var mt=we.listener,Sn=we.ha||we.src;we.fa&&nt(m.i,we),J=mt.call(Sn,V)!==!1&&J}}return J&&!V.defaultPrevented}function sl(m,_,E){if(typeof m=="function")E&&(m=x(m,E));else if(m&&typeof m.handleEvent=="function")m=x(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Dr(m){m.g=sl(()=>{m.g=null,m.i&&(m.i=!1,Dr(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class ol extends de{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(m){de.call(this),this.h=m,this.g={}}T(Pa,de);var va=[];function On(m){$(m.g,function(_,E){this.g.hasOwnProperty(E)&&nr(_)},m),m.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),On(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=u.JSON.stringify,pr=u.JSON.parse,In=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function mi(){}mi.prototype.h=null;function ll(m){return m.h||(m.h=m.i())}function no(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ba(){pe.call(this,"d")}T(ba,pe);function ar(){pe.call(this,"c")}T(ar,pe);var Yn={},Oa=null;function ts(){return Oa=Oa||new Pt}Yn.La="serverreachability";function q(m){pe.call(this,Yn.La,m)}T(q,pe);function W(m){const _=ts();dn(_,new q(_))}Yn.STAT_EVENT="statevent";function ae(m,_){pe.call(this,Yn.STAT_EVENT,m),this.stat=_}T(ae,pe);function fe(m){const _=ts();dn(_,new ae(_,m))}Yn.Ma="timingevent";function De(m,_){pe.call(this,Yn.Ma,m),this.size=_}T(De,pe);function He(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Ve(m,_,E,V,J,se){m.info(function(){if(m.g)if(se)for(var we="",mt=se.split("&"),Sn=0;Sn<mt.length;Sn++){var pt=mt[Sn].split("=");if(1<pt.length){var Ln=pt[0];pt=pt[1];var Dn=Ln.split("_");we=2<=Dn.length&&Dn[1]=="type"?we+(Ln+"="+pt+"&"):we+(Ln+"=redacted&")}}else we=null;else we=se;return"XMLHTTP REQ ("+V+") [attempt "+J+"]: "+_+`
`+E+`
`+we})}function Ue(m,_,E,V,J,se,we){m.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+J+"]: "+_+`
`+E+`
`+se+" "+we})}function Ae(m,_,E,V){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ie(m,E)+(V?" "+V:"")})}function Oe(m,_){m.info(function(){return"TIMEOUT: "+_})}Fe.prototype.info=function(){};function Ie(m,_){if(!m.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var V=E[m];if(!(2>V.length)){var J=V[1];if(Array.isArray(J)&&!(1>J.length)){var se=J[0];if(se!="noop"&&se!="stop"&&se!="close")for(var we=1;we<J.length;we++)J[we]=""}}}}return es(E)}catch{return _}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qt;function Bt(){}T(Bt,mi),Bt.prototype.g=function(){return new XMLHttpRequest},Bt.prototype.i=function(){return{}},Qt=new Bt;function bt(m,_,E,V){this.j=m,this.i=_,this.l=E,this.R=V||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var gr={},Ir={};function fn(m,_,E){m.L=1,m.v=so(an(_)),m.m=E,m.P=!0,vn(m,null)}function vn(m,_){m.F=Date.now(),Dt(m),m.A=an(m.v);var E=m.A,V=m.R;Array.isArray(V)||(V=[String(V)]),vi(E.i,"t",V),m.C=0,E=m.j.J,m.h=new $t,m.g=rf(m.j,E?_:null,!m.m),0<m.O&&(m.M=new ol(x(m.Y,m,m.g),m.O)),_=m.U,E=m.g,V=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(va[0]=J.toString()),J=va);for(var se=0;se<J.length;se++){var we=Te(E,J[se],V||_.handleEvent,!1,_.h||_);if(!we)break;_.g[we.key]=we}_=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),W(),Ve(m.i,m.u,m.A,m.l,m.R,m.m)}bt.prototype.ca=function(m){m=m.target;const _=this.M;_&&Zr(m)==3?_.j():this.Y(m)},bt.prototype.Y=function(m){try{if(m==this.g)e:{const Dn=Zr(this.g);var _=this.g.Ba();const wi=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||Kd(this.g)))){this.J||Dn!=4||_==7||(_==8||0>=wi?W(3):W(2)),xa(this);var E=this.g.Z();this.X=E;t:if($r(this)){var V=Kd(this.g);m="";var J=V.length,se=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){At(this),at(this);var we="";break t}this.h.i=new u.TextDecoder}for(_=0;_<J;_++)this.h.h=!0,m+=this.h.i.decode(V[_],{stream:!(se&&_==J-1)});V.length=0,this.h.g+=m,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=E==200,Ue(this.i,this.u,this.A,this.l,this.R,Dn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Sn=this.g;if((mt=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(mt)){var pt=mt;break t}}pt=null}if(E=pt)Ae(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jn(this,E);else{this.o=!1,this.s=3,fe(12),At(this),at(this);break e}}if(this.P){E=!0;let qn;for(;!this.J&&this.C<we.length;)if(qn=Ar(this,we),qn==Ir){Dn==4&&(this.s=4,fe(14),E=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==gr){this.s=4,fe(15),Ae(this.i,this.l,we,"[Invalid Chunk]"),E=!1;break}else Ae(this.i,this.l,qn,null),jn(this,qn);if($r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||we.length!=0||this.h.h||(this.s=1,fe(16),E=!1),this.o=this.o&&E,!E)Ae(this.i,this.l,we,"[Invalid Chunked Response]"),At(this),at(this);else if(0<we.length&&!this.W){this.W=!0;var Ln=this.j;Ln.g==this&&Ln.ba&&!Ln.M&&(Ln.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),mo(Ln),Ln.M=!0,fe(11))}}else Ae(this.i,this.l,we,null),jn(this,we);Dn==4&&At(this),this.o&&!this.J&&(Dn==4?ef(this.j,this):(this.o=!1,Dt(this)))}else Ep(this.g),E==400&&0<we.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),At(this),at(this)}}}catch{}finally{}};function $r(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ar(m,_){var E=m.C,V=_.indexOf(`
`,E);return V==-1?Ir:(E=Number(_.substring(E,V)),isNaN(E)?gr:(V+=1,V+E>_.length?Ir:(_=_.slice(V,V+E),m.C=V+E,_)))}bt.prototype.cancel=function(){this.J=!0,At(this)};function Dt(m){m.S=Date.now()+m.I,Ia(m,m.I)}function Ia(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=He(x(m.ba,m),_)}function xa(m){m.B&&(u.clearTimeout(m.B),m.B=null)}bt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Oe(this.i,this.A),this.L!=2&&(W(),fe(17)),At(this),this.s=2,at(this)):Ia(this,this.S-m)};function at(m){m.j.G==0||m.J||ef(m.j,m)}function At(m){xa(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,On(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function jn(m,_){try{var E=m.j;if(E.G!=0&&(E.g==m||ja(E.h,m))){if(!m.K&&ja(E.h,m)&&E.G==3){try{var V=E.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var J=V;if(J[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)vl(E),gl(E);else break e;Yc(E),fe(18)}}else E.za=J[1],0<E.za-E.T&&37500>J[2]&&E.F&&E.v==0&&!E.C&&(E.C=He(x(E.Za,E),6e3));if(1>=ro(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else _i(E,11)}else if((m.K||E.g==m)&&vl(E),!U(_))for(J=E.Da.g.parse(_),_=0;_<J.length;_++){let pt=J[_];if(E.T=pt[0],pt=pt[1],E.G==2)if(pt[0]=="c"){E.K=pt[1],E.ia=pt[2];const Ln=pt[3];Ln!=null&&(E.la=Ln,E.j.info("VER="+E.la));const Dn=pt[4];Dn!=null&&(E.Aa=Dn,E.j.info("SVER="+E.Aa));const wi=pt[5];wi!=null&&typeof wi=="number"&&0<wi&&(V=1.5*wi,E.L=V,E.j.info("backChannelRequestTimeoutMs_="+V)),V=E;const qn=m.g;if(qn){const Ha=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var se=V.h;se.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ns(se,se.h),se.h=null))}if(V.D){const $c=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(V.ya=$c,Et(V.I,V.D,$c))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),V=E;var we=m;if(V.qa=nf(V,V.J?V.ia:null,V.W),we.K){Qr(V.h,we);var mt=we,Sn=V.L;Sn&&(mt.I=Sn),mt.B&&(xa(mt),Dt(mt)),V.g=we}else Zd(V);0<E.i.length&&yl(E)}else pt[0]!="stop"&&pt[0]!="close"||_i(E,7);else E.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?_i(E,7):zc(E):pt[0]!="noop"&&E.l&&E.l.ta(pt),E.v=0)}}W(4)}catch{}}var pi=class{constructor(m,_){this.g=m,this.map=_}};function zt(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ro(m){return m.h?1:m.g?m.g.size:0}function ja(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function ns(m,_){m.g?m.g.add(_):m.h=_}function Qr(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}zt.prototype.cancel=function(){if(this.i=yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function yr(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const E of m.g.values())_=_.concat(E.D);return _}return A(m.i)}function qd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var _=[],E=m.length,V=0;V<E;V++)_.push(m[V]);return _}_=[],E=0;for(V in m)_[E++]=m[V];return _}function bp(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var _=[];m=m.length;for(var E=0;E<m;E++)_.push(E);return _}_=[],E=0;for(const V in m)_[E++]=V;return _}}}function ao(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var E=bp(m),V=qd(m),J=V.length,se=0;se<J;se++)_.call(void 0,V[se],E&&E[se],m)}var jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cl(m,_){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var V=m[E].indexOf("="),J=null;if(0<=V){var se=m[E].substring(0,V);J=m[E].substring(V+1)}else se=m[E];_(se,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function gi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof gi){this.h=m.h,rs(this,m.j),this.o=m.o,this.g=m.g,io(this,m.s),this.l=m.l;var _=m.i,E=new Va;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ul(this,E),this.m=m.m}else m&&(_=String(m).match(jc))?(this.h=!1,rs(this,_[1]||"",!0),this.o=as(_[2]||""),this.g=as(_[3]||"",!0),io(this,_[4]),this.l=as(_[5]||"",!0),ul(this,_[6]||"",!0),this.m=as(_[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}gi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Kr(_,Vc,!0),":");var E=this.g;return(E||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Kr(_,Vc,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Kr(E,E.charAt(0)=="/"?Lc:$d,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Kr(E,wp)),m.join("")};function an(m){return new gi(m)}function rs(m,_,E){m.j=E?as(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function io(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function ul(m,_,E){_ instanceof Va?(m.i=_,Uc(m.i,m.h)):(E||(_=Kr(_,_p)),m.i=new Va(_,m.h))}function Et(m,_,E){m.i.set(_,E)}function so(m){return Et(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function as(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kr(m,_,E){return typeof m=="string"?(m=encodeURI(m).replace(_,xp),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function xp(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vc=/[#\/\?@]/g,$d=/[#\?:]/g,Lc=/[#\?]/g,_p=/[#\?@]/g,wp=/#/g;function Va(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Wr(m){m.g||(m.g=new Map,m.h=0,m.i&&cl(m.i,function(_,E){m.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Va.prototype,n.add=function(m,_){Wr(this),this.i=null,m=bi(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(_),this.h+=1,this};function dl(m,_){Wr(m),_=bi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function yi(m,_){return Wr(m),_=bi(m,_),m.g.has(_)}n.forEach=function(m,_){Wr(this),this.g.forEach(function(E,V){E.forEach(function(J){m.call(_,J,V,this)},this)},this)},n.na=function(){Wr(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let V=0;V<_.length;V++){const J=m[V];for(let se=0;se<J.length;se++)E.push(_[V])}return E},n.V=function(m){Wr(this);let _=[];if(typeof m=="string")yi(this,m)&&(_=_.concat(this.g.get(bi(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)_=_.concat(m[E])}return _},n.set=function(m,_){return Wr(this),this.i=null,m=bi(this,m),yi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function vi(m,_,E){dl(m,_),0<E.length&&(m.i=null,m.g.set(bi(m,_),A(E)),m.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var V=_[E];const se=encodeURIComponent(String(V)),we=this.V(V);for(V=0;V<we.length;V++){var J=se;we[V]!==""&&(J+="="+encodeURIComponent(String(we[V]))),m.push(J)}}return this.i=m.join("&")};function bi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Uc(m,_){_&&!m.j&&(Wr(m),m.i=null,m.g.forEach(function(E,V){var J=V.toLowerCase();V!=J&&(dl(this,V),vi(this,J,E))},m)),m.j=_}function Gd(m,_){const E=new Fe;if(u.Image){const V=new Image;V.onload=w(Xr,E,"TestLoadImage: loaded",!0,_,V),V.onerror=w(Xr,E,"TestLoadImage: error",!1,_,V),V.onabort=w(Xr,E,"TestLoadImage: abort",!1,_,V),V.ontimeout=w(Xr,E,"TestLoadImage: timeout",!1,_,V),u.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=m}else _(!1)}function oo(m,_){const E=new Fe,V=new AbortController,J=setTimeout(()=>{V.abort(),Xr(E,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:V.signal}).then(se=>{clearTimeout(J),se.ok?Xr(E,"TestPingServer: ok",!0,_):Xr(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),Xr(E,"TestPingServer: error",!1,_)})}function Xr(m,_,E,V,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),V(E)}catch{}}function lo(){this.g=new In}function La(m,_,E){const V=E||"";try{ao(m,function(J,se){let we=J;h(J)&&(we=es(J)),_.push(V+se+"="+encodeURIComponent(we))})}catch(J){throw _.push(V+"type="+encodeURIComponent("_badmap")),J}}function is(m){this.l=m.Ub||null,this.j=m.eb||!1}T(is,mi),is.prototype.g=function(){return new xi(this.l,this.j)},is.prototype.i=function(m){return function(){return m}}({});function xi(m,_){Pt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(xi,Pt),n=xi.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Ba(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ua(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Ua(this):Ba(this),this.readyState==3&&Bc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ua(this))},n.Qa=function(m){this.g&&(this.response=m,Ua(this))},n.ga=function(){this.g&&Ua(this)};function Ua(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ba(m)}n.setRequestHeader=function(m,_){this.u.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=_.next();return m.join(`\r
`)};function Ba(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Fc(m){let _="";return $(m,function(E,V){_+=V,_+=":",_+=E,_+=`\r
`}),_}function Vn(m,_,E){e:{for(V in E){var V=!1;break e}V=!0}V||(E=Fc(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):Et(m,_,E))}function Nt(m){Pt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Nt,Pt);var fl=/^https?$/i,co=["POST","PUT"];n=Nt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,_,E,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qt.g(),this.v=this.o?ll(this.o):ll(Qt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(se){Qd(this,se);return}if(m=E||"",E=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var J in V)E.set(J,V[J]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())E.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),J=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(co,_,void 0))||V||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,we]of E)this.g.setRequestHeader(se,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){Qd(this,se)}};function Qd(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,hl(m),Fa(m)}function hl(m){m.A||(m.A=!0,dn(m,"complete"),dn(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,dn(this,"complete"),dn(this,"abort"),Fa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ml(this):this.bb())},n.bb=function(){ml(this)};function ml(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Zr(m)!=4||m.Z()!=2)){if(m.u&&Zr(m)==4)sl(m.Ea,0,m);else if(dn(m,"readystatechange"),Zr(m)==4){m.h=!1;try{const we=m.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var V;if(V=we===0){var J=String(m.D).match(jc)[1]||null;!J&&u.self&&u.self.location&&(J=u.self.location.protocol.slice(0,-1)),V=!fl.test(J?J.toLowerCase():"")}E=V}if(E)dn(m,"complete"),dn(m,"success");else{m.m=6;try{var se=2<Zr(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",hl(m)}}finally{Fa(m)}}}}function Fa(m,_){if(m.g){uo(m);const E=m.g,V=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||dn(m,"ready");try{E.onreadystatechange=V}catch{}}}function uo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Zr(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),pr(_)}};function Kd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ep(m){const _={};m=(m.g&&2<=Zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<m.length;V++){if(U(m[V]))continue;var E=L(m[V]);const J=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=_[J]||[];_[J]=se,se.push(E)}j(_,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(m,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||_}function pl(m){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,m),this.cb=fo("retryDelaySeedMs",1e4,m),this.Wa=fo("forwardChannelMaxRetries",2,m),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new zt(m&&m.concurrentRequestLimit),this.Da=new lo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pl.prototype,n.la=8,n.G=1,n.connect=function(m,_,E,V){fe(0),this.W=m,this.H=_||{},E&&V!==void 0&&(this.H.OSID=E,this.H.OAID=V),this.F=this.X,this.I=nf(this,null,this.W),yl(this)};function zc(m){if(Wd(m),m.G==3){var _=m.U++,E=an(m.I);if(Et(E,"SID",m.K),Et(E,"RID",_),Et(E,"TYPE","terminate"),ho(m,E),_=new bt(m,m.j,_),_.L=2,_.v=so(an(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.v,E=!0),E||(_.g=rf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Dt(_)}tf(m)}function gl(m){m.g&&(mo(m),m.g.cancel(),m.g=null)}function Wd(m){gl(m),m.u&&(u.clearTimeout(m.u),m.u=null),vl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function yl(m){if(!Gr(m.h)&&!m.s){m.s=!0;var _=m.Ga;ne||P(),oe||(ne(),oe=!0),be.add(_,m),m.B=0}}function Tp(m,_){return ro(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=He(x(m.Ga,m,_),qc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new bt(this,this.j,m);let se=this.o;if(this.S&&(se?(se=C(se),N(se,this.S)):se=this.S),this.m!==null||this.O||(J.H=se,se=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var V=this.i[E];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Xd(this,J,_),E=an(this.I),Et(E,"RID",m),Et(E,"CVER",22),this.D&&Et(E,"X-HTTP-Session-Id",this.D),ho(this,E),se&&(this.O?_="headers="+encodeURIComponent(String(Fc(se)))+"&"+_:this.m&&Vn(E,this.m,se)),ns(this.h,J),this.Ua&&Et(E,"TYPE","init"),this.P?(Et(E,"$req",_),Et(E,"SID","null"),J.T=!0,fn(J,E,null)):fn(J,E,_),this.G=2}}else this.G==3&&(m?Hc(this,m):this.i.length==0||Gr(this.h)||Hc(this))};function Hc(m,_){var E;_?E=_.l:E=m.U++;const V=an(m.I);Et(V,"SID",m.K),Et(V,"RID",E),Et(V,"AID",m.T),ho(m,V),m.m&&m.o&&Vn(V,m.m,m.o),E=new bt(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Xd(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ns(m.h,E),fn(E,V,_)}function ho(m,_){m.H&&$(m.H,function(E,V){Et(_,V,E)}),m.l&&ao({},function(E,V){Et(_,V,E)})}function Xd(m,_,E){E=Math.min(m.i.length,E);var V=m.l?x(m.l.Na,m.l,m):null;e:{var J=m.i;let se=-1;for(;;){const we=["count="+E];se==-1?0<E?(se=J[0].g,we.push("ofs="+se)):se=0:we.push("ofs="+se);let mt=!0;for(let Sn=0;Sn<E;Sn++){let pt=J[Sn].g;const Ln=J[Sn].map;if(pt-=se,0>pt)se=Math.max(0,J[Sn].g-100),mt=!1;else try{La(Ln,we,"req"+pt+"_")}catch{V&&V(Ln)}}if(mt){V=we.join("&");break e}}}return m=m.i.splice(0,E),_.D=m,V}function Zd(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;ne||P(),oe||(ne(),oe=!0),be.add(_,m),m.v=0}}function Yc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=He(x(m.Fa,m),qc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=He(x(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),gl(this),Jd(this))};function mo(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Jd(m){m.g=new bt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=an(m.qa);Et(_,"RID","rpc"),Et(_,"SID",m.K),Et(_,"AID",m.T),Et(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Et(_,"TO",m.ja),Et(_,"TYPE","xmlhttp"),ho(m,_),m.m&&m.o&&Vn(_,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=so(an(_)),E.m=null,E.P=!0,vn(E,m)}n.Za=function(){this.C!=null&&(this.C=null,gl(this),Yc(this),fe(19))};function vl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ef(m,_){var E=null;if(m.g==_){vl(m),mo(m),m.g=null;var V=2}else if(ja(m.h,_))E=_.D,Qr(m.h,_),V=1;else return;if(m.G!=0){if(_.o)if(V==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var J=m.B;V=ts(),dn(V,new De(V,E)),yl(m)}else Zd(m);else if(J=_.s,J==3||J==0&&0<_.X||!(V==1&&Tp(m,_)||V==2&&Yc(m)))switch(E&&0<E.length&&(_=m.h,_.i=_.i.concat(E)),J){case 1:_i(m,5);break;case 4:_i(m,10);break;case 3:_i(m,6);break;default:_i(m,2)}}}function qc(m,_){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*_}function _i(m,_){if(m.j.info("Error code "+_),_==2){var E=x(m.fb,m),V=m.Xa;const J=!V;V=new gi(V||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rs(V,"https"),so(V),J?Gd(V.toString(),E):oo(V.toString(),E)}else fe(2);m.G=0,m.l&&m.l.sa(_),tf(m),Wd(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function tf(m){if(m.G=0,m.ka=[],m.l){const _=yr(m.h);(_.length!=0||m.i.length!=0)&&(D(m.ka,_),D(m.ka,m.i),m.h.i.length=0,A(m.i),m.i.length=0),m.l.ra()}}function nf(m,_,E){var V=E instanceof gi?an(E):new gi(E);if(V.g!="")_&&(V.g=_+"."+V.g),io(V,V.s);else{var J=u.location;V=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;var se=new gi(null);V&&rs(se,V),_&&(se.g=_),J&&io(se,J),E&&(se.l=E),V=se}return E=m.D,_=m.ya,E&&_&&Et(V,E,_),Et(V,"VER",m.la),ho(m,V),V}function rf(m,_,E){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Nt(new is({eb:E})):new Nt(m.pa),_.Ha(m.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}n=af.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bl(){}bl.prototype.g=function(m,_){return new vr(m,_)};function vr(m,_){Pt.call(this),this.g=new pl(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!U(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new za(this)}T(vr,Pt),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){zc(this.g)},vr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=es(m),m=E);_.i.push(new pi(_.Ya++,m)),_.G==3&&yl(_)},vr.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,vr.aa.N.call(this)};function sf(m){ba.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const E in _){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}T(sf,ba);function of(){ar.call(this),this.status=1}T(of,ar);function za(m){this.g=m}T(za,af),za.prototype.ua=function(){dn(this.g,"a")},za.prototype.ta=function(m){dn(this.g,new sf(m))},za.prototype.sa=function(m){dn(this.g,new of)},za.prototype.ra=function(){dn(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,AA=function(){return new bl},DA=function(){return ts()},SA=Yn,M0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,Nh=$e,wt.COMPLETE="complete",TA=wt,no.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,$u=no,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,EA=Nt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",bT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new hA("@firebase/firestore");function Ql(){return Qo.logLevel}function ke(n,...e){if(Qo.logLevel<=vt.DEBUG){const t=e.map(lb);Qo.debug(`Firestore (${Rc}): ${n}`,...t)}}function Ki(n,...e){if(Qo.logLevel<=vt.ERROR){const t=e.map(lb);Qo.error(`Firestore (${Rc}): ${n}`,...t)}}function dc(n,...e){if(Qo.logLevel<=vt.WARN){const t=e.map(lb);Qo.warn(`Firestore (${Rc}): ${n}`,...t)}}function lb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(n="Unexpected state"){const e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+n;throw Ki(e),new Error(e)}function kt(n,e){n||Ke()}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends nl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cr.UNAUTHENTICATED))}shutdown(){}}class q6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $6{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let r=this.i;const a=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},u=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new CA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new cr(e)}}class G6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new G6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new xT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=W6(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<t&&(r+=e.charAt(a[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function k0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return st(r,a);{const o=RA(),l=X6(o.encode(_T(n,t)),o.encode(_T(e,t)));return l!==0?l:st(r,a)}}t+=r>65535?2:1}return st(n.length,e.length)}function _T(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return st(n[t],e[t]);return st(n.length,e.length)}function fc(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,ET=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ET);return new Nn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wT)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Nn(0,0))}static max(){return new We(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__name__";class Ka{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ke(),r===void 0?r=e.length-t:r>e.length-t&&Ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const o=Ka.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=Ka.isNumericId(e),a=Ka.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Ka.extractNumericId(e).compare(Ka.extractNumericId(t)):k0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class Gt extends Ka{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const Z6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Ka{construct(e,t,r){return new Xn(e,t,r)}static isValidIdentifier(e){return Z6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TT}static keyField(){return new Xn([TT])}static fromServerFormat(e){const t=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Pe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Pe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(o(),a++)}if(o(),l)throw new Pe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Gt.fromString(e))}static fromName(e){return new qe(Gt.fromString(e).popFirst(5))}static empty(){return new qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=-1;function J6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new Nn(t+1,0):new Nn(t,r));return new Hs(a,qe.empty(),e)}function eV(n){return new Hs(n.readTime,n.key,vd)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(We.min(),qe.empty(),vd)}static max(){return new Hs(We.max(),qe.empty(),vd)}}function tV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=qe.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==nV)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let a=0,o=0,l=!1;e.forEach(u=>{++a,u.next(()=>{++o,l&&o===a&&t()},f=>r(f))}),l=!0,o===a&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(a=>a?ge.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,o)=>{r.push(t.call(this,a,o))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,a)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(g=>{l[h]=g,++u,u===o&&r(l)},g=>a(g))}})}static doWhile(e,t){return new ge((r,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):r()};o()})}}function aV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}zm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=-1;function Hm(n){return n==null}function tm(n){return n===0&&1/n==-1/0}function iV(n){return typeof n=="number"&&Number.isInteger(n)&&!tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="";function sV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ST(e)),e=oV(n.get(t),e);return ST(e)}function oV(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case MA:t+="";break;default:t+=o}}return t}function ST(n){return n+MA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t){this.comparator=e,this.root=t||Wn.EMPTY}insert(e,t){return new nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,t,r,a,o){this.key=e,this.value=t,this.color=r??Wn.RED,this.left=a??Wn.EMPTY,this.right=o??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,o){return new Wn(e??this.key,t??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,r),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Wn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,t,r,a,o){return this}insert(e,t,r){return new Wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(e){return new AT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class AT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new zr([])}unionWith(e){let t=new Mn(Xn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PA("Invalid base64 string: "+o):o}}(e);return new er(t)}static fromUint8Array(e){const t=function(a){let o="";for(let l=0;l<a.length;++l)o+=String.fromCharCode(a[l]);return o}(e);return new er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}er.EMPTY_BYTE_STRING=new er("");const lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(kt(!!n),typeof n=="string"){let e=0;const t=lV.exec(n);if(kt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?er.fromBase64String(n):er.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",IA="__type__",jA="__previous_value__",VA="__local_write_time__";function ub(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[IA])===null||t===void 0?void 0:t.stringValue)===OA}function Ym(n){const e=n.mapValue.fields[jA];return ub(e)?Ym(e):e}function bd(n){const e=Ys(n.mapValue.fields[VA].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t,r,a,o,l,u,f,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h}}const nm="(default)";class xd{constructor(e,t){this.projectId=e,this.database=t||nm}static empty(){return new xd("","")}get isDefaultDatabase(){return this.database===nm}isEqual(e){return e instanceof xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__type__",uV="__max__",hh={mapValue:{}},UA="__vector__",rm="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ub(n)?4:fV(n)?9007199254740991:dV(n)?10:11:Ke()}function oi(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bd(n).isEqual(bd(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const l=Ys(a.timestampValue),u=Ys(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,o){return qs(a.bytesValue).isEqual(qs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,o){return pn(a.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(a.geoPointValue.longitude)===pn(o.geoPointValue.longitude)}(n,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return pn(a.integerValue)===pn(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const l=pn(a.doubleValue),u=pn(o.doubleValue);return l===u?tm(l)===tm(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return fc(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,o){const l=a.mapValue.fields||{},u=o.mapValue.fields||{};if(DT(l)!==DT(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!oi(l[f],u[f])))return!1;return!0}(n,e);default:return Ke()}}function _d(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function hc(n,e){if(n===e)return 0;const t=$s(n),r=$s(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=pn(o.integerValue||o.doubleValue),f=pn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return CT(n.timestampValue,e.timestampValue);case 4:return CT(bd(n),bd(e));case 5:return k0(n.stringValue,e.stringValue);case 6:return function(o,l){const u=qs(o),f=qs(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const g=st(u[h],f[h]);if(g!==0)return g}return st(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=st(pn(o.latitude),pn(l.latitude));return u!==0?u:st(pn(o.longitude),pn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RT(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,f,h,g;const v=o.fields||{},x=l.fields||{},w=(u=v[rm])===null||u===void 0?void 0:u.arrayValue,T=(f=x[rm])===null||f===void 0?void 0:f.arrayValue,A=st(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:RT(w,T)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===hh.mapValue&&l===hh.mapValue)return 0;if(o===hh.mapValue)return 1;if(l===hh.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),h=l.fields||{},g=Object.keys(h);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const x=k0(f[v],g[v]);if(x!==0)return x;const w=hc(u[f[v]],h[g[v]]);if(w!==0)return w}return st(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Ke()}}function CT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Ys(n),r=Ys(e),a=st(t.seconds,r.seconds);return a!==0?a:st(t.nanos,r.nanos)}function RT(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const o=hc(t[a],r[a]);if(o)return o}return st(t.length,r.length)}function mc(n){return P0(n)}function P0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ys(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return qe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const o of t.values||[])a?a=!1:r+=",",r+=P0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const l of r)o?o=!1:a+=",",a+=`${l}:${P0(t.fields[l])}`;return a+"}"}(n.mapValue):Ke()}function Mh(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ym(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+Mh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return Js(r.fields,(o,l)=>{a+=o.length+Mh(l)}),a}(n.mapValue);default:throw Ke()}}function NT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function O0(n){return!!n&&"integerValue"in n}function db(n){return!!n&&"arrayValue"in n}function MT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function dV(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LA])===null||t===void 0?void 0:t.stringValue)===UA}function nd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(t)}setAll(e){let t=Xn.emptyPath(),r={},a=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,a),r={},a=[],t=u.popLast()}l?r[u.lastSegment()]=nd(l):a.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,a)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Js(t,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new Mr(nd(this.value))}}function BA(n){const e=[];return Js(n.fields,(t,r)=>{const a=new Xn([t]);if(kh(r)){const o=BA(r.mapValue).fields;if(o.length===0)e.push(a);else for(const l of o)e.push(a.child(l))}else e.push(a)}),new zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t,r,a,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new ur(e,0,We.min(),We.min(),We.min(),Mr.empty(),0)}static newFoundDocument(e,t,r,a){return new ur(e,1,t,We.min(),r,a,0)}static newNoDocument(e,t){return new ur(e,2,t,We.min(),We.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new ur(e,3,t,We.min(),We.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.position=e,this.inclusive=t}}function PT(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const o=e[a],l=n.position[a];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(l.referenceValue),t.key):r=hc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t="asc"){this.field=e,this.dir=t}}function hV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class En extends FA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pV(e,t,r):t==="array-contains"?new vV(e,r):t==="in"?new bV(e,r):t==="not-in"?new xV(e,r):t==="array-contains-any"?new _V(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gV(e,r):new yV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(hc(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends FA{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Na(e,t)}matches(e){return zA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zA(n){return n.op==="and"}function HA(n){return mV(n)&&zA(n)}function mV(n){for(const e of n.filters)if(e instanceof Na)return!1;return!0}function I0(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+mc(n.value);if(HA(n))return n.filters.map(e=>I0(e)).join(",");{const e=n.filters.map(t=>I0(t)).join(",");return`${n.op}(${e})`}}function YA(n,e){return n instanceof En?function(r,a){return a instanceof En&&r.op===a.op&&r.field.isEqual(a.field)&&oi(r.value,a.value)}(n,e):n instanceof Na?function(r,a){return a instanceof Na&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,l,u)=>o&&YA(l,a.filters[u]),!0):!1}(n,e):void Ke()}function qA(n){return n instanceof En?function(t){return`${t.field.canonicalString()} ${t.op} ${mc(t.value)}`}(n):n instanceof Na?function(t){return t.op.toString()+" {"+t.getFilters().map(qA).join(" ,")+"}"}(n):"Filter"}class pV extends En{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class gV extends En{constructor(e,t){super(e,"in",t),this.keys=$A("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yV extends En{constructor(e,t){super(e,"not-in",t),this.keys=$A("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $A(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class vV extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return db(t)&&_d(t.arrayValue,this.value)}}class bV extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class xV extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!_d(this.value.arrayValue,t)}}class _V extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!db(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t=null,r=[],a=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function IT(n,e=null,t=[],r=[],a=null,o=null,l=null){return new wV(n,e,t,r,a,o,l)}function fb(n){const e=Je(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>I0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mc(r)).join(",")),e.le=t}return e.le}function hb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!hV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OT(n.startAt,e.startAt)&&OT(n.endAt,e.endAt)}function j0(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,r=[],a=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function EV(n,e,t,r,a,o,l,u){return new kc(n,e,t,r,a,o,l,u)}function qm(n){return new kc(n)}function jT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GA(n){return n.collectionGroup!==null}function rd(n){const e=Je(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mn(Xn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new wd(o,r))}),t.has(Xn.keyField().canonicalString())||e.he.push(new wd(Xn.keyField(),r))}return e.he}function ai(n){const e=Je(n);return e.Pe||(e.Pe=TV(e,rd(n))),e.Pe}function TV(n,e){if(n.limitType==="F")return IT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new wd(a.field,o)});const t=n.endAt?new am(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new am(n.startAt.position,n.startAt.inclusive):null;return IT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function V0(n,e){const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function L0(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $m(n,e){return hb(ai(n),ai(e))&&n.limitType===e.limitType}function QA(n){return`${fb(ai(n))}|lt:${n.limitType}`}function Kl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>qA(a)).join(", ")}]`),Hm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>mc(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>mc(a)).join(",")),`Target(${r})`}(ai(n))}; limitType=${n.limitType})`}function Gm(n,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,a){for(const o of rd(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(l,u,f){const h=PT(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,rd(r),a)||r.endAt&&!function(l,u,f){const h=PT(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,rd(r),a))}(n,e)}function SV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KA(n){return(e,t)=>{let r=!1;for(const a of rd(n)){const o=DV(a,e,t);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function DV(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,l,u){const f=l.data.field(o),h=u.data.field(o);return f!==null&&h!==null?hc(f,h):Ke()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return kA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new nn(qe.comparator);function Wi(){return AV}const WA=new nn(qe.comparator);function Gu(...n){let e=WA;for(const t of n)e=e.insert(t.key,t);return e}function XA(n){let e=WA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return ad()}function ZA(){return ad()}function ad(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const CV=new nn(qe.comparator),RV=new Mn(qe.comparator);function ft(...n){let e=RV;for(const t of n)e=e.add(t);return e}const NV=new Mn(st);function MV(){return NV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tm(e)?"-0":e}}function JA(n){return{integerValue:""+n}}function kV(n,e){return iV(e)?JA(e):mb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this._=void 0}}function PV(n,e,t){return n instanceof Ed?function(a,o){const l={fields:{[IA]:{stringValue:OA},[VA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&ub(o)&&(o=Ym(o)),o&&(l.fields[jA]=o),{mapValue:l}}(t,e):n instanceof pc?tC(n,e):n instanceof Td?nC(n,e):function(a,o){const l=eC(a,o),u=VT(l)+VT(a.Ie);return O0(l)&&O0(a.Ie)?JA(u):mb(a.serializer,u)}(n,e)}function OV(n,e,t){return n instanceof pc?tC(n,e):n instanceof Td?nC(n,e):t}function eC(n,e){return n instanceof im?function(r){return O0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ed extends Qm{}class pc extends Qm{constructor(e){super(),this.elements=e}}function tC(n,e){const t=rC(e);for(const r of n.elements)t.some(a=>oi(a,r))||t.push(r);return{arrayValue:{values:t}}}class Td extends Qm{constructor(e){super(),this.elements=e}}function nC(n,e){let t=rC(e);for(const r of n.elements)t=t.filter(a=>!oi(a,r));return{arrayValue:{values:t}}}class im extends Qm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function VT(n){return pn(n.integerValue||n.doubleValue)}function rC(n){return db(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.field=e,this.transform=t}}function IV(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof pc&&a instanceof pc||r instanceof Td&&a instanceof Td?fc(r.elements,a.elements,oi):r instanceof im&&a instanceof im?oi(r.Ie,a.Ie):r instanceof Ed&&a instanceof Ed}(n.transform,e.transform)}class jV{constructor(e,t){this.version=e,this.transformResults=t}}class pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Km{}function iC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pb(n.key,pa.none()):new jd(n.key,n.data,pa.none());{const t=n.data,r=Mr.empty();let a=new Mn(Xn.comparator);for(let o of e.fields)if(!a.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),a=a.add(o)}return new eo(n.key,r,new zr(a.toArray()),pa.none())}}function VV(n,e,t){n instanceof jd?function(a,o,l){const u=a.value.clone(),f=UT(a.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof eo?function(a,o,l){if(!Ph(a.precondition,o))return void o.convertToUnknownDocument(l.version);const u=UT(a.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(sC(a)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(a,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function id(n,e,t,r){return n instanceof jd?function(o,l,u,f){if(!Ph(o.precondition,l))return u;const h=o.value.clone(),g=BT(o.fieldTransforms,f,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof eo?function(o,l,u,f){if(!Ph(o.precondition,l))return u;const h=BT(o.fieldTransforms,f,l),g=l.data;return g.setAll(sC(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return Ph(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function LV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),o=eC(r.transform,a||null);o!=null&&(t===null&&(t=Mr.empty()),t.set(r.field,o))}return t||null}function LT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&fc(r,a,(o,l)=>IV(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jd extends Km{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class eo extends Km{constructor(e,t,r,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UT(n,e,t){const r=new Map;kt(n.length===t.length);for(let a=0;a<t.length;a++){const o=n[a],l=o.transform,u=e.data.field(o.field);r.set(o.field,OV(l,u,t[a]))}return r}function BT(n,e,t){const r=new Map;for(const a of n){const o=a.transform,l=t.data.field(a.field);r.set(a.field,PV(o,l,e))}return r}class pb extends Km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UV extends Km{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&VV(o,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=id(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZA();return this.mutations.forEach(a=>{const o=e.get(a.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(a.key)?null:u;const f=iC(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ft())}isEqual(e){return this.batchId===e.batchId&&fc(this.mutations,e.mutations,(t,r)=>LT(t,r))&&fc(this.baseMutations,e.baseMutations,(t,r)=>LT(t,r))}}class gb{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){kt(e.mutations.length===r.length);let a=function(){return CV}();const o=e.mutations;for(let l=0;l<o.length;l++)a=a.insert(o[l].key,r[l].version);return new gb(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,yt;function HV(n){switch(n){case me.OK:return Ke();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Ke()}}function oC(n){if(n===void 0)return Ki("GRPC error has no .code"),me.UNKNOWN;switch(n){case wn.OK:return me.OK;case wn.CANCELLED:return me.CANCELLED;case wn.UNKNOWN:return me.UNKNOWN;case wn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case wn.INTERNAL:return me.INTERNAL;case wn.UNAVAILABLE:return me.UNAVAILABLE;case wn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case wn.NOT_FOUND:return me.NOT_FOUND;case wn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case wn.ABORTED:return me.ABORTED;case wn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case wn.DATA_LOSS:return me.DATA_LOSS;default:return Ke()}}(yt=wn||(wn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new js([4294967295,4294967295],0);function FT(n){const e=RA().encode(n),t=new wA;return t.update(e),new Uint8Array(t.digest())}function zT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new js([t,r],0),new js([a,o],0)]}class yb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=js.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(js.fromNumber(r)));return a.compare(YV)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=FT(e),[r,a]=zT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);if(!this.Re(l))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new yb(o,a,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=FT(e),[r,a]=zT(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(r,a,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,r,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wm(We.min(),a,new nn(st),Wi(),ft())}}class Vd{constructor(e,t,r,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vd(r,t,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class lC{constructor(e,t){this.targetId=e,this.ge=t}}class cC{constructor(e,t,r=er.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class HT{constructor(){this.pe=0,this.ye=YT(),this.we=er.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ft(),t=ft(),r=ft();return this.ye.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ke()}}),new Vd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=YT()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class qV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Wi(),this.$e=mh(),this.Ue=mh(),this.Ke=new nn(st)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const o=a.target;if(j0(o))if(r===0){const l=new qe(o.path);this.ze(t,l,ur.newNoDocument(l,We.min()))}else kt(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),f=u?this.nt(u,e,l):1;if(f!==0){this.Ye(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=t;let l,u;try{l=qs(r).toUint8Array()}catch(f){if(f instanceof PA)return dc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new yb(l,a,o)}catch(f){return dc(f instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&j0(u.target)){const f=new qe(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,ur.newNoDocument(f,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let r=ft();this.Ue.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const h=this.Xe(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const a=new Wm(e,t,this.Ke,this.Qe,r);return this.Qe=Wi(),this.$e=mh(),this.Ue=mh(),this.Ke=new nn(st),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new HT,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mn(st),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mn(st),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new HT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function mh(){return new nn(qe.comparator)}function YT(){return new nn(qe.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"};class KV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function U0(n,e){return n.useProto3Json||Hm(e)?e:{value:e}}function sm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function WV(n,e){return sm(n,e.toTimestamp())}function ii(n){return kt(!!n),We.fromTimestamp(function(t){const r=Ys(t);return new Nn(r.seconds,r.nanos)}(n))}function vb(n,e){return B0(n,e).canonicalString()}function B0(n,e){const t=function(a){return new Gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dC(n){const e=Gt.fromString(n);return kt(gC(e)),e}function F0(n,e){return vb(n.databaseId,e.path)}function Fy(n,e){const t=dC(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(hC(t))}function fC(n,e){return vb(n.databaseId,e)}function XV(n){const e=dC(n);return e.length===4?Gt.emptyPath():hC(e)}function z0(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hC(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function qT(n,e,t){return{name:F0(n,e),fields:t.value.mapValue.fields}}function ZV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(h,g){return h.useProto3Json?(kt(g===void 0||typeof g=="string"),er.fromBase64String(g||"")):(kt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),er.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const g=h.code===void 0?me.UNKNOWN:oC(h.code);return new Pe(g,h.message||"")}(l);t=new cC(r,a,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fy(n,r.document.name),o=ii(r.document.updateTime),l=r.document.createTime?ii(r.document.createTime):We.min(),u=new Mr({mapValue:{fields:r.document.fields}}),f=ur.newFoundDocument(a,o,l,u),h=r.targetIds||[],g=r.removedTargetIds||[];t=new Oh(h,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fy(n,r.document),o=r.readTime?ii(r.readTime):We.min(),l=ur.newNoDocument(a,o),u=r.removedTargetIds||[];t=new Oh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fy(n,r.document),o=r.removedTargetIds||[];t=new Oh([],o,a,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,l=new zV(a,o),u=r.targetId;t=new lC(u,l)}}return t}function JV(n,e){let t;if(e instanceof jd)t={update:qT(n,e.key,e.value)};else if(e instanceof pb)t={delete:F0(n,e.key)};else if(e instanceof eo)t={update:qT(n,e.key,e.data),updateMask:l5(e.fieldMask)};else{if(!(e instanceof UV))return Ke();t={verify:F0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Ed)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Td)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof im)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ke()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:WV(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ke()}(n,e.precondition)),t}function e5(n,e){return n&&n.length>0?(kt(e!==void 0),n.map(t=>function(a,o){let l=a.updateTime?ii(a.updateTime):ii(o);return l.isEqual(We.min())&&(l=ii(o)),new jV(l,a.transformResults||[])}(t,e))):[]}function t5(n,e){return{documents:[fC(n,e.path)]}}function n5(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fC(n,a);const o=function(h){if(h.length!==0)return pC(Na.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(g=>function(x){return{field:Wl(x.field),direction:i5(x.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=U0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:a}}function r5(n){let e=XV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){kt(r===1);const g=t.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const x=mC(v);return x instanceof Na&&HA(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(x=>function(T){return new wd(Xl(T.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(v){let x;return x=typeof v=="object"?v.value:v,Hm(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(v){const x=!!v.before,w=v.values||[];return new am(w,x)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const x=!v.before,w=v.values||[];return new am(w,x)}(t.endAt)),EV(e,a,l,o,u,"F",f,h)}function a5(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xl(t.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Xl(t.unaryFilter.field);return En.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xl(t.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xl(t.unaryFilter.field);return En.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(n):n.fieldFilter!==void 0?function(t){return En.create(Xl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Na.create(t.compositeFilter.filters.map(r=>mC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ke()}}(t.compositeFilter.op))}(n):Ke()}function i5(n){return $V[n]}function s5(n){return GV[n]}function o5(n){return QV[n]}function Wl(n){return{fieldPath:n.canonicalString()}}function Xl(n){return Xn.fromServerFormat(n.fieldPath)}function pC(n){return n instanceof En?function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NAN"}};if(MT(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NOT_NAN"}};if(MT(t.value))return{unaryFilter:{field:Wl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(t.field),op:s5(t.op),value:t.value}}}(n):n instanceof Na?function(t){const r=t.getFilters().map(a=>pC(a));return r.length===1?r[0]:{compositeFilter:{op:o5(t.op),filters:r}}}(n):Ke()}function l5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,a,o=We.min(),l=We.min(),u=er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.Tt=e}}function u5(n){const e=r5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?L0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.Tn=new f5}addToCollectionParentIndex(e,t){return this.Tn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(Hs.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class f5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Mn(Gt.comparator),o=!a.has(r);return this.index[t]=a.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Mn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yC=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(yC,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new gc(0)}static Kn(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",h5=1048576;function QT([n,e],[t,r]){const a=st(n,t);return a===0?st(e,r):a}class m5{constructor(e){this.Hn=e,this.buffer=new Mn(QT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class p5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ke(GT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mc(t)?ke(GT,"Ignoring IndexedDB error during garbage collection: ",t):await Nc(t)}await this.er(3e5)})}}class g5{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ge.resolve(zm.ae);const r=new m5(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve($T)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,o,l,u,f,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,l=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Ql()<=vt.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-g}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function y5(n,e){return new g5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&id(r.mutation,a,zr.empty(),Nn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ft()){const a=Fo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(o=>{let l=Gu();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ft()))}populateOverlays(e,t,r){const a=[];return r.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,a){let o=Wi();const l=ad(),u=function(){return ad()}();return t.forEach((f,h)=>{const g=r.get(h.key);a.has(h.key)&&(g===void 0||g.mutation instanceof eo)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),id(g.mutation,h,g.mutation.getFieldMask(),Nn.now())):l.set(h.key,zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,g)=>l.set(h,g)),t.forEach((h,g)=>{var v;return u.set(h,new b5(g,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=ad();let a=new nn((l,u)=>l-u),o=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let g=r.get(f)||zr.empty();g=u.applyToLocalView(h,g),r.set(f,g);const v=(a.get(u.batchId)||ft()).add(f);a=a.insert(u.batchId,v)})}).next(()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,g=f.value,v=ZA();g.forEach(x=>{if(!o.has(x)){const w=iC(t.get(x),r.get(x));w!==null&&v.set(x,w),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ge.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(o=>{const l=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-o.size):ge.resolve(Fo());let u=vd,f=o;return l.next(h=>ge.forEach(h,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?ge.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{f=f.insert(g,x)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,ft())).next(g=>({batchId:u,changes:XA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let a=Gu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const o=t.collectionGroup;let l=Gu();return this.indexManager.getCollectionParents(e,o).next(u=>ge.forEach(u,f=>{const h=function(v,x){return new kc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(g=>{g.forEach((v,x)=>{l=l.insert(v,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,a))).next(l=>{o.forEach((f,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,ur.newInvalidDocument(g)))});let u=Gu();return l.forEach((f,h)=>{const g=o.get(f);g!==void 0&&id(g.mutation,h,zr.empty(),Nn.now()),Gm(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ge.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ii(a.createTime)}}(t)),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:u5(a.bundledQuery),readTime:ii(a.readTime)}}(t)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.overlays=new nn(qe.comparator),this.Rr=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return ge.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,o)=>{this.Et(e,t,o)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const a=Fo(),o=t.length+1,l=new qe(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&a.set(f.getKey(),f)}return ge.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let o=new nn((h,g)=>h-g);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let g=o.get(h.largestBatchId);g===null&&(g=Fo(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=Fo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=a)););return ge.resolve(u)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new FV(t,r));let o=this.Rr.get(t);o===void 0&&(o=ft(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.sessionToken=er.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.Vr=new Mn(zn.mr),this.gr=new Mn(zn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new zn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new zn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new qe(new Gt([])),r=new zn(t,e),a=new zn(t,e+1),o=[];return this.gr.forEachInRange([r,a],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new qe(new Gt([])),r=new zn(t,e),a=new zn(t,e+1);let o=ft();return this.gr.forEachInRange([r,a],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new zn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return qe.comparator(e.key,t.key)||st(e.Cr,t.Cr)}static pr(e,t){return st(e.Cr,t.Cr)||qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mn(zn.mr)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new BV(o,t,r,a);this.mutationQueue.push(l);for(const u of a)this.Mr=this.Mr.add(new zn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,t){return ge.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),o=a<0?0:a;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?cb:this.Fr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zn(t,0),a=new zn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,a],l=>{const u=this.Or(l.Cr);o.push(u)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(st);return t.forEach(a=>{const o=new zn(a,0),l=new zn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{r=r.add(u.Cr)})}),ge.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const l=new zn(new qe(o),0);let u=new Mn(st);return this.Mr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(u=u.add(f.Cr)),!0)},l),ge.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ge.forEach(t.mutations,a=>{const o=new zn(a.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new zn(t,0),a=this.Mr.firstAfterOrEqual(r);return ge.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.kr=e,this.docs=function(){return new nn(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),o=a?a.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():ur.newInvalidDocument(a))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let o=Wi();const l=t.path,u=new qe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:g}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||tV(eV(g),r)<=0||(a.has(g.key)||Gm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(e,t,r,a){Ke()}qr(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new D5(this)}getSize(e){return ge.resolve(this.size)}}class D5 extends v5{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.persistence=e,this.Qr=new rl(t=>fb(t),hb),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.$r=0,this.Ur=new bb,this.targetCount=0,this.Kr=gc.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ge.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new gc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.zn(t),ge.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let a=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)}),ge.waitFor(o).next(()=>a)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(l=>{o.push(a.markPotentiallyOrphaned(e,l))}),ge.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new zm(0),this.zr=!1,this.zr=!0,this.jr=new E5,this.referenceDelegate=e(this),this.Hr=new A5(this),this.indexManager=new d5,this.remoteDocumentCache=function(a){return new S5(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new c5(t),this.Yr=new _5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new T5(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const a=new C5(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(e,t){return ge.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class C5 extends rV{constructor(e){super(),this.currentSequenceNumber=e}}class xb{constructor(e){this.persistence=e,this.ti=new bb,this.ni=null}static ri(e){return new xb(e)}get ii(){if(this.ni)return this.ni;throw Ke()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ge.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.ii,r=>{const a=qe.fromPath(r);return this.si(e,a).next(o=>{o||t.removeEntry(a,We.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ge.or([()=>ge.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class om{constructor(e,t){this.persistence=e,this.oi=new rl(r=>sV(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=y5(this,t)}static ri(e,t){return new om(e,t)}Zr(){}Xr(e){return ge.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ge.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(o=>o?ge.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,o.removeEntry(l,We.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ge.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}ar(e,t,r){return ge.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ge.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=ft(),a=ft();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new _b(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Cj()?8:aV(Dj())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,a,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new R5;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,r,a){return r.documentReadCount<this.es?(Ql()<=vt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Kl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ge.resolve()):(Ql()<=vt.DEBUG&&ke("QueryEngine","Query:",Kl(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(Ql()<=vt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Kl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):ge.resolve())}rs(e,t){if(jT(t))return ge.resolve(null);let r=ai(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=L0(t,null,"F"),r=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=ft(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.cs(t,u);return this.ls(t,h,l,f.readTime)?this.rs(e,L0(t,null,"F")):this.hs(e,h,t,f)}))})))}ss(e,t,r,a){return jT(t)||a.isEqual(We.min())?ge.resolve(null):this.ns.getDocuments(e,r).next(o=>{const l=this.cs(t,o);return this.ls(t,l,r,a)?ge.resolve(null):(Ql()<=vt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Kl(t)),this.hs(e,l,t,J6(a,vd)).next(u=>u))})}cs(e,t){let r=new Mn(KA(e));return t.forEach((a,o)=>{Gm(e,o)&&(r=r.add(o))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(e,t,r){return Ql()<=vt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Kl(t)),this.ns.getDocumentsMatchingQuery(e,t,Hs.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="LocalStore",M5=3e8;class k5{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new nn(st),this.Is=new rl(o=>fb(o),hb),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function P5(n,e,t,r){return new k5(n,e,t,r)}async function bC(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let f=ft();for(const h of a){l.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}for(const h of o){u.push(h.batchId);for(const g of h.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function O5(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,h,g){const v=h.batch,x=v.keys();let w=ge.resolve();return x.forEach(T=>{w=w.next(()=>g.getEntry(f,T)).next(A=>{const D=h.docVersions.get(T);kt(D!==null),A.version.compareTo(D)<0&&(v.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function xC(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function I5(n,e){const t=Je(n),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const u=[];e.targetChanges.forEach((g,v)=>{const x=a.get(v);if(!x)return;u.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,v)));let w=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(er.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(v,w),function(A,D,O){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=M5?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(x,w,g)&&u.push(t.Hr.updateTargetData(o,w))});let f=Wi(),h=ft();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(j5(o,l,e.documentUpdates).next(g=>{f=g.Vs,h=g.fs})),!r.isEqual(We.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(v=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(g)}return ge.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.Ts=a,o))}function j5(n,e,t){let r=ft(),a=ft();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Wi();return t.forEach((u,f)=>{const h=o.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):ke(wb,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{Vs:l,fs:a}})}function V5(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L5(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(o=>o?(a=o,ge.resolve(a)):t.Hr.allocateTargetId(r).next(l=>(a=new Ms(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function H0(n,e,t){const r=Je(n),a=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Mc(l))throw l;ke(wb,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function KT(n,e,t){const r=Je(n);let a=We.min(),o=ft();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,g){const v=Je(f),x=v.Is.get(g);return x!==void 0?ge.resolve(v.Ts.get(x)):v.Hr.getTargetData(h,g)}(r,l,ai(e)).next(u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?a:We.min(),t?o:ft())).next(u=>(U5(r,SV(e),u),{documents:u,gs:o})))}function U5(n,e,t){let r=n.Es.get(e)||We.min();t.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class WT{constructor(){this.activeTargetIds=MV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B5{constructor(){this.ho=new WT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new WT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="ConnectivityMonitor";class ZT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ke(XT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ke(XT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Y0(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",z5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===nm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,o){const l=Y0(),u=this.bo(e,t.toUriEncodedString());ke(zy,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,a,o),this.vo(e,u,f,r).then(h=>(ke(zy,`Received RPC '${e}' ${l}: `,h),h),h=>{throw dc(zy,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,a,o,l){return this.So(e,t,r,a,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}bo(e,t){const r=z5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class q5 extends H5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const o=Y0();return new Promise((l,u)=>{const f=new EA;f.setWithCredentials(!0),f.listenOnce(TA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Nh.NO_ERROR:const g=f.getResponseJson();ke(or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Nh.TIMEOUT:ke(or,`RPC '${e}' ${o} timed out`),u(new Pe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const v=f.getStatus();if(ke(or,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const T=function(D){const O=D.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(O)>=0?O:me.UNKNOWN}(w.status);u(new Pe(T,w.message))}else u(new Pe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Pe(me.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{ke(or,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(a);ke(or,`RPC '${e}' ${o} sending request:`,a),f.send(t,"POST",h,r,15)})}Wo(e,t,r){const a=Y0(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=AA(),u=DA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");ke(or,`Creating RPC '${e}' stream ${a}: ${g}`,f);const v=l.createWebChannel(g,f);let x=!1,w=!1;const T=new Y5({Fo:D=>{w?ke(or,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(x||(ke(or,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),ke(or,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),A=(D,O,U)=>{D.listen(O,B=>{try{U(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return A(v,$u.EventType.OPEN,()=>{w||(ke(or,`RPC '${e}' stream ${a} transport opened.`),T.Qo())}),A(v,$u.EventType.CLOSE,()=>{w||(w=!0,ke(or,`RPC '${e}' stream ${a} transport closed`),T.Uo())}),A(v,$u.EventType.ERROR,D=>{w||(w=!0,dc(or,`RPC '${e}' stream ${a} transport errored:`,D),T.Uo(new Pe(me.UNAVAILABLE,"The operation could not be completed")))}),A(v,$u.EventType.MESSAGE,D=>{var O;if(!w){const U=D.data[0];kt(!!U);const B=U,Y=(B==null?void 0:B.error)||((O=B[0])===null||O===void 0?void 0:O.error);if(Y){ke(or,`RPC '${e}' stream ${a} received error:`,Y);const M=Y.status;let $=function(R){const N=wn[R];if(N!==void 0)return oC(N)}(M),j=Y.message;$===void 0&&($=me.INTERNAL,j="Unknown error status: "+M+" with message "+Y.message),w=!0,T.Uo(new Pe($,j)),v.close()}else ke(or,`RPC '${e}' stream ${a} received:`,U),T.Ko(U)}}),A(u,SA.STAT_EVENT,D=>{D.stat===M0.PROXY?ke(or,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===M0.NOPROXY&&ke(or,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Hy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n){return new KV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,t,r=1e3,a=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="PersistentStream";class wC{constructor(e,t,r,a,o,l,u,f){this.Ti=e,this.n_=r,this.r_=a,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _C(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new Pe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ke(JT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ke(JT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $5 extends wC{constructor(e,t,r,a,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ZV(this.serializer,e),r=function(o){if(!("targetChange"in o))return We.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?We.min():l.readTime?ii(l.readTime):We.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=z0(this.serializer),t.addTarget=function(o,l){let u;const f=l.target;if(u=j0(f)?{documents:t5(o,f)}:{query:n5(o,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uC(o,l.resumeToken);const h=U0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(We.min())>0){u.readTime=sm(o,l.snapshotVersion.toTimestamp());const h=U0(o,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=a5(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=z0(this.serializer),t.removeTarget=e,this.I_(t)}}class G5 extends wC{constructor(e,t,r,a,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=e5(e.writeResults,e.commitTime),r=ii(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=z0(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>JV(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{}class K5 extends Q5{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,B0(t,r),a,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(me.UNKNOWN,o.toString())})}Co(e,t,r,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,B0(t,r),a,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(me.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class W5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ki(t),this.N_=!1):ke("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class X5{constructor(e,t,r,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{r.enqueueAndForget(async()=>{al(this)&&(ke(Ko,"Restarting streams for network reachability change."),await async function(f){const h=Je(f);h.W_.add(4),await Ld(h),h.j_.set("Unknown"),h.W_.delete(4),await Zm(h)}(this))})}),this.j_=new W5(r,a)}}async function Zm(n){if(al(n))for(const e of n.G_)await e(!0)}async function Ld(n){for(const e of n.G_)await e(!1)}function EC(n,e){const t=Je(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Db(t)?Sb(t):Pc(t).c_()&&Tb(t,e))}function Eb(n,e){const t=Je(n),r=Pc(t);t.K_.delete(e),r.c_()&&TC(t,e),t.K_.size===0&&(r.c_()?r.P_():al(t)&&t.j_.set("Unknown"))}function Tb(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pc(n).y_(e)}function TC(n,e){n.H_.Ne(e),Pc(n).w_(e)}function Sb(n){n.H_=new qV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Pc(n).start(),n.j_.B_()}function Db(n){return al(n)&&!Pc(n).u_()&&n.K_.size>0}function al(n){return Je(n).W_.size===0}function SC(n){n.H_=void 0}async function Z5(n){n.j_.set("Online")}async function J5(n){n.K_.forEach((e,t)=>{Tb(n,e)})}async function eL(n,e){SC(n),Db(n)?(n.j_.q_(e),Sb(n)):n.j_.set("Unknown")}async function tL(n,e,t){if(n.j_.set("Online"),e instanceof cC&&e.state===2&&e.cause)try{await async function(a,o){const l=o.cause;for(const u of o.targetIds)a.K_.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.K_.delete(u),a.H_.removeTarget(u))}(n,e)}catch(r){ke(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lm(n,r)}else if(e instanceof Oh?n.H_.We(e):e instanceof lC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(We.min()))try{const r=await xC(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.K_.get(h);g&&o.K_.set(h,g.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const g=o.K_.get(f);if(!g)return;o.K_.set(f,g.withResumeToken(er.EMPTY_BYTE_STRING,g.snapshotVersion)),TC(o,f);const v=new Ms(g.target,f,h,g.sequenceNumber);Tb(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ke(Ko,"Failed to raise snapshot:",r),await lm(n,r)}}async function lm(n,e,t){if(!Mc(e))throw e;n.W_.add(1),await Ld(n),n.j_.set("Offline"),t||(t=()=>xC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke(Ko,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Zm(n)})}function DC(n,e){return e().catch(t=>lm(n,t,e))}async function Jm(n){const e=Je(n),t=Gs(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:cb;for(;nL(e);)try{const a=await V5(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,rL(e,a)}catch(a){await lm(e,a)}AC(e)&&CC(e)}function nL(n){return al(n)&&n.U_.length<10}function rL(n,e){n.U_.push(e);const t=Gs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function AC(n){return al(n)&&!Gs(n).u_()&&n.U_.length>0}function CC(n){Gs(n).start()}async function aL(n){Gs(n).C_()}async function iL(n){const e=Gs(n);for(const t of n.U_)e.b_(t.mutations)}async function sL(n,e,t){const r=n.U_.shift(),a=gb.from(r,e,t);await DC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Jm(n)}async function oL(n,e){e&&Gs(n).S_&&await async function(r,a){if(function(l){return HV(l)&&l!==me.ABORTED}(a.code)){const o=r.U_.shift();Gs(r).h_(),await DC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Jm(r)}}(n,e),AC(n)&&CC(n)}async function eS(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),ke(Ko,"RemoteStore received new credentials");const r=al(t);t.W_.add(3),await Ld(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Zm(t)}async function lL(n,e){const t=Je(n);e?(t.W_.delete(2),await Zm(t)):e||(t.W_.add(2),await Ld(t),t.j_.set("Unknown"))}function Pc(n){return n.J_||(n.J_=function(t,r,a){const o=Je(t);return o.M_(),new $5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:Z5.bind(null,n),No:J5.bind(null,n),Lo:eL.bind(null,n),p_:tL.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Db(n)?Sb(n):n.j_.set("Unknown")):(await n.J_.stop(),SC(n))})),n.J_}function Gs(n){return n.Y_||(n.Y_=function(t,r,a){const o=Je(t);return o.M_(),new G5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:aL.bind(null,n),Lo:oL.bind(null,n),D_:iL.bind(null,n),v_:sL.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Jm(n)):(await n.Y_.stop(),n.U_.length>0&&(ke(Ko,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,r,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,o){const l=Date.now()+r,u=new Ab(e,t,l,a,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cb(n,e){if(Ki("AsyncQueue",`${e}: ${n}`),Mc(n))return new Pe(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{static emptySet(e){return new ac(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Gu(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ac)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ac;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.Z_=new nn(qe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yc{constructor(e,t,r,a,o,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,a,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new yc(e,t,ac.emptySet(t),l,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uL{constructor(){this.queries=nS(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Je(t),o=a.queries;a.queries=nS(),o.forEach((l,u)=>{for(const f of u.ta)f.onError(r)})})(this,new Pe(me.ABORTED,"Firestore shutting down"))}}function nS(){return new rl(n=>QA(n),$m)}async function Rb(n,e){const t=Je(n);let r=3;const a=e.query;let o=t.queries.get(a);o?!o.na()&&e.ra()&&(r=2):(o=new cL,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(a,!0);break;case 1:o.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(l){const u=Cb(l,`Initialization of query '${Kl(e.query)}' failed`);return void e.onError(u)}t.queries.set(a,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Mb(t)}async function Nb(n,e){const t=Je(n),r=e.query;let a=3;const o=t.queries.get(r);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?a=e.ra()?0:1:!o.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function dL(n,e){const t=Je(n);let r=!1;for(const a of e){const o=a.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(a)&&(r=!0);l.ea=a}}r&&Mb(t)}function fL(n,e,t){const r=Je(n),a=r.queries.get(e);if(a)for(const o of a.ta)o.onError(t);r.queries.delete(e)}function Mb(n){n.ia.forEach(e=>{e.next()})}var q0,rS;(rS=q0||(q0={}))._a="default",rS.Cache="cache";class kb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==q0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.key=e}}class NC{constructor(e){this.key=e}}class hL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ft(),this.mutatedKeys=ft(),this.ya=KA(e),this.wa=new ac(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new tS,a=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const x=a.get(g),w=Gm(this.query,v)?v:null,T=!!x&&this.mutatedKeys.has(x.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let D=!1;x&&w?x.data.isEqual(w.data)?T!==A&&(r.track({type:3,doc:w}),D=!0):this.va(x,w)||(r.track({type:2,doc:w}),D=!0,(f&&this.ya(w,f)>0||h&&this.ya(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),D=!0):x&&!w&&(r.track({type:1,doc:x}),D=!0,(f||h)&&(u=!0)),D&&(w?(l=l.add(w),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,v)=>function(w,T){const A=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return A(w)-A(T)}(g.type,v.type)||this.ya(g.doc,v.doc)),this.Ca(r),a=a!=null&&a;const u=t&&!a?this.Fa():[],f=this.pa.size===0&&this.current&&!a?1:0,h=f!==this.ga;return this.ga=f,l.length!==0||h?{snapshot:new yc(this.query,e.wa,o,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tS,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ft(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new NC(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new RC(r))}),t}Oa(e){this.fa=e.gs,this.pa=ft();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return yc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Pb="SyncEngine";class mL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pL{constructor(e){this.key=e,this.Ba=!1}}class gL{constructor(e,t,r,a,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new rl(u=>QA(u),$m),this.qa=new Map,this.Qa=new Set,this.$a=new nn(qe.comparator),this.Ua=new Map,this.Ka=new bb,this.Wa={},this.Ga=new Map,this.za=gc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yL(n,e,t=!0){const r=jC(n);let a;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await MC(r,e,t,!0),a}async function vL(n,e){const t=jC(n);await MC(t,e,!0,!1)}async function MC(n,e,t,r){const a=await L5(n.localStore,ai(e)),o=a.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await bL(n,e,o,l==="current",a.resumeToken)),n.isPrimaryClient&&t&&EC(n.remoteStore,a),u}async function bL(n,e,t,r,a){n.Ha=(v,x,w)=>async function(A,D,O,U){let B=D.view.ba(O);B.ls&&(B=await KT(A.localStore,D.query,!1).then(({documents:j})=>D.view.ba(j,B)));const Y=U&&U.targetChanges.get(D.targetId),M=U&&U.targetMismatches.get(D.targetId)!=null,$=D.view.applyChanges(B,A.isPrimaryClient,Y,M);return iS(A,D.targetId,$.Ma),$.snapshot}(n,v,x,w);const o=await KT(n.localStore,e,!0),l=new hL(e,o.gs),u=l.ba(o.documents),f=Vd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),h=l.applyChanges(u,n.isPrimaryClient,f);iS(n,t,h.Ma);const g=new mL(e,t,l);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function xL(n,e,t){const r=Je(n),a=r.ka.get(e),o=r.qa.get(a.targetId);if(o.length>1)return r.qa.set(a.targetId,o.filter(l=>!$m(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await H0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Eb(r.remoteStore,a.targetId),$0(r,a.targetId)}).catch(Nc)):($0(r,a.targetId),await H0(r.localStore,a.targetId,!0))}async function _L(n,e){const t=Je(n),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Eb(t.remoteStore,r.targetId))}async function wL(n,e,t){const r=RL(n);try{const a=await function(l,u){const f=Je(l),h=Nn.now(),g=u.reduce((w,T)=>w.add(T.key),ft());let v,x;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Wi(),A=ft();return f.ds.getEntries(w,g).next(D=>{T=D,T.forEach((O,U)=>{U.isValidDocument()||(A=A.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,T)).next(D=>{v=D;const O=[];for(const U of u){const B=LV(U,v.get(U.key).overlayedDocument);B!=null&&O.push(new eo(U.key,B,BA(B.value.mapValue),pa.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,O,u)}).next(D=>{x=D;const O=D.applyToLocalDocumentSet(v,A);return f.documentOverlayCache.saveOverlays(w,D.batchId,O)})}).then(()=>({batchId:x.batchId,changes:XA(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,u,f){let h=l.Wa[l.currentUser.toKey()];h||(h=new nn(st)),h=h.insert(u,f),l.Wa[l.currentUser.toKey()]=h}(r,a.batchId,t),await Ud(r,a.changes),await Jm(r.remoteStore)}catch(a){const o=Cb(a,"Failed to persist write");t.reject(o)}}async function kC(n,e){const t=Je(n);try{const r=await I5(t.localStore,e);e.targetChanges.forEach((a,o)=>{const l=t.Ua.get(o);l&&(kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.Ba=!0:a.modifiedDocuments.size>0?kt(l.Ba):a.removedDocuments.size>0&&(kt(l.Ba),l.Ba=!1))}),await Ud(t,r,e)}catch(r){await Nc(r)}}function aS(n,e,t){const r=Je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&a.push(u.snapshot)}),function(l,u){const f=Je(l);f.onlineState=u;let h=!1;f.queries.forEach((g,v)=>{for(const x of v.ta)x.sa(u)&&(h=!0)}),h&&Mb(f)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EL(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),o=a&&a.key;if(o){let l=new nn(qe.comparator);l=l.insert(o,ur.newNoDocument(o,We.min()));const u=ft().add(o),f=new Wm(We.min(),new Map,new nn(st),l,u);await kC(r,f),r.$a=r.$a.remove(o),r.Ua.delete(e),Ob(r)}else await H0(r.localStore,e,!1).then(()=>$0(r,e,t)).catch(Nc)}async function TL(n,e){const t=Je(n),r=e.batch.batchId;try{const a=await O5(t.localStore,e);OC(t,r,null),PC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ud(t,a)}catch(a){await Nc(a)}}async function SL(n,e,t){const r=Je(n);try{const a=await function(l,u){const f=Je(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return f.mutationQueue.lookupMutationBatch(h,u).next(v=>(kt(v!==null),g=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>f.localDocuments.getDocuments(h,g))})}(r.localStore,e);OC(r,e,t),PC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ud(r,a)}catch(a){await Nc(a)}}function PC(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function OC(n,e,t){const r=Je(n);let a=r.Wa[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function $0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||IC(n,r)})}function IC(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Eb(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Ob(n))}function iS(n,e,t){for(const r of t)r instanceof RC?(n.Ka.addReference(r.key,e),DL(n,r)):r instanceof NC?(ke(Pb,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||IC(n,r.key)):Ke()}function DL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ke(Pb,"New document in limbo: "+t),n.Qa.add(r),Ob(n))}function Ob(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new qe(Gt.fromString(e)),r=n.za.next();n.Ua.set(r,new pL(t)),n.$a=n.$a.insert(t,r),EC(n.remoteStore,new Ms(ai(qm(t.path)),r,"TargetPurposeLimboResolution",zm.ae))}}async function Ud(n,e,t){const r=Je(n),a=[],o=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,f)=>{l.push(r.Ha(f,e,t).then(h=>{var g;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){a.push(h);const v=_b.Yi(f.targetId,h);o.push(v)}}))}),await Promise.all(l),r.La.p_(a),await async function(f,h){const g=Je(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ge.forEach(h,x=>ge.forEach(x.Hi,w=>g.persistence.referenceDelegate.addReference(v,x.targetId,w)).next(()=>ge.forEach(x.Ji,w=>g.persistence.referenceDelegate.removeReference(v,x.targetId,w)))))}catch(v){if(!Mc(v))throw v;ke(wb,"Failed to update sequence numbers: "+v)}for(const v of h){const x=v.targetId;if(!v.fromCache){const w=g.Ts.get(x),T=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(T);g.Ts=g.Ts.insert(x,A)}}}(r.localStore,o))}async function AL(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){ke(Pb,"User change. New user:",e.toKey());const r=await bC(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new Pe(me.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ud(t,r.Rs)}}function CL(n,e){const t=Je(n),r=t.Ua.get(e);if(r&&r.Ba)return ft().add(r.key);{let a=ft();const o=t.qa.get(e);if(!o)return a;for(const l of o){const u=t.ka.get(l);a=a.unionWith(u.view.Sa)}return a}}function jC(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EL.bind(null,e),e.La.p_=dL.bind(null,e.eventManager),e.La.Ja=fL.bind(null,e.eventManager),e}function RL(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SL.bind(null,e),e}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return P5(this.persistence,new N5,e.initialUser,this.serializer)}Xa(e){return new vC(xb.ri,this.serializer)}Za(e){return new B5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class NL extends cm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof om);const r=this.persistence.referenceDelegate.garbageCollector;return new p5(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new vC(r=>om.ri(r,t),this.serializer)}}class G0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await lL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uL}()}createDatastore(e){const t=Xm(e.databaseInfo.databaseId),r=function(o){return new q5(o)}(e.databaseInfo);return function(o,l,u,f){return new K5(o,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,o,l,u){return new X5(r,a,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>aS(this.syncEngine,t,0),function(){return ZT.D()?new ZT:new F5}())}createSyncEngine(e,t){return function(a,o,l,u,f,h,g){const v=new gL(a,o,l,u,f,h);return g&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Je(a);ke(Ko,"RemoteStore shutting down."),o.W_.add(5),await Ld(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}G0.provider={build:()=>new G0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class ML{constructor(e,t,r,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=cr.UNAUTHENTICATED,this.clientId=NA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{ke(Qs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ke(Qs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yy(n,e){n.asyncQueue.verifyOperationInProgress(),ke(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await bC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function sS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kL(n);ke(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>eS(e.remoteStore,a)),n._onlineComponents=e}async function kL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke(Qs,"Using user provided OfflineComponentProvider");try{await Yy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;dc("Error using user provided cache. Falling back to memory cache: "+t),await Yy(n,new cm)}}else ke(Qs,"Using default OfflineComponentProvider"),await Yy(n,new NL(void 0));return n._offlineComponents}async function VC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke(Qs,"Using user provided OnlineComponentProvider"),await sS(n,n._uninitializedComponentsProvider._online)):(ke(Qs,"Using default OnlineComponentProvider"),await sS(n,new G0))),n._onlineComponents}function PL(n){return VC(n).then(e=>e.syncEngine)}async function um(n){const e=await VC(n),t=e.eventManager;return t.onListen=yL.bind(null,e.syncEngine),t.onUnlisten=xL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_L.bind(null,e.syncEngine),t}function OL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const g=new Ib({next:x=>{g.su(),l.enqueueAndForget(()=>Nb(o,v));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new Pe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new kb(qm(u.path),g,{includeMetadataChanges:!0,Ta:!0});return Rb(o,v)}(await um(n),n.asyncQueue,e,t,r)),r.promise}function IL(n,e,t={}){const r=new Fi;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,h){const g=new Ib({next:x=>{g.su(),l.enqueueAndForget(()=>Nb(o,v)),x.fromCache&&f.source==="server"?h.reject(new Pe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),v=new kb(u,g,{includeMetadataChanges:!0,Ta:!0});return Rb(o,v)}(await um(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n,e,t){if(!t)throw new Pe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jL(n,e,t,r){if(e===!0&&r===!0)throw new Pe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lS(n){if(!qe.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(qe.isDocumentKey(n))throw new Pe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ke()}function kr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ep(n);throw new Pe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firestore.googleapis.com",uS=!0;class dS{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BC,this.ssl=uS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h5)throw new Pe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Pe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y6;switch(r.type){case"firstParty":return new Q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=oS.get(t);r&&(ke("ComponentProvider","Removing Datastore"),oS.delete(t),r.terminate())}(this),Promise.resolve()}}function VL(n,e,t,r={}){var a;const o=(n=kr(n,tp))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==BC&&o.host!==u&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:r});if(!pd(f,l)&&(n._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=cr.MOCK_USER;else{h=dA(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Pe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cr(v)}n._authCredentials=new q6(new CA(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class Vs extends to{constructor(e,t,r){super(e,t,qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new qe(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function Kt(n,e,...t){if(n=Ra(n),UC("collection","path",e),n instanceof tp){const r=Gt.fromString(e,...t);return cS(r),new Vs(n,null,r)}{if(!(n instanceof mr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return cS(r),new Vs(n.firestore,null,r)}}function Rn(n,e,...t){if(n=Ra(n),arguments.length===1&&(e=NA.newId()),UC("doc","path",e),n instanceof tp){const r=Gt.fromString(e,...t);return lS(r),new mr(n,null,new qe(r))}{if(!(n instanceof mr||n instanceof Vs))throw new Pe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return lS(r),new mr(n.firestore,n instanceof Vs?n.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="AsyncQueue";class hS{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _C(this,"async_queue_retry"),this.Su=()=>{const r=Hy();r&&ke(fS,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Hy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Hy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Mc(e))throw e;ke(fS,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Ki("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Ab.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&Ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function mS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of r)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Xi extends tp{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new hS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hS(e),this._firestoreClient=void 0,await e}}}function FC(n,e){const t=typeof n=="object"?n:bA(),r=typeof n=="string"?n:nm,a=gA(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=cA("firestore");o&&VL(a,...o)}return a}function np(n){if(n._terminated)throw new Pe(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LL(n),n._firestoreClient}function LL(n){var e,t,r;const a=n._freezeSettings(),o=function(u,f,h,g){return new cV(u,f,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,LC(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new ML(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vc(er.fromBase64String(e))}catch(t){throw new Pe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vc(er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Pe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^__.*__$/;class BL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}class zC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class ap{constructor(e,t,r,a,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HC(this.Lu)&&UL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class FL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xm(e)}ju(e,t,r,a=!1){return new ap({Lu:e,methodName:t,zu:r,path:Xn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(n){const e=n._freezeSettings(),t=Xm(n._databaseId);return new FL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YC(n,e,t,r,a,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,e,t,a);Bb("Data must be an object, but it was:",l,r);const u=qC(r,l);let f,h;if(o.merge)f=new zr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const x=Q0(e,v,t);if(!l.contains(x))throw new Pe(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);GC(g,x)||g.push(x)}f=new zr(g),h=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=l.fieldTransforms;return new BL(new Mr(u),f,h)}class sp extends Bd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sp}}function zL(n,e,t){return new ap({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lb extends Bd{_toFieldTransform(e){return new aC(e.path,new Ed)}isEqual(e){return e instanceof Lb}}class Ub extends Bd{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=zL(this,e,!0),r=this.Hu.map(o=>Oc(o,t)),a=new pc(r);return new aC(e.path,a)}isEqual(e){return e instanceof Ub&&pd(this.Hu,e.Hu)}}function HL(n,e,t,r){const a=n.ju(1,e,t);Bb("Data must be an object, but it was:",a,r);const o=[],l=Mr.empty();Js(r,(f,h)=>{const g=Fb(e,f,t);h=Ra(h);const v=a.Uu(g);if(h instanceof sp)o.push(g);else{const x=Oc(h,v);x!=null&&(o.push(g),l.set(g,x))}});const u=new zr(o);return new zC(l,u,a.fieldTransforms)}function YL(n,e,t,r,a,o){const l=n.ju(1,e,t),u=[Q0(e,r,t)],f=[a];if(o.length%2!=0)throw new Pe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)u.push(Q0(e,o[x])),f.push(o[x+1]);const h=[],g=Mr.empty();for(let x=u.length-1;x>=0;--x)if(!GC(h,u[x])){const w=u[x];let T=f[x];T=Ra(T);const A=l.Uu(w);if(T instanceof sp)h.push(w);else{const D=Oc(T,A);D!=null&&(h.push(w),g.set(w,D))}}const v=new zr(h);return new zC(g,v,l.fieldTransforms)}function qL(n,e,t,r=!1){return Oc(t,n.ju(r?4:3,e))}function Oc(n,e){if($C(n=Ra(n)))return Bb("Unsupported field value:",e,n),qC(n,e);if(n instanceof Bd)return function(r,a){if(!HC(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const o=[];let l=0;for(const u of r){let f=Oc(u,a.Ku(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,a){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Nn.fromDate(r);return{timestampValue:sm(a.serializer,o)}}if(r instanceof Nn){const o=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sm(a.serializer,o)}}if(r instanceof jb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vc)return{bytesValue:uC(a.serializer,r._byteString)};if(r instanceof mr){const o=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw a.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vb(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Vb)return function(l,u){return{mapValue:{fields:{[LA]:{stringValue:UA},[rm]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return mb(u.serializer,h)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${ep(r)}`)}(n,e)}function qC(n,e){const t={};return kA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(r,a)=>{const o=Oc(a,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function $C(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof jb||n instanceof vc||n instanceof mr||n instanceof Bd||n instanceof Vb)}function Bb(n,e,t){if(!$C(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=ep(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Q0(n,e,t){if((e=Ra(e))instanceof rp)return e._internalPath;if(typeof e=="string")return Fb(n,e);throw dm("Field path arguments must be of type string or ",n,!1,void 0,t)}const $L=new RegExp("[~\\*/\\[\\]]");function Fb(n,e,t){if(e.search($L)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rp(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dm(n,e,t,r,a){const o=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Pe(me.INVALID_ARGUMENT,u+n+f)}function GC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t,r,a,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(op("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GL extends QC{data(){return super.data()}}function op(n,e){return typeof e=="string"?Fb(n,e):e instanceof rp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Pe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zb{}class WC extends zb{}function wr(n,e,...t){let r=[];e instanceof zb&&r.push(e),r=r.concat(t),function(o){const l=o.filter(f=>f instanceof Hb).length,u=o.filter(f=>f instanceof lp).length;if(l>1||l>0&&u>0)throw new Pe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class lp extends WC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new lp(e,t,r)}_apply(e){const t=this._parse(e);return XC(e._query,t),new to(e.firestore,e.converter,V0(e._query,t))}_parse(e){const t=ip(e.firestore);return function(o,l,u,f,h,g,v){let x;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){gS(v,g);const T=[];for(const A of v)T.push(pS(f,o,A));x={arrayValue:{values:T}}}else x=pS(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||gS(v,g),x=qL(u,l,v,g==="in"||g==="not-in");return En.create(h,g,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dr(n,e,t){const r=e,a=op("where",n);return lp._create(a,r,t)}class Hb extends zb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Na.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let l=a;const u=o.getFlattenedFilters();for(const f of u)XC(l,f),l=V0(l,f)}(e._query,t),new to(e.firestore,e.converter,V0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yb extends WC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yb(e,t)}_apply(e){const t=function(a,o,l){if(a.startAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Pe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wd(o,l)}(e._query,this._field,this._direction);return new to(e.firestore,e.converter,function(a,o){const l=a.explicitOrderBy.concat([o]);return new kc(a.path,a.collectionGroup,l,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function fm(n,e="asc"){const t=e,r=op("orderBy",n);return Yb._create(r,t)}function pS(n,e,t){if(typeof(t=Ra(t))=="string"){if(t==="")throw new Pe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&t.indexOf("/")!==-1)throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Gt.fromString(t));if(!qe.isDocumentKey(r))throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NT(n,new qe(r))}if(t instanceof mr)return NT(n,t._key);throw new Pe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(t)}.`)}function gS(n,e){if(!Array.isArray(n)||n.length===0)throw new Pe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(n,e){const t=function(a,o){for(const l of a)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QL{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Js(e,(a,o)=>{r[a]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,a;const o=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[rm].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(l=>pn(l.doubleValue));return new Vb(o)}convertGeoPoint(e){return new jb(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ym(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const t=Ys(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);kt(gC(r));const a=new xd(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return a.isEqual(t)||Ki(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JC extends QC{constructor(e,t,r,a,o,l){super(e,t,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ih extends JC{data(e={}){return super.data(e)}}class eR{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ku(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ih(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(u=>{const f=new Ih(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Ku(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new Ih(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Ku(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,g=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:KL(u.type),doc:f,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function KL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){n=kr(n,mr);const e=kr(n.firestore,Xi);return OL(np(e),n._key).then(t=>nR(e,n,t))}class qb extends QL{constructor(e){super(),this.firestore=e}convertBytes(e){return new vc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function fr(n){n=kr(n,to);const e=kr(n.firestore,Xi),t=np(e),r=new qb(e);return KC(n._query),IL(t,n._query).then(a=>new eR(e,r,n,a))}function $b(n,e,t){n=kr(n,mr);const r=kr(n.firestore,Xi),a=ZC(n.converter,e,t);return cp(r,[YC(ip(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,pa.none())])}function Yo(n,e,t,...r){n=kr(n,mr);const a=kr(n.firestore,Xi),o=ip(a);let l;return l=typeof(e=Ra(e))=="string"||e instanceof rp?YL(o,"updateDoc",n._key,e,t,r):HL(o,"updateDoc",n._key,e),cp(a,[l.toMutation(n._key,pa.exists(!0))])}function tR(n){return cp(kr(n.firestore,Xi),[new pb(n._key,pa.none())])}function Sd(n,e){const t=kr(n.firestore,Xi),r=Rn(n),a=ZC(n.converter,e);return cp(t,[YC(ip(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,pa.exists(!1))]).then(()=>r)}function K0(n,...e){var t,r,a;n=Ra(n);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||mS(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mS(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let f,h,g;if(n instanceof mr)h=kr(n.firestore,Xi),g=qm(n._key.path),f={next:v=>{e[l]&&e[l](nR(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=kr(n,to);h=kr(v.firestore,Xi),g=v._query;const x=new qb(h);f={next:w=>{e[l]&&e[l](new eR(h,x,v,w))},error:e[l+1],complete:e[l+2]},KC(n._query)}return function(x,w,T,A){const D=new Ib(A),O=new kb(w,D,T);return x.asyncQueue.enqueueAndForget(async()=>Rb(await um(x),O)),()=>{D.su(),x.asyncQueue.enqueueAndForget(async()=>Nb(await um(x),O))}}(np(h),g,u,f)}function cp(n,e){return function(r,a){const o=new Fi;return r.asyncQueue.enqueueAndForget(async()=>wL(await PL(r),a,o)),o.promise}(np(n),e)}function nR(n,e,t){const r=t.docs.get(e._key),a=new qb(n);return new JC(n,a,e._key,r,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}function Wo(){return new Lb("serverTimestamp")}function qy(...n){return new Ub("arrayUnion",n)}(function(e,t=!0){(function(a){Rc=a})(vA),gd(new uc("firestore",(r,{instanceIdentifier:a,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new Xi(new $6(r.getProvider("auth-internal")),new K6(l,r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xd(h.options.projectId,g)}(l,a),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Is(vT,bT,e),Is(vT,bT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebasestorage.googleapis.com",WL="storageBucket",XL=2*60*1e3,ZL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends nl{constructor(e,t,r=0){super($y(e),`Firebase Storage: ${t} (${$y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function $y(n){return"storage/"+n}function JL(){const n="An unknown error occurred, please check the error payload for server response.";return new fi(li.UNKNOWN,n)}function e9(){return new fi(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t9(){return new fi(li.CANCELED,"User canceled the upload/download.")}function n9(n){return new fi(li.INVALID_URL,"Invalid URL '"+n+"'.")}function r9(n){return new fi(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function yS(n){return new fi(li.INVALID_ARGUMENT,n)}function aR(){return new fi(li.APP_DELETED,"The Firebase app was deleted.")}function a9(n){return new fi(li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Aa.makeFromUrl(e,t)}catch{return new Aa(e,"")}if(r.path==="")return r;throw r9(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+a+l,"i"),f={bucket:1,path:3};function h(Y){Y.path_=decodeURIComponent(Y.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${g}/b/${a}/o${x}`,"i"),T={bucket:1,path:3},A=t===rR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",O=new RegExp(`^https?://${A}/${a}/${D}`,"i"),B=[{regex:u,indices:f,postModify:o},{regex:w,indices:T,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let Y=0;Y<B.length;Y++){const M=B[Y],$=M.regex.exec(e);if($){const j=$[M.indices.bucket];let C=$[M.indices.path];C||(C=""),r=new Aa(j,C),M.postModify(r);break}}if(r==null)throw n9(e);return r}}class i9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(n,e,t){let r=1,a=null,o=null,l=!1,u=0;function f(){return u===2}let h=!1;function g(...D){h||(h=!0,e.apply(null,D))}function v(D){a=setTimeout(()=>{a=null,n(w,f())},D)}function x(){o&&clearTimeout(o)}function w(D,...O){if(h){x();return}if(D){x(),g.call(null,D,...O);return}if(f()||l){x(),g.call(null,D,...O);return}r<64&&(r*=2);let B;u===1?(u=2,B=0):B=(r+Math.random())*1e3,v(B)}let T=!1;function A(D){T||(T=!0,x(),!h&&(a!==null?(D||(u=2),clearTimeout(a),v(0)):D||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function o9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(n){return n!==void 0}function vS(n,e,t,r){if(r<e)throw yS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yS(`Invalid value for '${n}'. Expected ${t} or less.`)}function c9(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var hm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(hm||(hm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,t,r,a,o,l,u,f,h,g,v,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new gh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const f=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===hm.NO_ERROR,f=o.getStatus();if(!u||u9(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===hm.ABORT;r(!1,new gh(!1,null,g));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new gh(h,o))})},t=(r,a)=>{const o=this.resolve_,l=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());l9(f)?o(f):o()}catch(f){l(f)}else if(u!==null){const f=JL();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(a.canceled){const f=this.appDelete_?aR():t9();l(f)}else{const f=e9();l(f)}};this.canceled_?t(!1,new gh(!1,null,!0)):this.backoffId_=s9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function f9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function h9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function m9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function p9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function g9(n,e,t,r,a,o,l=!0){const u=c9(n.urlParams),f=n.url+u,h=Object.assign({},n.headers);return m9(h,e),f9(h,t),h9(h,o),p9(h,r),new d9(f,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function v9(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this._service=e,t instanceof Aa?this._location=t:this._location=Aa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new mm(e,t)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v9(this._location.path)}get storage(){return this._service}get parent(){const e=y9(this._location.path);if(e===null)return null;const t=new Aa(this._location.bucket,e);return new mm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw a9(e)}}function bS(n,e){const t=e==null?void 0:e[WL];return t==null?null:Aa.makeFromBucketSpec(t,n)}function b9(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:dA(a,n.app.options.projectId))}class x9{constructor(e,t,r,a,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._bucket=null,this._host=rR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XL,this._maxUploadRetryTime=ZL,this._requests=new Set,a!=null?this._bucket=Aa.makeFromBucketSpec(a,this._host):this._bucket=bS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=bS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mm(this,e)}_makeRequest(e,t,r,a,o=!0){if(this._deleted)return new i9(aR());{const l=g9(e,this._appId,r,a,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const xS="@firebase/storage",_S="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="storage";function sR(n=bA(),e){n=Ra(n);const r=gA(n,iR).getImmediate({identifier:e}),a=cA("storage");return a&&_9(r,...a),r}function _9(n,e,t,r={}){b9(n,e,t,r)}function w9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new x9(t,r,a,e,vA)}function E9(){gd(new uc(iR,w9,"PUBLIC").setMultipleInstances(!0)),Is(xS,_S,""),Is(xS,_S,"esm2017")}E9();const T9={apiKey:"AIzaSyDePZqpCrFdNsN1hUdw2_rwMfKP41SJgvU",authDomain:"nafa3ny-de185.firebaseapp.com",projectId:"nafa3ny-de185",storageBucket:"nafa3ny-de185.firebasestorage.app",messagingSenderId:"346694832541",appId:"1:346694832541:web:d2869f3ffb43e3c69a5f74"},S9={apiKey:"AIzaSyAtavYnI9TNKfwxDm2cwFuLoxsgdTcNU8s",authDomain:"nafany2-589de.firebaseapp.com",projectId:"nafany2-589de",storageBucket:"nafany2-589de.firebasestorage.app",messagingSenderId:"440873274458",appId:"1:440873274458:web:2236ff7a246bdcd45a1c63"},oR=ob(T9),lR=ob(S9,"app2"),tt=FC(oR);FC(lR);sR(oR);sR(lR);const D9=()=>{const[n,e]=k.useState(""),[t,r]=k.useState(""),[a,o]=k.useState(""),[l,u]=k.useState(""),[f,h]=k.useState(!1),g=tr(),v=async x=>{x.preventDefault(),u(""),h(!0);try{n==="admin"&&t==="admin1"&&g("/nafany/admin");const T=Kt(tt,a==="user"?"users":"serviceProviders"),A=wr(T,dr("email","==",n)),D=await fr(A);if(D.empty){u("الحساب غير موجود");return}const O=D.docs[0],U=O.data();if(U.password!==t){u("كلمة المرور غير صحيحة");return}const B={uid:O.id,email:U.email,name:U.name||"",phone:U.phone||"",role:a,governorate:U.governorate||"",...a==="provider"&&{profession:U.profession||"",category:U.category||"",profileImage:U.profileImage||""}};localStorage.setItem("currentUser",JSON.stringify(B)),a==="user"?g("/nafany"):a==="provider"&&g("/nafany/servicer_page")}catch(w){console.error("خطأ أثناء تسجيل الدخول:",w),u("حدث خطأ أثناء تسجيل الدخول")}finally{h(!1)}};return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-50 to-cyan-100",children:y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-md border border-cyan-100",dir:"rtl",children:[y.jsx(ve.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-2xl font-bold text-cyan-800 mb-6 text-center",children:"تسجيل الدخول"}),l&&y.jsx("p",{className:"text-red-600 text-center mb-4",children:l}),y.jsxs("form",{onSubmit:v,className:"max-w-md mx-auto",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"البريد الإلكتروني أو رقم الهاتف*"}),y.jsx("input",{type:"text",value:n,onChange:x=>e(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"كلمة المرور*"}),y.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),className:"w-full border border-gray-300 rounded-md p-3 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),y.jsx("div",{className:"flex items-center justify-between mb-6",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"user",name:"role",value:"user",checked:a==="user",onChange:()=>o("user"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"user",className:"mr-2 block text-sm text-gray-700",children:"مستخدم"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"radio",id:"provider",name:"role",value:"provider",checked:a==="provider",onChange:()=>o("provider"),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"provider",className:"mr-2 block text-sm text-gray-700",children:"مقدم خدمة"})]})]})}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx(ve.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"block w-full py-3 bg-cyan-600 hover:bg-cyan-700 focus:bg-cyan-700 text-white rounded-md text-center font-medium shadow-md",disabled:f,children:f?"جاري التحميل...":"تسجيل الدخول"}),y.jsx(ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:y.jsx("button",{onClick:()=>g(-1),className:"block w-full py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-md text-center font-medium shadow-md",children:"رجوع"})})]})]}),y.jsxs("div",{className:"mt-6 text-center",children:[y.jsx("p",{className:"text-gray-600 mb-3",children:"ليس لديك حساب؟"}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx($h,{to:"/nafany/register_user",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"إنشاء حساب مستخدم جديد"}),y.jsx($h,{to:"/nafany/register",className:"text-cyan-600 hover:text-cyan-800 font-medium text-sm",children:"التسجيل كمقدم خدمة"})]})]})]})})},A9=()=>{var R;const n=tr(),[e,t]=k.useState({name:"",email:"",password:"",nationalId:"",governorate:"",category:"",profession:"",subscriptionFee:"",idFrontImage:null,idBackImage:null,profileImage:null,bio:"",allowContact:!1,phone:"",address:"",ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0,role:"user"}),[r,a]=k.useState(null),[o,l]=k.useState(null),[u,f]=k.useState(null),[h,g]=k.useState({}),[v,x]=k.useState(!1),[w,T]=k.useState(!1),A=["وسط البلد","الزمالك"],D={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد","فني تكييفات","نقاش","ترزي"],"خدمات صحية":["طبيب عام","صيدلي","أخصائي تغذية","ممرض","أخصائي علاج طبيعي","طبيب أسنان"],"خدمات عامة":["سوبر ماركت","مطعم","كافيه","مولات"],"خدمات أخرى":["عطار","جزار","فكهاني","خضري","محل ألبان"]},O=["100 جنيه","200 جنيه","300 جنيه"];k.useEffect(()=>{t(N=>({...N,governorate:A[0],category:Object.keys(D)[0],profession:D[Object.keys(D)[0]][0],subscriptionFee:O[0]}))},[]);const U=()=>{let N={};return e.name.trim()||(N.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(N.email="البريد الإلكتروني غير صالح"):N.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(N.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):N.password="كلمة المرور مطلوبة",e.nationalId.trim()||(N.nationalId="الرقم القومي مطلوب"),e.idFrontImage||(N.idFrontImage="صورة البطاقة الأمامية مطلوبة"),e.idBackImage||(N.idBackImage="صورة البطاقة الخلفية مطلوبة"),e.phone.trim()||(N.phone="رقم الهاتف مطلوب"),e.address.trim()||(N.address="العنوان مطلوب"),g(N),Object.keys(N).length===0},B=async N=>{const L=wr(Kt(tt,"serviceProviders"),dr("email","==",N));return!(await fr(L)).empty},Y=(N,L)=>{if(!N)return;const H=new FileReader;H.onload=()=>{const F=H.result;t(Se=>({...Se,[L]:F})),L==="idFrontImage"?(a(F),g({...h,idFrontImage:""})):L==="idBackImage"?(l(F),g({...h,idBackImage:""})):L==="profileImage"&&f(F)},H.readAsDataURL(N)},M=N=>{const L=N.target.value;t(H=>({...H,category:L,profession:D[L][0],allowContact:L==="خدمات فنية"?H.allowContact:!1}))},$=async N=>{if(N.preventDefault(),T(!0),!U()){T(!1);return}try{if(await B(e.email)){x(!0),T(!1);return}if(!e.idFrontImage||!e.idBackImage){g({...h,idFrontImage:e.idFrontImage?"":"صورة البطاقة الأمامية مطلوبة",idBackImage:e.idBackImage?"":"صورة البطاقة الخلفية مطلوبة"}),T(!1);return}const H={name:e.name,email:e.email,password:e.password,nationalId:e.nationalId,governorate:e.governorate,category:e.category,profession:e.profession,subscriptionFee:e.subscriptionFee,idFrontImage:e.idFrontImage,idBackImage:e.idBackImage,profileImage:e.profileImage,bio:e.bio,phone:e.phone,address:e.address,createdAt:new Date,ratings:{},chats:{},works:[],worksCount:0,averageRating:0,totalRatings:0};e.category==="خدمات فنية"&&(H.allowContact=e.allowContact),await $b(Rn(tt,"serviceProviders",e.email),H),alert("تم التسجيل بنجاح"),n("/nafany/login")}catch(L){console.error("حدث خطأ أثناء التسجيل: ",L),alert("حدث خطأ أثناء التسجيل، يرجى المحاولة مرة أخرى")}finally{T(!1)}},j=N=>{const{name:L,value:H}=N.target;t({...e,[L]:H}),h[L]&&g({...h,[L]:""}),L==="email"&&v&&x(!1)},C=(N,L)=>{const H={name:"الاسم",email:"البريد الإلكتروني",password:"كلمة المرور",nationalId:"الرقم القومي",phone:"رقم الهاتف",address:"العنوان"},F={password:"password",email:"email",nationalId:"number",phone:"tel",default:"text"};return y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:L*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:H[N]}),y.jsx("input",{type:F[N]||F.default,name:N,placeholder:`أدخل ${H[N]}`,className:`w-full border ${h[N]?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,required:!0,value:e[N],onChange:j}),h[N]&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:h[N]}),N==="email"&&v&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:"البريد الإلكتروني مستخدم بالفعل"})]},L)};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل مقدم الخدمة"}),y.jsxs(ve.form,{onSubmit:$,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[["name","email","password","nationalId","phone","address"].map((N,L)=>C(N,L)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"التصنيف"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.category,onChange:M,children:Object.keys(D).map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المهنة/الخدمة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.profession,onChange:N=>t(L=>({...L,profession:N.target.value})),children:(R=D[e.category])==null?void 0:R.map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),e.category==="خدمات فنية"&&y.jsx(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:e.allowContact,onChange:N=>t(L=>({...L,allowContact:N.target.checked})),className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر بين الفني والعميل"})]})}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المحافظة"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:N=>t(L=>({...L,governorate:N.target.value})),children:A.map((N,L)=>y.jsx("option",{className:`${L<3&&L!=0?"text-red-600":""}`,value:N,children:N},L))})]}),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.6},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"رسوم الاشتراك"}),y.jsx("select",{className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.subscriptionFee,onChange:N=>t(L=>({...L,subscriptionFee:N.target.value})),children:O.map((N,L)=>y.jsx("option",{value:N,children:N},L))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{field:"idFrontImage",label:"صورة البطاقة من الأمام",preview:r,error:h.idFrontImage},{field:"idBackImage",label:"صورة البطاقة من الخلف",preview:o,error:h.idBackImage}].map((N,L)=>y.jsxs(ve.div,{className:"space-y-2",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:L*.3},children:[y.jsxs("div",{className:`bg-gray-50 border-2 border-dashed ${N.error?"border-red-500":"border-gray-300"} rounded-lg p-4 text-center hover:border-cyan-400 transition-colors`,children:[y.jsx("input",{type:"file",className:"hidden",id:`id-image-${L}`,required:!0,onChange:H=>Y(H.target.files[0],N.field),accept:"image/*"}),y.jsx("label",{htmlFor:`id-image-${L}`,className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:N.preview?y.jsx("img",{src:N.preview,alt:N.label,className:"h-20 w-20 object-cover rounded-lg mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:N.label}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]}),N.error&&y.jsx("p",{className:"text-red-500 text-sm",children:N.error})]},L))})]}),y.jsxs(ve.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),y.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-cyan-400 transition-colors",children:[y.jsx("input",{type:"file",className:"hidden",id:"profile-image",onChange:N=>Y(N.target.files[0],"profileImage"),accept:"image/*"}),y.jsx("label",{htmlFor:"profile-image",className:"cursor-pointer",children:y.jsx("div",{className:"text-gray-500 flex flex-col items-center",children:u?y.jsx("img",{src:u,alt:"الصورة الشخصية",className:"h-20 w-20 object-cover rounded-full mb-2"}):y.jsxs(y.Fragment,{children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),y.jsx("span",{className:"text-sm font-medium",children:"صورة شخصية"}),y.jsx("span",{className:"text-xs mt-1",children:"اضغط للاختيار"})]})})})]})]}),y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.9},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"تعريف شخصي"}),y.jsx("textarea",{placeholder:"أدخل تعريفاً شخصياً مختصراً عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:e.bio,onChange:N=>t(L=>({...L,bio:N.target.value}))})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:`py-3 ${w?"bg-cyan-400":"bg-cyan-600 hover:bg-cyan-700"} text-white rounded-lg font-medium shadow-md flex items-center justify-center`,whileHover:{scale:w?1:1.03},whileTap:{scale:w?1:.97},disabled:w,children:w?"جاري التسجيل...":"تسجيل"})]})]})]})})},C9=()=>{const n=tr(),[e,t]=k.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",chats:{}}),[r,a]=k.useState({}),[o,l]=k.useState(!1),[u,f]=k.useState(!1),h=["وسط البلد","الزمالك"],g=()=>{let A={};return e.name.trim()||(A.name="الاسم مطلوب"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(A.email="البريد الإلكتروني غير صالح"):A.email="البريد الإلكتروني مطلوب",e.password.trim()?e.password.length<6&&(A.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"):A.password="كلمة المرور مطلوبة",e.governorate||(A.governorate="يجب اختيار المحافظة"),a(A),Object.keys(A).length===0},v=async A=>{const D=wr(Kt(tt,"users"),dr("email","==",A));return!(await fr(D)).empty},x=async A=>(await bc(Rn(tt,"users",A))).exists(),w=async A=>{if(A.preventDefault(),!g())return;const D=e.email.split("@")[0],O=await v(e.email),U=await x(D);if(O){l(!0);return}if(U){f(!0);return}try{await $b(Rn(tt,"users",D),{...e}),alert("User registered successfully"),n("/nafany/login")}catch(B){console.error("Error adding user: ",B)}},T=A=>{t({...e,[A.target.name]:A.target.value}),a({...r,[A.target.name]:""}),A.target.name==="email"&&(l(!1),f(!1))};return y.jsx(ve.div,{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 p-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs(ve.div,{className:"p-8 bg-white rounded-xl shadow-lg text-right w-full max-w-lg border border-cyan-100",dir:"rtl",initial:{scale:.9},animate:{scale:1},transition:{duration:.5},children:[y.jsx(ve.h2,{className:"text-2xl font-bold text-center mb-8 text-cyan-800",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"تسجيل المستخدم"}),y.jsxs(ve.form,{onSubmit:w,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[[{label:"الاسم",name:"name"},{label:"عنوان البريد",name:"email"},{label:"كلمة المرور",name:"password",type:"password"},{label:"رقم الهاتف",name:"phoneNumber"}].map(({label:A,name:D,type:O="text"},U)=>y.jsxs(ve.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:U*.2},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:A}),y.jsx("input",{type:O,name:D,placeholder:`أدخل ${A}`,className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e[D],onChange:T}),r[D]&&y.jsx("p",{className:"text-red-500 text-sm",children:r[D]}),D==="email"&&o&&y.jsx("p",{className:"text-red-500 text-sm",children:"البريد الإلكتروني مستخدم بالفعل"}),D==="email"&&u&&y.jsx("p",{className:"text-red-500 text-sm",children:"اسم المستخدم مستخدم بالفعل"})]},U)),y.jsxs(ve.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.4},children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm mb-2",children:"المنطقة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",required:!0,value:e.governorate,onChange:T,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),h.map((A,D)=>y.jsx("option",{className:`${D<3&&D!=0?"text-red-600":""}`,value:A,children:A},D))]}),r.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:r.governorate})]}),y.jsxs(ve.div,{className:"pt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(ve.button,{type:"button",onClick:()=>n(-1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"رجوع"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md flex items-center justify-center",whileHover:{scale:1.03},whileTap:{scale:.97},children:"تسجيل"})]})]})]})})};var cR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wS=X.createContext&&X.createContext(cR),R9=["attr","size","title"];function N9(n,e){if(n==null)return{};var t=M9(n,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function M9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pm(){return pm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pm.apply(this,arguments)}function ES(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,r)}return t}function gm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(t),!0).forEach(function(r){k9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ES(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function k9(n,e,t){return e=P9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P9(n){var e=O9(n,"string");return typeof e=="symbol"?e:e+""}function O9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uR(n){return n&&n.map((e,t)=>X.createElement(e.tag,gm({key:t},e.attr),uR(e.child)))}function kn(n){return e=>X.createElement(I9,pm({attr:gm({},n.attr)},e),uR(n.child))}function I9(n){var e=t=>{var{attr:r,size:a,title:o}=n,l=N9(n,R9),u=a||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),X.createElement("svg",pm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:gm(gm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&X.createElement("title",null,o),n.children)};return wS!==void 0?X.createElement(wS.Consumer,null,t=>e(t)):e(cR)}function j9(n){return kn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function V9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function L9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function U9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function B9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function dR(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function F9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function z9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function H9(n){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function Y9(n){return kn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function q9(n){return kn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function $9(n){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function W0(n){return kn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function G9(n){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function Q9(n){return kn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function K9(n){return kn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Gb(n){return kn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function fR(n){return kn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}const hR=({isLoggedIn:n,onLogout:e,userData:t})=>{const r=tr(),[a,o]=X.useState(!1);return y.jsxs(ve.header,{className:"bg-white shadow-md px-4 md:px-8 py-3 md:py-4 flex justify-between items-center relative",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},dir:"rtl",children:[y.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto",children:[y.jsx("img",{src:"/nafany/IMG-20250322-WA0070.jpg",alt:"Logo",className:"h-12 w-12 sm:h-16 sm:w-16 md:h-20 md:w-20 object-contain ml-2 md:ml-4"}),y.jsxs("nav",{className:"hidden md:flex items-center mr-4 space-x-reverse space-x-4 lg:space-x-6 font-bold text-base lg:text-xl",children:[y.jsx("button",{onClick:()=>r("/nafany/complaints"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الشكاوى والاقتراحات"}),y.jsx("button",{onClick:()=>r("/nafany/contact"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>r("/nafany/settings"),className:"text-gray-700 hover:text-cyan-800 transition-colors",children:"الإعدادات"})]}),y.jsx("button",{className:"md:hidden text-gray-700 mr-2 z-50",onClick:()=>o(!a),"aria-label":"القائمة",children:a?y.jsx(Q9,{size:24}):y.jsx(F9,{size:24})})]}),y.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[n&&y.jsxs("span",{className:"text-gray-700 font-medium text-base mb-2",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]}),y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})]}),y.jsx(Fk,{children:a&&y.jsx(ve.div,{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),children:y.jsxs(ve.div,{className:"absolute top-16 right-0 w-3/4 max-w-sm h-full bg-white shadow-lg z-50 overflow-y-auto overflow-x-hidden",initial:{x:300},animate:{x:0},exit:{x:300},transition:{type:"spring",damping:25,stiffness:300},onClick:l=>l.stopPropagation(),children:[n&&y.jsx("div",{className:"px-6 pt-6 pb-2 border-b border-gray-200",children:y.jsxs("span",{className:"text-gray-700 font-medium text-base block text-right",children:["مرحبًا، ",(t==null?void 0:t.name)||"عزيزي المستخدم"]})}),y.jsxs("nav",{className:"flex flex-col items-end p-6 space-y-6 font-bold text-lg",children:[y.jsx("button",{onClick:()=>{r("/nafany/settings"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الإعدادات"}),y.jsx("button",{onClick:()=>{r("/nafany/contact"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"تواصل معنا"}),y.jsx("button",{onClick:()=>{r("/nafany/complaints"),o(!1)},className:"text-gray-700 hover:text-cyan-800 transition-colors w-full text-right",children:"الشكاوى والاقتراحات"}),y.jsx("div",{className:"w-full pt-4 border-t border-gray-200",children:y.jsx(ve.button,{onClick:()=>{e(),r("/nafany/login"),o(!1)},className:"bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 text-base w-full text-center",whileTap:{scale:.95},children:n?"تسجيل الخروج":"تسجيل الدخول"})})]})]})})})]})},W9=({title:n,description:e,image:t,bgColor:r})=>{const a=tr();return y.jsx(ve.div,{className:`relative overflow-hidden rounded-xl shadow-lg p-6 ${r} transform transition-all duration-300 cursor-pointer`,whileHover:{scale:1.05,transition:{duration:.3}},onClick:()=>a(`/nafany/service_categories/${n}`),children:y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("img",{src:t,alt:n,className:"w-32 h-32 object-cover mb-4 rounded-full shadow-md"}),y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:n}),y.jsx("p",{className:"text-center text-white opacity-80",children:e})]})})},X9=({title:n,description:e,discount:t,isLoggedIn:r})=>{const a=tr(),o=()=>{r?a("/nafany"):(alert("يجب تسجيل الدخول أولاً للاستفادة من العروض"),a("/nafany/login"))};return y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 overflow-hidden border-2 border-cyan-100 w-full",whileHover:{scale:1.03,transition:{duration:.3}},dir:"rtl",children:y.jsxs("div",{className:"flex flex-col items-start",children:[y.jsx("h3",{className:"text-lg sm:text-xl font-bold text-cyan-800 mb-2 sm:mb-3",children:n}),y.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 flex-grow line-clamp-3",children:e}),y.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-3 sm:gap-0",children:[y.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:["خصم ",t,"%"]}),y.jsx("button",{className:"bg-cyan-600 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-sm hover:bg-cyan-700 w-full sm:w-auto text-center",onClick:o,children:r?"استكشف العرض":"سجل للاستفادة"})]})]})})},Z9=()=>{const[n,e]=k.useState(!1),[t,r]=k.useState(null),[a,o]=k.useState(!0),[l,u]=k.useState([]),f=tr();k.useEffect(()=>{const A=async()=>{try{const O=localStorage.getItem("currentUser");if(O&&O!=='""'){const U=JSON.parse(O);if(U)if(r(U),e(!0),U.role==="provider")f("/nafany/servicer_page");else{const B=await h(U.id||U.uid);u(B),console.log("User chats:",B)}}}catch(O){console.error("Error parsing user data:",O),localStorage.removeItem("currentUser")}o(!1)};A();const D=O=>{O.key==="currentUser"&&A()};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[f]);const h=async A=>{try{const D=wr(Kt(tt,"chats"),dr("participants","array-contains",A),fm("lastMessageTime","desc"));return(await fr(D)).docs.map(U=>{var B,Y;return{id:U.id,...U.data(),lastMessageTime:((Y=(B=U.data().lastMessageTime)==null?void 0:B.toDate)==null?void 0:Y.call(B))||new Date}})}catch(D){return console.error("Error fetching chats:",D),[]}},g=(A,D,O)=>{const U=t.id||t.uid;f(`/nafany/chat/${A}`,{state:{provider:{id:A,name:D,email:O||"provider@example.com"},user:{id:U,name:t.name,email:t.email,profileImage:t.profileImage}}})},v=()=>{localStorage.removeItem("currentUser"),e(!1),r(null),f("/nafany")},x=[{title:"خدمات فنية",description:"سباك، نجار، كهربائي، ميكانيكي، حداد، فني تكييفات، نقاش، ترزي",image:"/nafany/electric.jpg",bgColor:"bg-[#2f4156]"},{title:"خدمات صحية",description:"مستشفيات، عيادات، صيدليات، مراكز طبية",image:"/nafany/medicin.jpg",bgColor:"bg-[#567c8d]"},{title:"خدمات عامة",description:"سوبر ماركت، مطاعم، كافيهات، مولات، خدمات تجارية",image:"/nafany/download.png",bgColor:"bg-[#808080]"},{title:"خدمات أخرى",description:"عطار، جزار، فكهاني، خضري، محل ألبان، خدمات متفرقة",image:"/nafany/download (1).png",bgColor:"bg-[#62a2d3]"}],w=[{title:"عرض الصيانة",description:"خصم خاص على خدمات الصيانة المنزلية الشاملة",discount:20},{title:"عرض التركيبات",description:"أسعار مخفضة للتركيبات الفنية المتكاملة",discount:25}],T=()=>n?y.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"محادثاتك مع مقدمي الخدمة"}),l.length>0?y.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 direction-rtl",children:y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map(A=>{var B;const D=A.participants[0]===t.id?A.participants[0]:A.participants[1],O=A.participantsNames[0]===t.name?A.participantsNames[1]:A.participantsNames[0],U=(B=A.participantsEmails)==null?void 0:B.find(Y=>Y!==t.email);return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>g(D,O,U),children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Gb,{className:"text-gray-400 text-2xl ml-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-cyan-800",children:O}),y.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:A.lastMessage})]})]}),y.jsx(dR,{className:"text-cyan-600"})]},A.id)})})}):y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 text-center",children:[y.jsx("p",{className:"text-gray-500",children:"لا توجد محادثات حتى الآن"}),y.jsx("p",{className:"text-cyan-600 mt-2",children:"ابحث عن مقدم خدمة للتواصل معه"})]})]}):null;return a?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsx(hR,{isLoggedIn:n,onLogout:v,userData:t}),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:"مرحبًا بك في نفعني"}),y.jsx(ve.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.2}}},children:x.map((A,D)=>y.jsx(W9,{...A},D))}),T(),y.jsxs(ve.div,{className:"mt-12",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.6},children:[y.jsx("h2",{className:"text-2xl font-bold text-center text-cyan-800 mb-6",children:"العروض والتخفيضات الحالية"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:w.map((A,D)=>y.jsx(X9,{...A,isLoggedIn:n},D))})]})]})]})},J9=()=>{const{serviceType:n,professionType:e}=Im(),t=tr(),[r,a]=k.useState([]),[o,l]=k.useState([]),[u,f]=k.useState(!0),[h,g]=k.useState("الكل"),[v,x]=k.useState("الكل"),[w,T]=k.useState([]),[A,D]=k.useState([]);k.useEffect(()=>{(async()=>{try{f(!0);const Y=wr(Kt(tt,"serviceProviders"),dr("category","==",n),dr("profession","==",e)),M=await fr(Y),$=[],j=new Set(["الكل"]),C=new Set(["الكل"]);M.forEach(R=>{const N=R.data(),L=N.profession||"بدون تخصص",H=N.governorate||"غير محدد";$.push({id:R.id,title:L,description:N.bio||"لا يوجد وصف",imageUrl:N.profileImage||N.idFrontImage||"../../public/IMG-20250322-WA0070.jpg",governorate:H,providerData:{...N,id:R.id}}),j.add(L),C.add(H)}),a($),l($),console.log("Jobs data:",$),T(Array.from(j)),D(["الكل",...allGovernorates]),f(!1)}catch(Y){console.error("Error fetching jobs:",Y),f(!1)}})()},[n,e]),k.useEffect(()=>{let B=[...r];h!=="الكل"&&(B=B.filter(Y=>Y.title===h)),v!=="الكل"&&(B=B.filter(Y=>Y.governorate===v)),l(B)},[h,v,r]);const O=(B,Y)=>{t(`/nafany/book_page/${B.id}`,{state:{provider:B,bool:Y}})},U=()=>{let B=`${e} - ${n}`;return v!=="الكل"?B+=` في ${v}`:B+=" في جميع المناطق السكنية",B};return y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-4",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:U()}),y.jsxs(ve.div,{className:"bg-white p-4 rounded-lg shadow-md mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"تصفية حسب المنطقة ابسكنية:"}),y.jsx("select",{value:v,onChange:B=>x(B.target.value),className:"border border-gray-300 rounded-lg p-2 w-full focus:ring-2 focus:ring-cyan-500",children:A.map((B,Y)=>y.jsx("option",{className:`${Y<3&&Y!=0?"text-red-600":""}`,value:B,children:B},`gov-${Y}`))})]})}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{onClick:()=>{g("الكل"),x("الكل")},className:"text-cyan-600 hover:text-cyan-800 text-sm",children:"إعادة تعيين الفلتر"}),y.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," نتيجة متاحة"]})]})]}),u?y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"جاري تحميل البيانات..."}):o.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((B,Y)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("img",{src:B.imageUrl,alt:B.title,className:"w-20 h-20 object-cover rounded-full mr-4 border-2 border-cyan-100",onError:M=>{M.target.onerror=null,M.target.src="../../public/IMG-20250322-WA0070.jpg"}}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:B.title}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:B.description})]})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4",children:[y.jsx("span",{className:"text-sm text-gray-500",children:B.governorate}),y.jsx("button",{onClick:()=>O(B.providerData,B.providerData.category=="خدمات صحية"||B.providerData.category=="خدمات فنية"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"عرض الملف الشخصي"})]})]},Y))}):y.jsx("div",{className:"text-center text-gray-600 text-xl",children:"لا توجد نتائج مطابقة للبحث"})]})]})},e8=()=>{const n=tr(),e=ka(),[t,r]=k.useState(null),[a,o]=k.useState([]),[l,u]=k.useState([]),[f,h]=k.useState([]),[g,v]=k.useState(!0),[x,w]=k.useState(!1),[T,A]=k.useState([]),[D,O]=k.useState({title:"",description:"",images:[],previewImages:[]}),[U,B]=k.useState(null),[Y,M]=k.useState({title:"",description:"",images:[],previewImages:[]}),[$,j]=k.useState({allProviders:[],currentProvider:null,totalProviders:0});k.useEffect(()=>{(async()=>{const ie=localStorage.getItem("currentUser");if(ie&&ie!=='""'){const Ne=JSON.parse(ie);r(Ne),w(!0);const[Ce,Ee,ze,ut]=await Promise.all([R(Ne.email),C(Ne.email),be(Ne.id||Ne.uid),N(Ne.email)]);Ee&&j(Ee),ze&&h(ze),ut&&A(ut)}else n("/nafany/login");v(!1)})()},[n,e]);const C=async ue=>{try{const ie=wr(Kt(tt,"serviceProviders")),Ne=await fr(ie),Ce=wr(Kt(tt,"reviews")),ze=(await fr(Ce)).docs.map(Xe=>Xe.data()),ut=Ne.docs.map(Xe=>{const Ut=Xe.data(),Xt=ze.filter(jt=>jt.providerEmail===Ut.email),Te=Xt.length,et=Xt.reduce((jt,nr)=>jt+nr.rating,0),Rt=Te>0?(et/Te).toFixed(1):0;return{id:Xe.id,...Ut,ratingsCount:Te,ratingsTotal:et,averageRating:Rt}});ut.sort((Xe,Ut)=>Ut.averageRating-Xe.averageRating),ut.forEach((Xe,Ut)=>{Xe.rank=Ut+1});const nt=ut.find(Xe=>Xe.email===ue);return{allProviders:ut,currentProvider:nt,totalProviders:ut.length}}catch(ie){return console.error("Error fetching providers:",ie),null}},R=async ue=>{try{const ie=wr(Kt(tt,"providerWorks"),dr("providerEmail","==",ue)),Ce=(await fr(ie)).docs.map(nt=>({id:nt.id,...nt.data()}));o(Ce);const Ee=wr(Kt(tt,"reviews"),dr("providerEmail","==",ue)),ut=(await fr(Ee)).docs.map(nt=>({id:nt.id,...nt.data()}));return u(ut),Ce}catch(ie){return console.error("Error fetching works:",ie),[]}},N=async ue=>{try{const ie=wr(Kt(tt,"bookings"),dr("providerEmail","==",ue),fm("createdAt","desc"));return(await fr(ie)).docs.map(Ce=>{const Ee=Ce.data();return{id:Ce.id,...Ee,createdAt:L(Ee.createdAt),bookingDate:Ee.bookingDate||"غير محدد",bookingTime:Ee.bookingTime||"غير محدد"}})}catch(ie){return console.error("Error fetching bookings:",ie),[]}},L=ue=>ue?ue.seconds?new Date(ue.seconds*1e3).toLocaleString("ar-EG"):ue.toDate?ue.toDate().toLocaleString("ar-EG"):ue:"غير محدد",H=async(ue,ie)=>{try{await Yo(Rn(tt,"bookings",ue),{status:ie,updatedAt:Wo()}),A(Ne=>Ne.map(Ce=>Ce.id===ue?{...Ce,status:ie}:Ce))}catch(Ne){console.error("Error updating booking status:",Ne)}},F=(ue,ie=!1)=>{const Ne=Array.from(ue),Ce=[],Ee=[];Ne.forEach(ze=>{const ut=new FileReader;ut.onload=nt=>{Ce.push(nt.target.result),Ee.push(nt.target.result),Ce.length===Ne.length&&(ie?M(Xe=>({...Xe,images:[...Xe.images,...Ce],previewImages:[...Xe.previewImages,...Ee]})):O(Xe=>({...Xe,images:Ce,previewImages:Ee})))},ut.readAsDataURL(ze)})},Se=async ue=>{if(ue.preventDefault(),!!t)try{const ie={...D,providerEmail:t.email,providerName:t.name,createdAt:Wo(),comments:[],ratings:[]};await Sd(Kt(tt,"providerWorks"),ie),await R(t.email),O({title:"",description:"",images:[],previewImages:[]})}catch(ie){console.error("Error adding work:",ie)}},xe=ue=>{B(ue.id),M({title:ue.title,description:ue.description,images:ue.images,previewImages:ue.images})},K=async ue=>{ue.preventDefault();try{const ie=Rn(tt,"providerWorks",U);await Yo(ie,{title:Y.title,description:Y.description,images:Y.images}),await R(t.email),B(null),M({title:"",description:"",images:[],previewImages:[]})}catch(ie){console.error("Error updating work:",ie)}},ne=async ue=>{if(window.confirm("هل أنت متأكد من حذف هذا العمل؟"))try{await tR(Rn(tt,"providerWorks",ue)),await R(t.email)}catch(ie){console.error("Error deleting work:",ie)}},oe=(ue,ie,Ne)=>{const Ce=t.id||t.uid;n(`/nafany/chat/${ue}`,{state:{provider:{id:Ce,name:t.name,email:t.email,profileImage:t.profileImage},user:{id:ue,name:ie,email:Ne||"client@example.com"}}})},be=async ue=>{try{const ie=wr(Kt(tt,"chats"),dr("participants","array-contains",ue),fm("lastMessageTime","desc"));return(await fr(ie)).docs.map(Ce=>{var Ee,ze;return{id:Ce.id,...Ce.data(),lastMessageTime:((ze=(Ee=Ce.data().lastMessageTime)==null?void 0:Ee.toDate)==null?void 0:ze.call(Ee))||new Date}})}catch(ie){return console.error("Error fetching chats:",ie),[]}},P=ue=>[...Array(5)].map((ie,Ne)=>y.jsx("span",{className:Ne<ue?"text-yellow-500":"text-gray-300",children:Ne<ue?y.jsx(W0,{}):y.jsx(fR,{})},Ne)),ee=()=>{var ut;if(!$.currentProvider)return null;const{currentProvider:ue,allProviders:ie,totalProviders:Ne}=$,Ce=ue.averageRating||0,Ee=ue.ratingsCount||0,ze=((ut=ie.find(nt=>nt.email===ue.email))==null?void 0:ut.rank)||Ne;return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"تصنيفك وتقييمك"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"bg-cyan-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:Ce}),y.jsx("div",{className:"flex justify-center mb-2",children:P(Math.floor(Ce))}),y.jsx("p",{className:"text-gray-600",children:"متوسط التقييم"})]}),y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:Ee}),y.jsx("p",{className:"text-gray-600",children:"عدد التقييمات"})]}),y.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[y.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:ze}),y.jsxs("p",{className:"text-gray-600",children:["من أصل ",Ne," مقدم خدمة"]})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"أحدث التعليقات"}),l.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:l.map((nt,Xe)=>{var Ut,Xt;return y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-medium text-cyan-800",children:nt.clientName}),y.jsx("div",{className:"flex",children:P(nt.rating)})]}),y.jsx("p",{className:"text-gray-700",children:nt.review}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((Xt=(Ut=nt.createdAt)==null?void 0:Ut.toDate)==null?void 0:Xt.call(Ut).toLocaleDateString())||"تاريخ غير معروف"})]},Xe)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد تعليقات بعد"})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-cyan-700 mb-3",children:"المحادثات الحديثة"}),f.length>0?y.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:f.map(nt=>{const Xe=nt.participants[0]===t.id?nt.participants[1]:nt.participants[0],Ut=nt.participantsNames[0]===t.name?nt.participantsNames[1]:nt.participantsNames[0];return console.log(Xe),y.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 flex justify-between items-center cursor-pointer hover:bg-gray-100",onClick:()=>{var Xt;return oe(Xe,Ut,(Xt=nt.participantsEmails)==null?void 0:Xt.find(Te=>Te!==t.email))},children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(Gb,{className:"text-gray-400 text-2xl mr-3"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-cyan-800",children:Ut}),y.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:nt.lastMessage})]})]}),y.jsx(dR,{className:"text-cyan-600"})]},nt.id)})}):y.jsx("p",{className:"text-center text-gray-500",children:"لا توجد محادثات بعد"})]})]})},de=()=>a.map(ue=>y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 space-y-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:U===ue.id?y.jsxs("form",{onSubmit:K,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:Y.title,onChange:ie=>M(Ne=>({...Ne,title:ie.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:Y.description,onChange:ie=>M(Ne=>({...Ne,description:ie.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:ie=>F(ie.target.files,!0),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),Y.previewImages.length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:Y.previewImages.map((ie,Ne)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:ie,alt:`Preview ${Ne+1}`,className:"w-full h-20 object-cover rounded-lg"}),y.jsx("button",{type:"button",onClick:()=>{const Ce=[...Y.images],Ee=[...Y.previewImages];Ce.splice(Ne,1),Ee.splice(Ne,1),M(ze=>({...ze,images:Ce,previewImages:Ee}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},Ne))}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{type:"submit",className:"bg-cyan-600 text-white px-4 py-2 rounded-lg flex-1",children:"حفظ التعديلات"}),y.jsx("button",{type:"button",onClick:()=>{B(null),M({title:"",description:"",images:[],previewImages:[]})},className:"bg-gray-500 text-white px-4 py-2 rounded-lg flex-1",children:"إلغاء"})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800",children:ue.title}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:()=>xe(ue),className:"text-blue-600 hover:text-blue-800 p-2",title:"تعديل",children:y.jsx(q9,{})}),y.jsx("button",{onClick:()=>ne(ue.id),className:"text-red-600 hover:text-red-800 p-2",title:"حذف",children:y.jsx(K9,{})})]})]}),y.jsx("p",{className:"text-gray-600",children:ue.description}),y.jsx("div",{className:"grid grid-cols-3 gap-4",children:ue.images.map((ie,Ne)=>y.jsx("img",{src:ie,alt:`Work ${Ne+1}`,className:"w-full h-40 object-cover rounded-lg"},Ne))})]})},ue.id)),pe=()=>{localStorage.removeItem("currentUser"),w(!1),r(null),n("/nafany")},_e=()=>{const ue=ie=>ie?ie.seconds?new Date(ie.seconds*1e3).toLocaleDateString("ar-EG"):ie.toDate?ie.toDate().toLocaleDateString("ar-EG"):ie:"غير محدد";return y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"حجوزات العملاء"}),T.length>0?y.jsx("div",{className:"space-y-4",children:T.map((ie,Ne)=>{const Ce=ue(ie.createdAt),Ee=ue(ie.bookingDate);return y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ne*.1},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:ie.clientName||"عميل غير معروف"}),y.jsx("p",{className:"text-gray-600 text-sm",children:ie.clientEmail||"لا يوجد بريد إلكتروني"})]}),y.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ie.status==="confirmed"?"bg-green-100 text-green-800":ie.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ie.status==="confirmed"?"مؤكد":ie.status==="pending"?"قيد الانتظار":"ملغى"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الإنشاء:"}),y.jsx("p",{className:"text-gray-700",children:Ce})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"تاريخ الحجز:"}),y.jsx("p",{className:"text-gray-700",children:Ee})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"الوقت:"}),y.jsx("p",{className:"text-gray-700",children:ie.bookingTime||"غير محدد"})]})]}),ie.note&&y.jsxs("div",{className:"mt-3",children:[y.jsx("p",{className:"text-gray-500 text-sm",children:"ملاحظات العميل:"}),y.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:ie.note})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[ie.status==="pending"&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>H(ie.id,"confirmed"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"تأكيد"}),y.jsx("button",{onClick:()=>H(ie.id,"cancelled"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"إلغاء"})]}),y.jsx("button",{onClick:()=>oe(ie.clientId||"unknown",ie.clientName,ie.clientEmail),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"محادثة"})]})]},ie.id)})}):y.jsx("div",{className:"text-center text-gray-500 py-8",children:"لا توجد حجوزات حتى الآن"})]})};return g?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx(hR,{isLoggedIn:x,onLogout:pe,userData:t}),y.jsxs("div",{className:"container mx-auto p-4 md:p-8",children:[y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:"لوحة تحكم مقدم الخدمة"}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-6",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:U?"تعديل العمل":"إضافة عمل جديد"}),y.jsxs("form",{onSubmit:U?K:Se,className:"space-y-4",children:[y.jsx("input",{type:"text",placeholder:"عنوان العمل",value:U?Y.title:D.title,onChange:ue=>U?M(ie=>({...ie,title:ue.target.value})):O(ie=>({...ie,title:ue.target.value})),className:"w-full border border-gray-300 rounded-lg p-3",required:!0}),y.jsx("textarea",{placeholder:"وصف العمل",value:U?Y.description:D.description,onChange:ue=>U?M(ie=>({...ie,description:ue.target.value})):O(ie=>({...ie,description:ue.target.value})),className:"w-full border border-gray-300 rounded-lg p-3 h-24",required:!0}),y.jsx("input",{type:"file",multiple:!0,onChange:ue=>F(ue.target.files,U),className:"w-full border border-gray-300 rounded-lg p-3",accept:"image/*"}),(U?Y.previewImages:D.previewImages).length>0&&y.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:(U?Y.previewImages:D.previewImages).map((ue,ie)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:ue,alt:`Preview ${ie+1}`,className:"w-full h-20 object-cover rounded-lg"}),U&&y.jsx("button",{type:"button",onClick:()=>{const Ne=[...Y.images],Ce=[...Y.previewImages];Ne.splice(ie,1),Ce.splice(ie,1),M(Ee=>({...Ee,images:Ne,previewImages:Ce}))},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center",children:"×"})]},ie))}),y.jsx("button",{type:"submit",className:"w-full bg-cyan-600 text-white py-3 rounded-lg hover:bg-cyan-700",children:U?"حفظ التعديلات":"إضافة العمل"}),U&&y.jsx("button",{type:"button",onClick:()=>{B(null),M({title:"",description:"",images:[],previewImages:[]})},className:"w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 mt-2",children:"إلغاء التعديل"})]})]}),y.jsxs(ve.div,{className:"space-y-6",initial:{x:50,opacity:0},animate:{x:0,opacity:1},children:[ee(),_e(),y.jsx("h2",{className:"text-2xl font-bold text-cyan-800",children:"أعمالك السابقة"}),a.length>0?y.jsx("div",{className:"space-y-6",children:de()}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لم تقم بإضافة أي أعمال بعد"})]})]})]})]})};function mR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=mR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Zn(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=mR(n))&&(r&&(r+=" "),r+=e);return r}const pR=6048e5,t8=864e5,up=6e4,dp=36e5,n8=1e3,TS=Symbol.for("constructDateFrom");function It(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&TS in n?n[TS](e):n instanceof Date?new n.constructor(e):new Date(e)}function Le(n,e){return It(e||n,n)}function Ca(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(e)?It((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Ma(n,e,t){const r=Le(n,t==null?void 0:t.in);if(isNaN(e))return It(n,NaN);if(!e)return r;const a=r.getDate(),o=It(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return a>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),a),r)}function gR(n,e,t){return It(n,+Le(n)+e)}function r8(n,e,t){return gR(n,e*dp)}let a8={};function il(){return a8}function Zi(n,e){var u,f,h,g;const t=il(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?7:0)+o-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function xc(n,e){return Zi(n,{...e,weekStartsOn:1})}function yR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=It(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const o=xc(a),l=It(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=xc(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function ym(n){const e=Le(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ji(n,...e){const t=It.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function Xo(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function _c(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=Xo(r),l=Xo(a),u=+o-ym(o),f=+l-ym(l);return Math.round((u-f)/t8)}function i8(n,e){const t=yR(n,e),r=It(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),xc(r)}function X0(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*up),r}function Qb(n,e,t){return Ma(n,e*3,t)}function s8(n,e,t){return gR(n,e*1e3)}function vm(n,e,t){return Ca(n,e*7,t)}function zi(n,e,t){return Ma(n,e*12,t)}function SS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t<o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function DS(n,e){let t,r=e==null?void 0:e.in;return n.forEach(a=>{!r&&typeof a=="object"&&(r=It.bind(null,a));const o=Le(a,r);(!t||t>o||isNaN(+o))&&(t=o)}),It(r,t||NaN)}function o8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+Xo(r)==+Xo(a)}function Hi(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function bm(n){return!(!Hi(n)&&typeof n!="number"||isNaN(+Le(n)))}function xm(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return o*12+l}function qo(n,e){const t=Le(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function _m(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=r.getFullYear()-a.getFullYear(),l=qo(r)-qo(a);return o*4+l}function wm(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function l8(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e),o=AS(r,a),l=Math.abs(_c(r,a));r.setDate(r.getDate()-o*l);const u=+(AS(r,a)===-o),f=o*(l-u);return f===0?0:f}function AS(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function vR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function bR(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Z0(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getMonth(),a=r-r%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function xR(n,e){const t=Le(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function _R(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function fp(n,e){const t=Le(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function c8(n,e){var u,f;const t=il(),r=t.weekStartsOn??((f=(u=t.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=Le(n,e==null?void 0:e.in),o=a.getDay(),l=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const u8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},d8=(n,e,t)=>{let r;const a=u8[n];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Gy(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const f8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p8={date:Gy({formats:f8,defaultWidth:"full"}),time:Gy({formats:h8,defaultWidth:"full"}),dateTime:Gy({formats:m8,defaultWidth:"full"})},g8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},y8=(n,e,t,r)=>g8[n];function Lu(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let a;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return a[o]}}const v8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},b8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T8=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},S8={ordinalNumber:T8,era:Lu({values:v8,defaultWidth:"wide"}),quarter:Lu({values:b8,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Lu({values:x8,defaultWidth:"wide"}),day:Lu({values:_8,defaultWidth:"wide"}),dayPeriod:Lu({values:w8,defaultWidth:"wide",formattingValues:E8,defaultFormattingWidth:"wide"})};function Uu(n){return(e,t={})=>{const r=t.width,a=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(a);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?A8(u,v=>v.test(l)):D8(u,v=>v.test(l));let h;h=n.valueCallback?n.valueCallback(f):f,h=t.valueCallback?t.valueCallback(h):h;const g=e.slice(l.length);return{value:h,rest:g}}}function D8(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function A8(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function C8(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const a=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const R8=/^(\d+)(th|st|nd|rd)?/i,N8=/\d+/i,M8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k8={any:[/^b/i,/^(a|c)/i]},P8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O8={any:[/1/i,/2/i,/3/i,/4/i]},I8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},j8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F8={ordinalNumber:C8({matchPattern:R8,parsePattern:N8,valueCallback:n=>parseInt(n,10)}),era:Uu({matchPatterns:M8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:P8,defaultMatchWidth:"wide",parsePatterns:O8,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Uu({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:j8,defaultParseWidth:"any"}),day:Uu({matchPatterns:V8,defaultMatchWidth:"wide",parsePatterns:L8,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:U8,defaultMatchWidth:"any",parsePatterns:B8,defaultParseWidth:"any"})},wR={code:"en-US",formatDistance:d8,formatLong:p8,formatRelative:y8,localize:S8,match:F8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z8(n,e){const t=Le(n,e==null?void 0:e.in);return _c(t,fp(t))+1}function Kb(n,e){const t=Le(n,e==null?void 0:e.in),r=+xc(t)-+i8(t);return Math.round(r/pR)+1}function Wb(n,e){var g,v,x,w;const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=il(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(x=a.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=It((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=Zi(l,e),f=It((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const h=Zi(f,e);return+t>=+u?r+1:+t>=+h?r:r-1}function H8(n,e){var u,f,h,g;const t=il(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((g=(h=t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=Wb(n,e),o=It((e==null?void 0:e.in)||n,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),Zi(o,e)}function ER(n,e){const t=Le(n,e==null?void 0:e.in),r=+Zi(t,e)-+H8(t,e);return Math.round(r/pR)+1}function Ot(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Ds={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ot(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ot(t+1,2)},d(n,e){return Ot(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ot(n.getHours()%12||12,e.length)},H(n,e){return Ot(n.getHours(),e.length)},m(n,e){return Ot(n.getMinutes(),e.length)},s(n,e){return Ot(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return Ot(a,e.length)}},Gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CS={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return Ds.y(n,e)},Y:function(n,e,t,r){const a=Wb(n,r),o=a>0?a:1-a;if(e==="YY"){const l=o%100;return Ot(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):Ot(o,e.length)},R:function(n,e){const t=yR(n);return Ot(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ot(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Ds.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const a=ER(n,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):Ot(a,e.length)},I:function(n,e,t){const r=Kb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ds.d(n,e)},D:function(n,e,t){const r=z8(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ot(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const a=n.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ot(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Ot(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let a;switch(r===12?a=Gl.noon:r===0?a=Gl.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let a;switch(r>=17?a=Gl.evening:r>=12?a=Gl.afternoon:r>=4?a=Gl.morning:a=Gl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Ds.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ds.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ds.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ds.s(n,e)},S:function(n,e){return Ds.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return NS(r);case"XXXX":case"XX":return jo(r);case"XXXXX":case"XXX":default:return jo(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return NS(r);case"xxxx":case"xx":return jo(r);case"xxxxx":case"xxx":default:return jo(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RS(r,":");case"OOOO":default:return"GMT"+jo(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RS(r,":");case"zzzz":default:return"GMT"+jo(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ot(r,e.length)},T:function(n,e,t){return Ot(+n,e.length)}};function RS(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Math.trunc(r/60),o=r%60;return o===0?t+String(a):t+String(a)+e+Ot(o,2)}function NS(n,e){return n%60===0?(n>0?"-":"+")+Ot(Math.abs(n)/60,2):jo(n,e)}function jo(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),a=Ot(Math.trunc(r/60),2),o=Ot(r%60,2);return t+a+e+o}const MS=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Y8=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return MS(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",MS(r,e)).replace("{{time}}",TR(a,e))},J0={p:TR,P:Y8},q8=/^D+$/,$8=/^Y+$/,G8=["D","DD","YY","YYYY"];function Q8(n){return q8.test(n)}function K8(n){return $8.test(n)}function W8(n,e,t){const r=X8(n,e,t);if(console.warn(r),G8.includes(n))throw new RangeError(r)}function X8(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e7=/^'([^]*?)'?$/,t7=/''/g,n7=/[a-zA-Z]/;function kS(n,e,t){var g,v,x,w,T,A,D,O;const r=il(),a=(t==null?void 0:t.locale)??r.locale??wR,o=(t==null?void 0:t.firstWeekContainsDate)??((v=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((A=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((O=(D=r.locale)==null?void 0:D.options)==null?void 0:O.weekStartsOn)??0,u=Le(n,t==null?void 0:t.in);if(!bm(u))throw new RangeError("Invalid time value");let f=e.match(J8).map(U=>{const B=U[0];if(B==="p"||B==="P"){const Y=J0[B];return Y(U,a.formatLong)}return U}).join("").match(Z8).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const B=U[0];if(B==="'")return{isToken:!1,value:r7(U)};if(CS[B])return{isToken:!0,value:U};if(B.match(n7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:U}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return f.map(U=>{if(!U.isToken)return U.value;const B=U.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&K8(B)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Q8(B))&&W8(B,e,String(n));const Y=CS[B[0]];return Y(u,B,a.localize,h)}).join("")}function r7(n){const e=n.match(e7);return e?e[1].replace(t7,"'"):n}function PS(n,e){return Le(n,e==null?void 0:e.in).getDate()}function a7(n,e){return Le(n,e==null?void 0:e.in).getDay()}function i7(n,e){const t=Le(n,e==null?void 0:e.in),r=t.getFullYear(),a=t.getMonth(),o=It(t,0);return o.setFullYear(r,a+1,0),o.setHours(0,0,0,0),o.getDate()}function s7(){return Object.assign({},il())}function Yi(n,e){return Le(n,e==null?void 0:e.in).getHours()}function o7(n,e){const t=Le(n,e==null?void 0:e.in).getDay();return t===0?7:t}function qi(n,e){return Le(n,e==null?void 0:e.in).getMinutes()}function Tr(n,e){return Le(n,e==null?void 0:e.in).getMonth()}function Ls(n){return Le(n).getSeconds()}function ev(n){return+Le(n)}function lt(n,e){return Le(n,e==null?void 0:e.in).getFullYear()}function Ks(n,e){return+Le(n)>+Le(e)}function Zo(n,e){return+Le(n)<+Le(e)}function l7(n,e){return+Le(n)==+Le(e)}function c7(n,e){const t=u7(e)?new e(0):It(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function u7(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const d7=10;class SR{constructor(){Me(this,"subPriority",0)}validate(e,t){return!0}}class f7 extends SR{constructor(e,t,r,a,o){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class h7 extends SR{constructor(t,r){super();Me(this,"priority",d7);Me(this,"subPriority",-1);this.context=t||(a=>It(r,a))}set(t,r){return r.timestampIsSet?t:It(t,c7(t,this.context))}}class Ct{run(e,t,r,a){const o=this.parse(e,t,r,a);return o?{setter:new f7(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,r){return!0}}class m7 extends Ct{constructor(){super(...arguments);Me(this,"priority",140);Me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,a){switch(r){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,r,a){return r.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const gn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Za={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function yn(n,e){return n&&{value:e(n.value),rest:n.rest}}function tn(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ja(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:r*(a*dp+o*up+l*n8),rest:e.slice(t[0].length)}}function DR(n){return tn(gn.anyDigitsSigned,n)}function un(n,e){switch(n){case 1:return tn(gn.singleDigit,e);case 2:return tn(gn.twoDigits,e);case 3:return tn(gn.threeDigits,e);case 4:return tn(gn.fourDigits,e);default:return tn(new RegExp("^\\d{1,"+n+"}"),e)}}function Em(n,e){switch(n){case 1:return tn(gn.singleDigitSigned,e);case 2:return tn(gn.twoDigitsSigned,e);case 3:return tn(gn.threeDigitsSigned,e);case 4:return tn(gn.fourDigitsSigned,e);default:return tn(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Xb(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function AR(n,e){const t=e>0,r=t?e:1-e;let a;if(r<=50)a=n||100;else{const o=r+50,l=Math.trunc(o/100)*100,u=n>=o%100;a=n+l-(u?100:0)}return t?a:1-a}function CR(n){return n%400===0||n%4===0&&n%100!==0}class p7 extends Ct{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="yy"});switch(r){case"y":return yn(un(4,t),o);case"yo":return yn(a.ordinalNumber(t,{unit:"year"}),o);default:return yn(un(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a){const o=t.getFullYear();if(a.isTwoDigitYear){const u=AR(a.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class g7 extends Ct{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,a){const o=l=>({year:l,isTwoDigitYear:r==="YY"});switch(r){case"Y":return yn(un(4,t),o);case"Yo":return yn(a.ordinalNumber(t,{unit:"year"}),o);default:return yn(un(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,a,o){const l=Wb(t,o);if(a.isTwoDigitYear){const f=AR(a.year,l);return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}const u=!("era"in r)||r.era===1?a.year:1-a.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Zi(t,o)}}class y7 extends Ct{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Em(r==="R"?4:r.length,t)}set(t,r,a){const o=It(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),xc(o)}}class v7 extends Ct{constructor(){super(...arguments);Me(this,"priority",130);Me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Em(r==="u"?4:r.length,t)}set(t,r,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class b7 extends Ct{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"Q":case"QQ":return un(r.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class x7 extends Ct{constructor(){super(...arguments);Me(this,"priority",120);Me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"q":case"qq":return un(r.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class _7 extends Ct{constructor(){super(...arguments);Me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Me(this,"priority",110)}parse(t,r,a){const o=l=>l-1;switch(r){case"M":return yn(tn(gn.month,t),o);case"MM":return yn(un(2,t),o);case"Mo":return yn(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class w7 extends Ct{constructor(){super(...arguments);Me(this,"priority",110);Me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,a){const o=l=>l-1;switch(r){case"L":return yn(tn(gn.month,t),o);case"LL":return yn(un(2,t),o);case"Lo":return yn(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function E7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=ER(r,t)-e;return r.setDate(r.getDate()-a*7),Le(r,t==null?void 0:t.in)}class T7 extends Ct{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,a){switch(r){case"w":return tn(gn.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return un(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a,o){return Zi(E7(t,a,o),o)}}function S7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Kb(r,t)-e;return r.setDate(r.getDate()-a*7),r}class D7 extends Ct{constructor(){super(...arguments);Me(this,"priority",100);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,a){switch(r){case"I":return tn(gn.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return un(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,a){return xc(S7(t,a))}}const A7=[31,28,31,30,31,30,31,31,30,31,30,31],C7=[31,29,31,30,31,30,31,31,30,31,30,31];class R7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subPriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"d":return tn(gn.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return un(r.length,t)}}validate(t,r){const a=t.getFullYear(),o=CR(a),l=t.getMonth();return o?r>=1&&r<=C7[l]:r>=1&&r<=A7[l]}set(t,r,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class N7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"subpriority",1);Me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,a){switch(r){case"D":case"DD":return tn(gn.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return un(r.length,t)}}validate(t,r){const a=t.getFullYear();return CR(a)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function Zb(n,e,t){var v,x,w,T;const r=il(),a=(t==null?void 0:t.weekStartsOn)??((x=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((T=(w=r.locale)==null?void 0:w.options)==null?void 0:T.weekStartsOn)??0,o=Le(n,t==null?void 0:t.in),l=o.getDay(),f=(e%7+7)%7,h=7-a,g=e<0||e>6?e-(l+h)%7:(f+h)%7-(l+h)%7;return Ca(o,g,t)}class M7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,a){switch(r){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Zb(t,a,o),t.setHours(0,0,0,0),t}}class k7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"e":case"ee":return yn(un(r.length,t),l);case"eo":return yn(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Zb(t,a,o),t.setHours(0,0,0,0),t}}class P7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,a,o){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(r){case"c":case"cc":return yn(un(r.length,t),l);case"co":return yn(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,a,o){return t=Zb(t,a,o),t.setHours(0,0,0,0),t}}function O7(n,e,t){const r=Le(n,t==null?void 0:t.in),a=o7(r,t),o=e-a;return Ca(r,o,t)}class I7 extends Ct{constructor(){super(...arguments);Me(this,"priority",90);Me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,a){const o=l=>l===0?7:l;switch(r){case"i":case"ii":return un(r.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return yn(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return yn(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return yn(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return yn(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,a){return t=O7(t,a),t.setHours(0,0,0,0),t}}class j7 extends Ct{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,a){switch(r){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Xb(a),0,0,0),t}}class V7 extends Ct{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,a){switch(r){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Xb(a),0,0,0),t}}class L7 extends Ct{constructor(){super(...arguments);Me(this,"priority",80);Me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,a){switch(r){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,a){return t.setHours(Xb(a),0,0,0),t}}class U7 extends Ct{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,a){switch(r){case"h":return tn(gn.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return un(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class B7 extends Ct{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,a){switch(r){case"H":return tn(gn.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return un(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,a){return t.setHours(a,0,0,0),t}}class F7 extends Ct{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,a){switch(r){case"K":return tn(gn.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return un(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class z7 extends Ct{constructor(){super(...arguments);Me(this,"priority",70);Me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,a){switch(r){case"k":return tn(gn.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return un(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class H7 extends Ct{constructor(){super(...arguments);Me(this,"priority",60);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"m":return tn(gn.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return un(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setMinutes(a,0,0),t}}class Y7 extends Ct{constructor(){super(...arguments);Me(this,"priority",50);Me(this,"incompatibleTokens",["t","T"])}parse(t,r,a){switch(r){case"s":return tn(gn.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return un(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,a){return t.setSeconds(a,0),t}}class q7 extends Ct{constructor(){super(...arguments);Me(this,"priority",30);Me(this,"incompatibleTokens",["t","T"])}parse(t,r){const a=o=>Math.trunc(o*Math.pow(10,-r.length+3));return yn(un(r.length,t),a)}set(t,r,a){return t.setMilliseconds(a),t}}class $7 extends Ct{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ja(Za.basicOptionalMinutes,t);case"XX":return Ja(Za.basic,t);case"XXXX":return Ja(Za.basicOptionalSeconds,t);case"XXXXX":return Ja(Za.extendedOptionalSeconds,t);case"XXX":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-ym(t)-a)}}class G7 extends Ct{constructor(){super(...arguments);Me(this,"priority",10);Me(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ja(Za.basicOptionalMinutes,t);case"xx":return Ja(Za.basic,t);case"xxxx":return Ja(Za.basicOptionalSeconds,t);case"xxxxx":return Ja(Za.extendedOptionalSeconds,t);case"xxx":default:return Ja(Za.extended,t)}}set(t,r,a){return r.timestampIsSet?t:It(t,t.getTime()-ym(t)-a)}}class Q7 extends Ct{constructor(){super(...arguments);Me(this,"priority",40);Me(this,"incompatibleTokens","*")}parse(t){return DR(t)}set(t,r,a){return[It(t,a*1e3),{timestampIsSet:!0}]}}class K7 extends Ct{constructor(){super(...arguments);Me(this,"priority",20);Me(this,"incompatibleTokens","*")}parse(t){return DR(t)}set(t,r,a){return[It(t,a),{timestampIsSet:!0}]}}const W7={G:new m7,y:new p7,Y:new g7,R:new y7,u:new v7,Q:new b7,q:new x7,M:new _7,L:new w7,w:new T7,I:new D7,d:new R7,D:new N7,E:new M7,e:new k7,c:new P7,i:new I7,a:new j7,b:new V7,B:new L7,h:new U7,H:new B7,K:new F7,k:new z7,m:new H7,s:new Y7,S:new q7,X:new $7,x:new G7,t:new Q7,T:new K7},X7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J7=/^'([^]*?)'?$/,eU=/''/g,tU=/\S/,nU=/[a-zA-Z]/;function rU(n,e,t,r){var D,O,U,B,Y,M,$,j;const a=()=>It((r==null?void 0:r.in)||t,NaN),o=s7(),l=(r==null?void 0:r.locale)??o.locale??wR,u=(r==null?void 0:r.firstWeekContainsDate)??((O=(D=r==null?void 0:r.locale)==null?void 0:D.options)==null?void 0:O.firstWeekContainsDate)??o.firstWeekContainsDate??((B=(U=o.locale)==null?void 0:U.options)==null?void 0:B.firstWeekContainsDate)??1,f=(r==null?void 0:r.weekStartsOn)??((M=(Y=r==null?void 0:r.locale)==null?void 0:Y.options)==null?void 0:M.weekStartsOn)??o.weekStartsOn??((j=($=o.locale)==null?void 0:$.options)==null?void 0:j.weekStartsOn)??0;if(!e)return n?a():Le(t,r==null?void 0:r.in);const h={firstWeekContainsDate:u,weekStartsOn:f,locale:l},g=[new h7(r==null?void 0:r.in,t)],v=e.match(Z7).map(C=>{const R=C[0];if(R in J0){const N=J0[R];return N(C,l.formatLong)}return C}).join("").match(X7),x=[];for(let C of v){const R=C[0],N=W7[R];if(N){const{incompatibleTokens:L}=N;if(Array.isArray(L)){const F=x.find(Se=>L.includes(Se.token)||Se.token===R);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${C}\` at the same time`)}else if(N.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);x.push({token:R,fullToken:C});const H=N.run(n,C,l.match,h);if(!H)return a();g.push(H.setter),n=H.rest}else{if(R.match(nU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(C==="''"?C="'":R==="'"&&(C=aU(C)),n.indexOf(C)===0)n=n.slice(C.length);else return a()}}if(n.length>0&&tU.test(n))return a();const w=g.map(C=>C.priority).sort((C,R)=>R-C).filter((C,R,N)=>N.indexOf(C)===R).map(C=>g.filter(R=>R.priority===C).sort((R,N)=>N.subPriority-R.subPriority)).map(C=>C[0]);let T=Le(t,r==null?void 0:r.in);if(isNaN(+T))return a();const A={};for(const C of w){if(!C.validate(T,h))return a();const R=C.set(T,A,h);Array.isArray(R)?(T=R[0],Object.assign(A,R[1])):T=R}return T}function aU(n){return n.match(J7)[1].replace(eU,"'")}function iU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function sU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return+Z0(r)==+Z0(a)}function oU(n,e,t){const[r,a]=Ji(t==null?void 0:t.in,n,e);return r.getFullYear()===a.getFullYear()}function Dd(n,e,t){const r=+Le(n,t==null?void 0:t.in),[a,o]=[+Le(e.start,t==null?void 0:t.in),+Le(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return r>=a&&r<=o}function lU(n,e,t){return Ca(n,-1,t)}function cU(n,e){const t=()=>It(e==null?void 0:e.in,NaN),a=hU(n);let o;if(a.date){const h=mU(a.date,2);o=pU(h.restDateString,h.year)}if(!o||isNaN(+o))return t();const l=+o;let u=0,f;if(a.time&&(u=gU(a.time),isNaN(u)))return t();if(a.timezone){if(f=yU(a.timezone),isNaN(f))return t()}else{const h=new Date(l+u),g=Le(0,e==null?void 0:e.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return Le(l+u+f,e==null?void 0:e.in)}const yh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hU(n){const e={},t=n.split(yh.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],yh.timeZoneDelimiter.test(e.date)&&(e.date=n.split(yh.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=yh.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function mU(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?a:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function pU(n,e){if(e===null)return new Date(NaN);const t=n.match(uU);if(!t)return new Date(NaN);const r=!!t[4],a=Bu(t[1]),o=Bu(t[2])-1,l=Bu(t[3]),u=Bu(t[4]),f=Bu(t[5])-1;if(r)return wU(e,u,f)?vU(e,u,f):new Date(NaN);{const h=new Date(0);return!xU(e,o,l)||!_U(e,a)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(a,l)),h)}}function Bu(n){return n?parseInt(n):1}function gU(n){const e=n.match(dU);if(!e)return NaN;const t=Qy(e[1]),r=Qy(e[2]),a=Qy(e[3]);return EU(t,r,a)?t*dp+r*up+a*1e3:NaN}function Qy(n){return n&&parseFloat(n.replace(",","."))||0}function yU(n){if(n==="Z")return 0;const e=n.match(fU);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return TU(r,a)?t*(r*dp+a*up):NaN}function vU(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,o=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+o),r}const bU=[31,null,31,30,31,30,31,31,30,31,30,31];function RR(n){return n%400===0||n%4===0&&n%100!==0}function xU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(bU[e]||(RR(n)?29:28))}function _U(n,e){return e>=1&&e<=(RR(n)?366:365)}function wU(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function EU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function TU(n,e){return e>=0&&e<=59}function ha(n,e,t){const r=Le(n,t==null?void 0:t.in),a=r.getFullYear(),o=r.getDate(),l=It(n,0);l.setFullYear(a,e,15),l.setHours(0,0,0,0);const u=i7(l);return r.setMonth(e,Math.min(o,u)),r}function jh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setHours(e),r}function Vh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setMinutes(e),r}function Zl(n,e,t){const r=Le(n,t==null?void 0:t.in),a=Math.trunc(r.getMonth()/3)+1,o=e-a;return ha(r,r.getMonth()+o*3)}function Lh(n,e,t){const r=Le(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Wa(n,e,t){const r=Le(n,t==null?void 0:t.in);return isNaN(+r)?It(n,NaN):(r.setFullYear(e),r)}function $o(n,e,t){return Ma(n,-e,t)}function NR(n,e,t){return Qb(n,-1,t)}function OS(n,e,t){return vm(n,-1,t)}function wc(n,e,t){return zi(n,-e,t)}function hp(){return typeof window<"u"}function Ic(n){return MR(n)?(n.nodeName||"").toLowerCase():"#document"}function Yr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function hi(n){var e;return(e=(MR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function MR(n){return hp()?n instanceof Node||n instanceof Yr(n).Node:!1}function Sr(n){return hp()?n instanceof Element||n instanceof Yr(n).Element:!1}function ci(n){return hp()?n instanceof HTMLElement||n instanceof Yr(n).HTMLElement:!1}function IS(n){return!hp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yr(n).ShadowRoot}function Fd(n){const{overflow:e,overflowX:t,overflowY:r,display:a}=ya(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(a)}function SU(n){return["table","td","th"].includes(Ic(n))}function mp(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Jb(n){const e=ex(),t=Sr(n)?ya(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function DU(n){let e=Ws(n);for(;ci(e)&&!Ec(e);){if(Jb(e))return e;if(mp(e))return null;e=Ws(e)}return null}function ex(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ec(n){return["html","body","#document"].includes(Ic(n))}function ya(n){return Yr(n).getComputedStyle(n)}function pp(n){return Sr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ws(n){if(Ic(n)==="html")return n;const e=n.assignedSlot||n.parentNode||IS(n)&&n.host||hi(n);return IS(e)?e.host:e}function kR(n){const e=Ws(n);return Ec(e)?n.ownerDocument?n.ownerDocument.body:n.body:ci(e)&&Fd(e)?e:kR(e)}function Ad(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=kR(n),o=a===((r=n.ownerDocument)==null?void 0:r.body),l=Yr(a);if(o){const u=tv(l);return e.concat(l,l.visualViewport||[],Fd(a)?a:[],u&&t?Ad(u):[])}return e.concat(a,Ad(a,[],t))}function tv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const Tc=Math.min,Go=Math.max,Tm=Math.round,vh=Math.floor,si=n=>({x:n,y:n}),AU={left:"right",right:"left",bottom:"top",top:"bottom"},CU={start:"end",end:"start"};function RU(n,e,t){return Go(n,Tc(e,t))}function gp(n,e){return typeof n=="function"?n(e):n}function Sc(n){return n.split("-")[0]}function zd(n){return n.split("-")[1]}function NU(n){return n==="x"?"y":"x"}function tx(n){return n==="y"?"height":"width"}function Cd(n){return["top","bottom"].includes(Sc(n))?"y":"x"}function nx(n){return NU(Cd(n))}function MU(n,e,t){t===void 0&&(t=!1);const r=zd(n),a=nx(n),o=tx(a);let l=a==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Sm(l)),[l,Sm(l)]}function kU(n){const e=Sm(n);return[nv(n),e,nv(e)]}function nv(n){return n.replace(/start|end/g,e=>CU[e])}function PU(n,e,t){const r=["left","right"],a=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:r:e?r:a;case"left":case"right":return e?o:l;default:return[]}}function OU(n,e,t,r){const a=zd(n);let o=PU(Sc(n),t==="start",r);return a&&(o=o.map(l=>l+"-"+a),e&&(o=o.concat(o.map(nv)))),o}function Sm(n){return n.replace(/left|right|bottom|top/g,e=>AU[e])}function IU(n){return{top:0,right:0,bottom:0,left:0,...n}}function PR(n){return typeof n!="number"?IU(n):{top:n,right:n,bottom:n,left:n}}function Dm(n){const{x:e,y:t,width:r,height:a}=n;return{width:r,height:a,top:t,left:e,right:e+r,bottom:t+a,x:e,y:t}}function jS(n,e,t){let{reference:r,floating:a}=n;const o=Cd(e),l=nx(e),u=tx(l),f=Sc(e),h=o==="y",g=r.x+r.width/2-a.width/2,v=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let w;switch(f){case"top":w={x:g,y:r.y-a.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:v};break;case"left":w={x:r.x-a.width,y:v};break;default:w={x:r.x,y:r.y}}switch(zd(e)){case"start":w[l]-=x*(t&&h?-1:1);break;case"end":w[l]+=x*(t&&h?-1:1);break}return w}const jU=async(n,e,t)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:a}),{x:g,y:v}=jS(h,r,f),x=r,w={},T=0;for(let A=0;A<u.length;A++){const{name:D,fn:O}=u[A],{x:U,y:B,data:Y,reset:M}=await O({x:g,y:v,initialPlacement:r,placement:x,strategy:a,middlewareData:w,rects:h,platform:l,elements:{reference:n,floating:e}});g=U??g,v=B??v,w={...w,[D]:{...w[D],...Y}},M&&T<=50&&(T++,typeof M=="object"&&(M.placement&&(x=M.placement),M.rects&&(h=M.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:a}):M.rects),{x:g,y:v}=jS(h,x,f)),A=-1)}return{x:g,y:v,placement:x,strategy:a,middlewareData:w}};async function VU(n,e){var t;e===void 0&&(e={});const{x:r,y:a,platform:o,rects:l,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:w=0}=gp(e,n),T=PR(w),D=u[x?v==="floating"?"reference":"floating":v],O=Dm(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(D)))==null||t?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:g,strategy:f})),U=v==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),Y=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},M=Dm(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:U,offsetParent:B,strategy:f}):U);return{top:(O.top-M.top+T.top)/Y.y,bottom:(M.bottom-O.bottom+T.bottom)/Y.y,left:(O.left-M.left+T.left)/Y.x,right:(M.right-O.right+T.right)/Y.x}}const LU=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:a,rects:o,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:g=0}=gp(n,e)||{};if(h==null)return{};const v=PR(g),x={x:t,y:r},w=nx(a),T=tx(w),A=await l.getDimensions(h),D=w==="y",O=D?"top":"left",U=D?"bottom":"right",B=D?"clientHeight":"clientWidth",Y=o.reference[T]+o.reference[w]-x[w]-o.floating[T],M=x[w]-o.reference[w],$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let j=$?$[B]:0;(!j||!await(l.isElement==null?void 0:l.isElement($)))&&(j=u.floating[B]||o.floating[T]);const C=Y/2-M/2,R=j/2-A[T]/2-1,N=Tc(v[O],R),L=Tc(v[U],R),H=N,F=j-A[T]-L,Se=j/2-A[T]/2+C,xe=RU(H,Se,F),K=!f.arrow&&zd(a)!=null&&Se!==xe&&o.reference[T]/2-(Se<H?N:L)-A[T]/2<0,ne=K?Se<H?Se-H:Se-F:0;return{[w]:x[w]+ne,data:{[w]:xe,centerOffset:Se-xe-ne,...K&&{alignmentOffset:ne}},reset:K}}}),UU=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:A=!0,...D}=gp(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const O=Sc(a),U=Cd(u),B=Sc(u)===u,Y=await(f.isRTL==null?void 0:f.isRTL(h.floating)),M=x||(B||!A?[Sm(u)]:kU(u)),$=T!=="none";!x&&$&&M.push(...OU(u,A,T,Y));const j=[u,...M],C=await VU(e,D),R=[];let N=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&R.push(C[O]),v){const Se=MU(a,l,Y);R.push(C[Se[0]],C[Se[1]])}if(N=[...N,{placement:a,overflows:R}],!R.every(Se=>Se<=0)){var L,H;const Se=(((L=o.flip)==null?void 0:L.index)||0)+1,xe=j[Se];if(xe)return{data:{index:Se,overflows:N},reset:{placement:xe}};let K=(H=N.filter(ne=>ne.overflows[0]<=0).sort((ne,oe)=>ne.overflows[1]-oe.overflows[1])[0])==null?void 0:H.placement;if(!K)switch(w){case"bestFit":{var F;const ne=(F=N.filter(oe=>{if($){const be=Cd(oe.placement);return be===U||be==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(be=>be>0).reduce((be,P)=>be+P,0)]).sort((oe,be)=>oe[1]-be[1])[0])==null?void 0:F[0];ne&&(K=ne);break}case"initialPlacement":K=u;break}if(a!==K)return{reset:{placement:K}}}return{}}}};async function BU(n,e){const{placement:t,platform:r,elements:a}=n,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=Sc(t),u=zd(t),f=Cd(t)==="y",h=["left","top"].includes(l)?-1:1,g=o&&f?-1:1,v=gp(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof T=="number"&&(w=u==="end"?T*-1:T),f?{x:w*g,y:x*h}:{x:x*h,y:w*g}}const FU=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:a,y:o,placement:l,middlewareData:u}=e,f=await BU(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+f.x,y:o+f.y,data:{...f,placement:l}}}}};function OR(n){const e=ya(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ci(n),o=a?n.offsetWidth:t,l=a?n.offsetHeight:r,u=Tm(t)!==o||Tm(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function rx(n){return Sr(n)?n:n.contextElement}function ic(n){const e=rx(n);if(!ci(e))return si(1);const t=e.getBoundingClientRect(),{width:r,height:a,$:o}=OR(e);let l=(o?Tm(t.width):t.width)/r,u=(o?Tm(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const zU=si(0);function IR(n){const e=Yr(n);return!ex()||!e.visualViewport?zU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HU(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yr(n)?!1:e}function Jo(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),o=rx(n);let l=si(1);e&&(r?Sr(r)&&(l=ic(r)):l=ic(n));const u=HU(o,t,r)?IR(o):si(0);let f=(a.left+u.x)/l.x,h=(a.top+u.y)/l.y,g=a.width/l.x,v=a.height/l.y;if(o){const x=Yr(o),w=r&&Sr(r)?Yr(r):r;let T=x,A=tv(T);for(;A&&r&&w!==T;){const D=ic(A),O=A.getBoundingClientRect(),U=ya(A),B=O.left+(A.clientLeft+parseFloat(U.paddingLeft))*D.x,Y=O.top+(A.clientTop+parseFloat(U.paddingTop))*D.y;f*=D.x,h*=D.y,g*=D.x,v*=D.y,f+=B,h+=Y,T=Yr(A),A=tv(T)}}return Dm({width:g,height:v,x:f,y:h})}function ax(n,e){const t=pp(n).scrollLeft;return e?e.left+t:Jo(hi(n)).left+t}function jR(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),a=r.left+e.scrollLeft-(t?0:ax(n,r)),o=r.top+e.scrollTop;return{x:a,y:o}}function YU(n){let{elements:e,rect:t,offsetParent:r,strategy:a}=n;const o=a==="fixed",l=hi(r),u=e?mp(e.floating):!1;if(r===l||u&&o)return t;let f={scrollLeft:0,scrollTop:0},h=si(1);const g=si(0),v=ci(r);if((v||!v&&!o)&&((Ic(r)!=="body"||Fd(l))&&(f=pp(r)),ci(r))){const w=Jo(r);h=ic(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const x=l&&!v&&!o?jR(l,f,!0):si(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+g.x+x.x,y:t.y*h.y-f.scrollTop*h.y+g.y+x.y}}function qU(n){return Array.from(n.getClientRects())}function $U(n){const e=hi(n),t=pp(n),r=n.ownerDocument.body,a=Go(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Go(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+ax(n);const u=-t.scrollTop;return ya(r).direction==="rtl"&&(l+=Go(e.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:u}}function GU(n,e){const t=Yr(n),r=hi(n),a=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(a){o=a.width,l=a.height;const h=ex();(!h||h&&e==="fixed")&&(u=a.offsetLeft,f=a.offsetTop)}return{width:o,height:l,x:u,y:f}}function QU(n,e){const t=Jo(n,!0,e==="fixed"),r=t.top+n.clientTop,a=t.left+n.clientLeft,o=ci(n)?ic(n):si(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,f=a*o.x,h=r*o.y;return{width:l,height:u,x:f,y:h}}function VS(n,e,t){let r;if(e==="viewport")r=GU(n,t);else if(e==="document")r=$U(hi(n));else if(Sr(e))r=QU(e,t);else{const a=IR(n);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Dm(r)}function VR(n,e){const t=Ws(n);return t===e||!Sr(t)||Ec(t)?!1:ya(t).position==="fixed"||VR(t,e)}function KU(n,e){const t=e.get(n);if(t)return t;let r=Ad(n,[],!1).filter(u=>Sr(u)&&Ic(u)!=="body"),a=null;const o=ya(n).position==="fixed";let l=o?Ws(n):n;for(;Sr(l)&&!Ec(l);){const u=ya(l),f=Jb(l);!f&&u.position==="fixed"&&(a=null),(o?!f&&!a:!f&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Fd(l)&&!f&&VR(n,l))?r=r.filter(g=>g!==l):a=u,l=Ws(l)}return e.set(n,r),r}function WU(n){let{element:e,boundary:t,rootBoundary:r,strategy:a}=n;const l=[...t==="clippingAncestors"?mp(e)?[]:KU(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((h,g)=>{const v=VS(e,g,a);return h.top=Go(v.top,h.top),h.right=Tc(v.right,h.right),h.bottom=Tc(v.bottom,h.bottom),h.left=Go(v.left,h.left),h},VS(e,u,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function XU(n){const{width:e,height:t}=OR(n);return{width:e,height:t}}function ZU(n,e,t){const r=ci(e),a=hi(e),o=t==="fixed",l=Jo(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=si(0);if(r||!r&&!o)if((Ic(e)!=="body"||Fd(a))&&(u=pp(e)),r){const x=Jo(e,!0,o,e);f.x=x.x+e.clientLeft,f.y=x.y+e.clientTop}else a&&(f.x=ax(a));const h=a&&!r&&!o?jR(a,u):si(0),g=l.left+u.scrollLeft-f.x-h.x,v=l.top+u.scrollTop-f.y-h.y;return{x:g,y:v,width:l.width,height:l.height}}function Ky(n){return ya(n).position==="static"}function LS(n,e){if(!ci(n)||ya(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return hi(n)===t&&(t=t.ownerDocument.body),t}function LR(n,e){const t=Yr(n);if(mp(n))return t;if(!ci(n)){let a=Ws(n);for(;a&&!Ec(a);){if(Sr(a)&&!Ky(a))return a;a=Ws(a)}return t}let r=LS(n,e);for(;r&&SU(r)&&Ky(r);)r=LS(r,e);return r&&Ec(r)&&Ky(r)&&!Jb(r)?t:r||DU(n)||t}const JU=async function(n){const e=this.getOffsetParent||LR,t=this.getDimensions,r=await t(n.floating);return{reference:ZU(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eB(n){return ya(n).direction==="rtl"}const tB={convertOffsetParentRelativeRectToViewportRelativeRect:YU,getDocumentElement:hi,getClippingRect:WU,getOffsetParent:LR,getElementRects:JU,getClientRects:qU,getDimensions:XU,getScale:ic,isElement:Sr,isRTL:eB};function UR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function nB(n,e){let t=null,r;const a=hi(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:g,top:v,width:x,height:w}=h;if(u||e(),!x||!w)return;const T=vh(v),A=vh(a.clientWidth-(g+x)),D=vh(a.clientHeight-(v+w)),O=vh(g),B={rootMargin:-T+"px "+-A+"px "+-D+"px "+-O+"px",threshold:Go(0,Tc(1,f))||1};let Y=!0;function M($){const j=$[0].intersectionRatio;if(j!==f){if(!Y)return l();j?l(!1,j):r=setTimeout(()=>{l(!1,1e-7)},1e3)}j===1&&!UR(h,n.getBoundingClientRect())&&l(),Y=!1}try{t=new IntersectionObserver(M,{...B,root:a.ownerDocument})}catch{t=new IntersectionObserver(M,B)}t.observe(n)}return l(!0),o}function rB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=rx(n),g=a||o?[...h?Ad(h):[],...Ad(e)]:[];g.forEach(O=>{a&&O.addEventListener("scroll",t,{passive:!0}),o&&O.addEventListener("resize",t)});const v=h&&u?nB(h,t):null;let x=-1,w=null;l&&(w=new ResizeObserver(O=>{let[U]=O;U&&U.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var B;(B=w)==null||B.observe(e)})),t()}),h&&!f&&w.observe(h),w.observe(e));let T,A=f?Jo(n):null;f&&D();function D(){const O=Jo(n);A&&!UR(A,O)&&t(),A=O,T=requestAnimationFrame(D)}return t(),()=>{var O;g.forEach(U=>{a&&U.removeEventListener("scroll",t),o&&U.removeEventListener("resize",t)}),v==null||v(),(O=w)==null||O.disconnect(),w=null,f&&cancelAnimationFrame(T)}}const aB=FU,iB=UU,US=LU,sB=(n,e,t)=>{const r=new Map,a={platform:tB,...t},o={...a.platform,_c:r};return jU(n,e,{...a,platform:o})};var Uh=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Am(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Am(n[r],e[r]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=t;r--!==0;){const o=a[r];if(!(o==="_owner"&&n.$$typeof)&&!Am(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function BR(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function BS(n,e){const t=BR(n);return Math.round(e*t)/t}function Wy(n){const e=k.useRef(n);return Uh(()=>{e.current=n}),e}function oB(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[g,v]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=k.useState(r);Am(x,r)||w(r);const[T,A]=k.useState(null),[D,O]=k.useState(null),U=k.useCallback(oe=>{oe!==$.current&&($.current=oe,A(oe))},[]),B=k.useCallback(oe=>{oe!==j.current&&(j.current=oe,O(oe))},[]),Y=o||T,M=l||D,$=k.useRef(null),j=k.useRef(null),C=k.useRef(g),R=f!=null,N=Wy(f),L=Wy(a),H=Wy(h),F=k.useCallback(()=>{if(!$.current||!j.current)return;const oe={placement:e,strategy:t,middleware:x};L.current&&(oe.platform=L.current),sB($.current,j.current,oe).then(be=>{const P={...be,isPositioned:H.current!==!1};Se.current&&!Am(C.current,P)&&(C.current=P,Tv.flushSync(()=>{v(P)}))})},[x,e,t,L,H]);Uh(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,v(oe=>({...oe,isPositioned:!1})))},[h]);const Se=k.useRef(!1);Uh(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Uh(()=>{if(Y&&($.current=Y),M&&(j.current=M),Y&&M){if(N.current)return N.current(Y,M,F);F()}},[Y,M,F,N,R]);const xe=k.useMemo(()=>({reference:$,floating:j,setReference:U,setFloating:B}),[U,B]),K=k.useMemo(()=>({reference:Y,floating:M}),[Y,M]),ne=k.useMemo(()=>{const oe={position:t,left:0,top:0};if(!K.floating)return oe;const be=BS(K.floating,g.x),P=BS(K.floating,g.y);return u?{...oe,transform:"translate("+be+"px, "+P+"px)",...BR(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:be,top:P}},[t,u,K.floating,g.x,g.y]);return k.useMemo(()=>({...g,update:F,refs:xe,elements:K,floatingStyles:ne}),[g,F,xe,K,ne])}const lB=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:a}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?US({element:r.current,padding:a}).fn(t):{}:r?US({element:r,padding:a}).fn(t):{}}}},cB=(n,e)=>({...aB(n),options:[n,e]}),uB=(n,e)=>({...iB(n),options:[n,e]}),dB=(n,e)=>({...lB(n),options:[n,e]}),FR={...AM},fB=FR.useInsertionEffect,hB=fB||(n=>n());function mB(n){const e=k.useRef(()=>{});return hB(()=>{e.current=n}),k.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}var Cm=typeof document<"u"?k.useLayoutEffect:k.useEffect;let FS=!1,pB=0;const zS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+pB++;function gB(){const[n,e]=k.useState(()=>FS?zS():void 0);return Cm(()=>{n==null&&e(zS())},[]),k.useEffect(()=>{FS=!0},[]),n}const yB=FR.useId,zR=yB||gB,vB=k.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:o,shift:l}},width:u=14,height:f=7,tipRadius:h=0,strokeWidth:g=0,staticOffset:v,stroke:x,d:w,style:{transform:T,...A}={},...D}=e,O=zR(),[U,B]=k.useState(!1);if(Cm(()=>{if(!a)return;ya(a).direction==="rtl"&&B(!0)},[a]),!a)return null;const[Y,M]=r.split("-"),$=Y==="top"||Y==="bottom";let j=v;($&&l!=null&&l.x||!$&&l!=null&&l.y)&&(j=null);const C=g*2,R=C/2,N=u/2*(h/-8+1),L=f/2*h/4,H=!!w,F=j&&M==="end"?"bottom":"top";let Se=j&&M==="end"?"right":"left";j&&U&&(Se=M==="end"?"left":"right");const xe=(o==null?void 0:o.x)!=null?j||o.x:"",K=(o==null?void 0:o.y)!=null?j||o.y:"",ne=w||"M0,0"+(" H"+u)+(" L"+(u-N)+","+(f-L))+(" Q"+u/2+","+f+" "+N+","+(f-L))+" Z",oe={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[Y];return y.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:H?u:u+C,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[Se]:xe,[F]:K,[Y]:$||H?"100%":"calc(100% - "+C/2+"px)",transform:[oe,T].filter(be=>!!be).join(" "),...A},children:[C>0&&y.jsx("path",{clipPath:"url(#"+O+")",fill:"none",stroke:x,strokeWidth:C+(w?0:1),d:ne}),y.jsx("path",{stroke:C&&!w?D.fill:"none",d:ne}),y.jsx("clipPath",{id:O,children:y.jsx("rect",{x:-R,y:R*(H?-1:1),width:u+C,height:u})})]})});function bB(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(a=>a!==t))||[])}}}const xB=k.createContext(null),_B=k.createContext(null),wB=()=>{var n;return((n=k.useContext(xB))==null?void 0:n.id)||null},EB=()=>k.useContext(_B);function TB(n){const{open:e=!1,onOpenChange:t,elements:r}=n,a=zR(),o=k.useRef({}),[l]=k.useState(()=>bB()),u=wB()!=null,[f,h]=k.useState(r.reference),g=mB((w,T,A)=>{o.current.openEvent=w?T:void 0,l.emit("openchange",{open:w,event:T,reason:A,nested:u}),t==null||t(w,T,A)}),v=k.useMemo(()=>({setPositionReference:h}),[]),x=k.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return k.useMemo(()=>({dataRef:o,open:e,onOpenChange:g,elements:x,events:l,floatingId:a,refs:v}),[e,g,x,l,a,v])}function SB(n){n===void 0&&(n={});const{nodeId:e}=n,t=TB({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,a=r.elements,[o,l]=k.useState(null),[u,f]=k.useState(null),g=(a==null?void 0:a.domReference)||o,v=k.useRef(null),x=EB();Cm(()=>{g&&(v.current=g)},[g]);const w=oB({...n,elements:{...a,...u&&{reference:u}}}),T=k.useCallback(B=>{const Y=Sr(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;f(Y),w.refs.setReference(Y)},[w.refs]),A=k.useCallback(B=>{(Sr(B)||B===null)&&(v.current=B,l(B)),(Sr(w.refs.reference.current)||w.refs.reference.current===null||B!==null&&!Sr(B))&&w.refs.setReference(B)},[w.refs]),D=k.useMemo(()=>({...w.refs,setReference:A,setPositionReference:T,domReference:v}),[w.refs,A,T]),O=k.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),U=k.useMemo(()=>({...w,...r,refs:D,elements:O,nodeId:e}),[w,D,O,e,r]);return Cm(()=>{r.dataRef.current.floatingContext=U;const B=x==null?void 0:x.nodesRef.current.find(Y=>Y.id===e);B&&(B.context=U)}),k.useMemo(()=>({...w,context:U,refs:D,elements:O}),[w,D,O,U])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},rv(e,t)};function Hn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _t=function(){return _t=Object.assign||function(t){for(var r,a=1,o=arguments.length;a<o;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},_t.apply(this,arguments)};function ei(n,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,o;r<a;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var DB=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,a=r===void 0?!1:r,o=n.className,l=n.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return X.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},AB=function(n,e){var t=k.useRef(null),r=k.useRef(n);r.current=n;var a=k.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(f){return f instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=r.current)===null||l===void 0||l.call(r,o))},[e]);return k.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},yp=function(n){var e=n.children,t=n.onClickOutside,r=n.className,a=n.containerRef,o=n.style,l=n.ignoreClass,u=AB(t,l);return X.createElement("div",{className:r,style:o,ref:function(f){u.current=f,a&&(a.current=f)}},e)},Re;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(Re||(Re={}));function HR(){var n=typeof window<"u"?window:globalThis;return n}var Hd=12;function Mt(n){if(n==null)return new Date;var e=typeof n=="string"?cU(n):Le(n);return vp(e)?e:new Date}function Xy(n,e,t,r,a){a===void 0&&(a=Mt());for(var o=Dc(t)||Dc(ix()),l=Array.isArray(e)?e:[e],u=0,f=l;u<f.length;u++){var h=f[u],g=rU(n,h,a,{locale:o});if(vp(g)&&(!r||n===Wt(g,h,t)))return g}return null}function vp(n,e){return bm(n)&&!Zo(n,new Date("1/1/1800"))}function Wt(n,e,t){if(t==="en")return kS(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?Dc(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||Dc(ix()),kS(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function fa(n,e){var t=e.dateFormat,r=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Wt(n,a,r)||""}function CB(n,e,t){if(!n)return"";var r=fa(n,t),a=e?fa(e,t):"";return"".concat(r," - ").concat(a)}function RB(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?fa(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=fa(n[1],e);return"".concat(t,", ").concat(r)}var a=n.length-1;return"".concat(t," (+").concat(a,")")}function Zy(n,e){var t=e.hour,r=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,l=e.second,u=l===void 0?0:l;return jh(Vh(Lh(n,u),o),r)}function NB(n){return Kb(n)}function MB(n,e){return Wt(n,"ddd",e)}function Bh(n){return Xo(n)}function Us(n,e,t){var r=Dc(e||ix());return Zi(n,{locale:r,weekStartsOn:t})}function $i(n){return xR(n)}function Wu(n){return fp(n)}function HS(n){return Z0(n)}function YS(){return Xo(Mt())}function qS(n){return vR(n)}function kB(n){return c8(n)}function PB(n){return bR(n)}function Xa(n,e){return n&&e?oU(n,e):!n&&!e}function _r(n,e){return n&&e?iU(n,e):!n&&!e}function Rm(n,e){return n&&e?sU(n,e):!n&&!e}function xt(n,e){return n&&e?o8(n,e):!n&&!e}function zo(n,e){return n&&e?l7(n,e):!n&&!e}function Xu(n,e,t){var r,a=Xo(e),o=vR(t);try{r=Dd(n,{start:a,end:o})}catch{r=!1}return r}function ix(){var n=HR();return n.__localeId__}function Dc(n){if(typeof n=="string"){var e=HR();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function OB(n,e,t){return e(Wt(n,"EEEE",t))}function IB(n,e){return Wt(n,"EEEEEE",e)}function jB(n,e){return Wt(n,"EEE",e)}function sx(n,e){return Wt(ha(Mt(),n),"LLLL",e)}function YR(n,e){return Wt(ha(Mt(),n),"LLL",e)}function VB(n,e){return Wt(Zl(Mt(),n),"QQQ",e)}function ma(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,f=t.includeDateIntervals,h=t.filterDate;return Yd(n,{minDate:r,maxDate:a})||o&&o.some(function(g){return g instanceof Date?xt(n,g):xt(n,g.date)})||l&&l.some(function(g){var v=g.start,x=g.end;return Dd(n,{start:v,end:x})})||u&&!u.some(function(g){return xt(n,g)})||f&&!f.some(function(g){var v=g.start,x=g.end;return Dd(n,{start:v,end:x})})||h&&!h(Mt(n))||!1}function ox(n,e){var t=e===void 0?{}:e,r=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var l=o.start,u=o.end;return Dd(n,{start:l,end:u})}):r&&r.some(function(o){var l;return o instanceof Date?xt(n,o):xt(n,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function qR(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Yd(n,{minDate:r?xR(r):void 0,maxDate:a?bR(a):void 0})||(o==null?void 0:o.some(function(f){return _r(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return _r(n,f)})||u&&!u(Mt(n))||!1}function bh(n,e,t,r){var a=lt(n),o=Tr(n),l=lt(e),u=Tr(e),f=lt(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function LB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates;return Yd(n,{minDate:r,maxDate:a})||o&&o.some(function(u){return _r(u instanceof Date?u:u.date,n)})||l&&!l.some(function(u){return _r(u,n)})||!1}function xh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Yd(n,{minDate:r,maxDate:a})||(o==null?void 0:o.some(function(f){return Rm(n,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Rm(n,f)})||u&&!u(Mt(n))||!1}function _h(n,e,t){if(!e||!t||!bm(e)||!bm(t))return!1;var r=lt(e),a=lt(t);return r<=n&&a>=n}function Fh(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,f=new Date(n,0,1);return Yd(f,{minDate:r?fp(r):void 0,maxDate:a?_R(a):void 0})||(o==null?void 0:o.some(function(h){return Xa(f,h instanceof Date?h:h.date)}))||l&&!l.some(function(h){return Xa(f,h)})||u&&!u(Mt(f))||!1}function wh(n,e,t,r){var a=lt(n),o=qo(n),l=lt(e),u=qo(e),f=lt(r);return a===l&&a===f?o<=t&&t<=u:a<l?f===a&&o<=t||f===l&&u>=t||f<l&&f>a:!1}function Yd(n,e){var t,r=e===void 0?{}:e,a=r.minDate,o=r.maxDate;return(t=a&&_c(n,a)<0||o&&_c(n,o)>0)!==null&&t!==void 0?t:!1}function $S(n,e){return e.some(function(t){return Yi(t)===Yi(n)&&qi(t)===qi(n)&&Ls(t)===Ls(n)})}function GS(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return r&&$S(n,r)||a&&!$S(n,a)||o&&!o(n)||!1}function QS(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var a=Mt();a=jh(a,Yi(n)),a=Vh(a,qi(n)),a=Lh(a,Ls(n));var o=Mt();o=jh(o,Yi(t)),o=Vh(o,qi(t)),o=Lh(o,Ls(t));var l=Mt();l=jh(l,Yi(r)),l=Vh(l,qi(r)),l=Lh(l,Ls(r));var u;try{u=!Dd(a,{start:o,end:l})}catch{u=!1}return u}function KS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=$o(n,1);return r&&xm(r,o)>0||a&&a.every(function(l){return xm(l,o)>0})||!1}function WS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=Ma(n,1);return r&&xm(o,r)>0||a&&a.every(function(l){return xm(o,l)>0})||!1}function UB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=fp(n),l=NR(o);return r&&_m(r,l)>0||a&&a.every(function(u){return _m(u,l)>0})||!1}function BB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=_R(n),l=Qb(o,1);return r&&_m(l,r)>0||a&&a.every(function(u){return _m(l,u)>0})||!1}function XS(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.includeDates,o=wc(n,1);return r&&wm(r,o)>0||a&&a.every(function(l){return wm(l,o)>0})||!1}function FB(n,e){var t=e===void 0?{}:e,r=t.minDate,a=t.yearItemNumber,o=a===void 0?Hd:a,l=Wu(wc(n,o)),u=ks(l,o).endPeriod,f=r&&lt(r);return f&&f>u||!1}function ZS(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.includeDates,o=zi(n,1);return r&&wm(o,r)>0||a&&a.every(function(l){return wm(o,l)>0})||!1}function zB(n,e){var t=e===void 0?{}:e,r=t.maxDate,a=t.yearItemNumber,o=a===void 0?Hd:a,l=zi(n,o),u=ks(l,o).startPeriod,f=r&&lt(r);return f&&f<u||!1}function $R(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return _c(a,e)>=0});return DS(r)}else return t?DS(t):e}function GR(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(a){return _c(a,e)<=0});return SS(r)}else return t?SS(t):e}function JS(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,a=0,o=n.length;a<o;a++){var l=n[a];if(Hi(l)){var u=Wt(l,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(e)||(f.push(e),r.set(u,f))}else if(typeof l=="object"){var h=Object.keys(l),g=(t=h[0])!==null&&t!==void 0?t:"",v=l[g];if(typeof g=="string"&&Array.isArray(v))for(var x=0,w=v.length;x<w;x++){var T=v[x];if(T){var u=Wt(T,"MM.dd.yyyy"),f=r.get(u)||[];f.includes(g)||(f.push(g),r.set(u,f))}}}}return r}function HB(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function YB(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var a=r.date,o=r.holidayName;if(Hi(a)){var l=Wt(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&HB(u.holidayNames,[o]))){u.className=e;var f=u.holidayNames;u.holidayNames=f?ei(ei([],f,!0),[o],!1):[o],t.set(l,u)}}}),t}function qB(n,e,t,r,a){for(var o=a.length,l=[],u=0;u<o;u++){var f=n,h=a[u];h&&(f=r8(f,Yi(h)),f=X0(f,qi(h)),f=s8(f,Ls(h)));var g=X0(n,(t+1)*r);Ks(f,e)&&Zo(f,g)&&h!=null&&l.push(h)}return l}function e2(n){return n<10?"0".concat(n):"".concat(n)}function ks(n,e){e===void 0&&(e=Hd);var t=Math.ceil(lt(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function $B(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function t2(n){var e=n.getSeconds(),t=n.getMilliseconds();return Le(n.getTime()-e*1e3-t)}function GB(n,e){return t2(n).getTime()===t2(e).getTime()}function n2(n){if(!Hi(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function r2(n,e){if(!Hi(n)||!Hi(e))throw new Error("Invalid date received");var t=n2(n),r=n2(e);return Zo(t,r)}function QR(n){return n.key===Re.Space}var QB=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=X.createRef(),r.onTimeChange=function(a){var o,l;r.setState({time:a});var u=r.props.date,f=u instanceof Date&&!isNaN(+u),h=f?u:new Date;if(a!=null&&a.includes(":")){var g=a.split(":"),v=g[0],x=g[1];h.setHours(Number(v)),h.setMinutes(Number(x))}(l=(o=r.props).onChange)===null||l===void 0||l.call(o,h)},r.renderTimeInput=function(){var a=r.state.time,o=r.props,l=o.date,u=o.timeString,f=o.customTimeInput;return f?k.cloneElement(f,{date:l,value:a,onChange:r.onTimeChange}):X.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var h;(h=r.inputRef.current)===null||h===void 0||h.focus()},required:!0,value:a,onChange:function(h){r.onTimeChange(h.target.value||u)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return X.createElement("div",{className:"react-datepicker__input-time-container"},X.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),X.createElement("div",{className:"react-datepicker-time__input-container"},X.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(k.Component),KB=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=k.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isSameDay=function(r){return xt(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return ox(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return xt(t.props.day,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&xt(r,Us(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,a=r.day,o=r.highlightDates;if(!o)return!1;var l=Wt(a,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var r,a=t.props,o=a.day,l=a.holidays;if(!l)return[void 0];var u=Wt(o,"MM.dd.yyyy");return l.has(u)?[(r=l.get(u))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:Xu(a,o,l)},t.isInSelectingRange=function(){var r,a=t.props,o=a.day,l=a.selectsStart,u=a.selectsEnd,f=a.selectsRange,h=a.selectsDisabledDaysInRange,g=a.startDate,v=a.endDate,x=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(l||u||f)||!x||!h&&t.isDisabled()?!1:l&&v&&(Zo(x,v)||zo(x,v))?Xu(o,x,v):u&&g&&(Ks(x,g)||zo(x,g))||f&&g&&!v&&(Ks(x,g)||zo(x,g))?Xu(o,g,x):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.startDate,u=a.selectsStart,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u?xt(o,f):xt(o,l)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,l=a.endDate,u=a.selectsEnd,f=a.selectsRange,h=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return u||f?xt(o,h):xt(o,l)},t.isRangeStart=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:xt(o,a)},t.isRangeEnd=function(){var r=t.props,a=r.day,o=r.startDate,l=r.endDate;return!o||!l?!1:xt(l,a)},t.isWeekend=function(){var r=a7(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Tr(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Tr(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Mt())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var a=t.props.dayClassName?t.props.dayClassName(r):void 0;return Zn("react-datepicker__day",a,"react-datepicker__day--"+MB(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,a=r.day,o=r.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=r.ariaLabelPrefixWhenDisabled,f=u===void 0?"Not available":u,h=t.isDisabled()||t.isExcluded()?f:l;return"".concat(h," ").concat(Wt(a,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,a=r.day,o=r.holidays,l=o===void 0?new Map:o,u=r.excludeDates,f=Wt(a,"MM.dd.yyyy"),h=[];return l.has(f)&&h.push.apply(h,l.get(f).holidayNames),t.isExcluded()&&h.push(u==null?void 0:u.filter(function(g){return g instanceof Date?xt(g,a):xt(g==null?void 0:g.date,a)}).map(function(g){if(!(g instanceof Date))return g==null?void 0:g.message})),h.join(", ")},t.getTabIndex=function(){var r=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&xt(a,r))?0:-1;return o},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(PS(t.props.day),t.props.day):PS(t.props.day)},t.render=function(){return X.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&X.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,a;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(k.Component),WB=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=k.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var a,o,l=r.key;l===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!xt(t.props.date,t.props.selected)&&xt(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||xt(t.props.date,t.props.selected)&&xt(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var a=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&xt(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&xt(this.props.date,this.props.selected)};return X.createElement("div",{ref:this.weekNumberEl,className:Zn(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(k.Component),XB=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,a){t.props.onDayClick&&t.props.onDayClick(r,a)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,a,o){for(var l,u,f,h=new Date(r),g=0;g<7;g++){var v=new Date(r);v.setDate(v.getDate()+g);var x=!t.isDisabled(v);if(x){h=v;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(h,a,o),t.props.showWeekPicker&&t.handleDayClick(h,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(u=t.props).setOpen)===null||f===void 0||f.call(u,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):NB(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),a=Ca(r,6),o=new Date(r);o<=a;){if(!t.isDisabled(o))return!1;o=Ca(o,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),a=[],o=t.formatWeekNumber(r);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,o):void 0;a.push(X.createElement(WB,_t({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(r,u);return X.createElement(KB,_t({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return Us(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!xt(t.startOfWeek(),t.props.selected)&&xt(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":xt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return X.createElement("div",{className:Zn(t)},this.renderDays())},e}(k.Component),Fu,ZB=6,sc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Jy=(Fu={},Fu[sc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Fu[sc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Fu[sc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Fu),Eh=1;function a2(n,e){return n?sc.FOUR_COLUMNS:e?sc.TWO_COLUMNS:sc.THREE_COLUMNS}var JB=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=ei([],Array(12),!0).map(function(){return k.createRef()}),t.QUARTER_REFS=ei([],Array(4),!0).map(function(){return k.createRef()}),t.isDisabled=function(r){return ma(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return ox(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,a){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,r,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,r)},t.handleMouseLeave=function(){var r,a;(a=(r=t.props).onMouseLeave)===null||a===void 0||a.call(r)},t.isRangeStartMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:_r(ha(o,r),l)},t.isRangeStartQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Rm(Zl(o,r),l)},t.isRangeEndMonth=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:_r(ha(o,r),u)},t.isRangeEndQuarter=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Rm(Zl(o,r),u)},t.isInSelectingRangeMonth=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?bh(x,v,r,l):f&&g||h&&g&&!v?bh(g,x,r,l):!1},t.isSelectingMonthRangeStart=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.startDate,f=o.selectsStart,h=ha(l,r),g=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f?_r(h,g):_r(h,u)},t.isSelectingMonthRangeEnd=function(r){var a;if(!t.isInSelectingRangeMonth(r))return!1;var o=t.props,l=o.day,u=o.endDate,f=o.selectsEnd,h=o.selectsRange,g=ha(l,r),v=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return f||h?_r(g,v):_r(g,u)},t.isInSelectingRangeQuarter=function(r){var a,o=t.props,l=o.day,u=o.selectsStart,f=o.selectsEnd,h=o.selectsRange,g=o.startDate,v=o.endDate,x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||f||h)||!x?!1:u&&v?wh(x,v,r,l):f&&g||h&&g&&!v?wh(g,x,r,l):!1},t.isWeekInMonth=function(r){var a=t.props.day,o=Ca(r,6);return _r(r,a)||_r(o,a)},t.isCurrentMonth=function(r,a){return lt(r)===lt(Mt())&&a===Tr(Mt())},t.isCurrentQuarter=function(r,a){return lt(r)===lt(Mt())&&a===qo(Mt())},t.isSelectedMonth=function(r,a,o){return Tr(o)===a&&lt(r)===lt(o)},t.isSelectMonthInList=function(r,a,o){return o.some(function(l){return t.isSelectedMonth(r,a,l)})},t.isSelectedQuarter=function(r,a,o){return qo(r)===a&&lt(r)===lt(o)},t.renderWeeks=function(){for(var r=[],a=t.props.fixedHeight,o=0,l=!1,u=Us($i(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(T){return t.props.showWeekPicker?Us(T,t.props.locale,t.props.calendarStartDay):t.props.preSelection},h=function(T){return t.props.showWeekPicker?Us(T,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?h(t.props.selected):void 0,v=t.props.preSelection?f(t.props.preSelection):void 0;r.push(X.createElement(XB,_t({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:Tr(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:v,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=vm(u,1);var x=a&&o>=ZB,w=!a&&!t.isWeekInMonth(u);if(x||w)if(t.props.peekNextMonth)l=!0;else break}return r},t.onMonthClick=function(r,a){var o=t.isMonthDisabledForLabelDate(a),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick($i(u),r)},t.onMonthMouseEnter=function(r){var a=t.isMonthDisabledForLabelDate(r),o=a.isDisabled,l=a.labelDate;o||t.handleDayMouseEnter($i(l))},t.handleMonthNavigation=function(r,a){var o,l,u,f;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.MONTH_REFS[r])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(r,a,o){var l,u=t.props,f=u.selected,h=u.preSelection,g=u.setPreSelection,v=u.minDate,x=u.maxDate,w=u.showFourColumnMonthYearPicker,T=u.showTwoColumnMonthYearPicker;if(h){var A=a2(w,T),D=t.getVerticalOffset(A),O=(l=Jy[A])===null||l===void 0?void 0:l.grid,U=function(j,C,R){var N,L,H=C,F=R;switch(j){case Re.ArrowRight:H=Ma(C,Eh),F=R===11?0:R+Eh;break;case Re.ArrowLeft:H=$o(C,Eh),F=R===0?11:R-Eh;break;case Re.ArrowUp:H=$o(C,D),F=!((N=O==null?void 0:O[0])===null||N===void 0)&&N.includes(R)?R+12-D:R-D;break;case Re.ArrowDown:H=Ma(C,D),F=!((L=O==null?void 0:O[O.length-1])===null||L===void 0)&&L.includes(R)?R-12+D:R+D;break}return{newCalculatedDate:H,newCalculatedMonth:F}},B=function(j,C,R){for(var N=40,L=j,H=!1,F=0,Se=U(L,C,R),xe=Se.newCalculatedDate,K=Se.newCalculatedMonth;!H;){if(F>=N){xe=C,K=R;break}if(v&&xe<v){L=Re.ArrowRight;var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}if(x&&xe>x){L=Re.ArrowLeft;var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}if(LB(xe,t.props)){var ne=U(L,xe,K);xe=ne.newCalculatedDate,K=ne.newCalculatedMonth}else H=!0;F++}return{newCalculatedDate:xe,newCalculatedMonth:K}};if(a===Re.Enter){t.isMonthDisabled(o)||(t.onMonthClick(r,o),g==null||g(f));return}var Y=B(a,h,o),M=Y.newCalculatedDate,$=Y.newCalculatedMonth;switch(a){case Re.ArrowRight:case Re.ArrowLeft:case Re.ArrowUp:case Re.ArrowDown:t.handleMonthNavigation($,M);break}}},t.getVerticalOffset=function(r){var a,o;return(o=(a=Jy[r])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(r,a){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,f=r.key;f!==Re.Tab&&r.preventDefault(),l||t.handleKeyboardNavigation(r,f,a),u&&u(r)},t.onQuarterClick=function(r,a){var o=Zl(t.props.day,a);xh(o,t.props)||t.handleDayClick(HS(o),r)},t.onQuarterMouseEnter=function(r){var a=Zl(t.props.day,r);xh(a,t.props)||t.handleDayMouseEnter(HS(a))},t.handleQuarterNavigation=function(r,a){var o,l,u,f;t.isDisabled(a)||t.isExcluded(a)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,a),(f=(u=t.QUARTER_REFS[r-1])===null||u===void 0?void 0:u.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(r,a){var o,l,u=r.key;if(!t.props.disabledKeyboardNavigation)switch(u){case Re.Enter:t.onQuarterClick(r,a),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case Re.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,Qb(t.props.preSelection,1));break;case Re.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,NR(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var a,o=t.props,l=o.day,u=o.minDate,f=o.maxDate,h=o.excludeDates,g=o.includeDates,v=ha(l,r);return{isDisabled:(a=(u||f||h||g)&&qR(v,t.props))!==null&&a!==void 0?a:!1,labelDate:v}},t.isMonthDisabled=function(r){var a=t.isMonthDisabledForLabelDate(r).isDisabled;return a},t.getMonthClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.preSelection,h=a.monthClassName,g=h?h(ha(o,r)):void 0,v=t.getSelection();return Zn("react-datepicker__month-text","react-datepicker__month-".concat(r),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":v?t.isSelectMonthInList(o,r,v):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(o,r,f)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":l&&u?bh(l,u,r,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(o,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=Tr(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var a=qo(t.props.preSelection),o=xh(t.props.day,t.props),l=r===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(r){var a=t.props,o=a.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=a.disabledDayAriaLabelPrefix,f=u===void 0?"Not available":u,h=a.day,g=a.locale,v=ha(h,r),x=t.isDisabled(v)||t.isExcluded(v)?f:l;return"".concat(x," ").concat(Wt(v,"MMMM yyyy",g))},t.getQuarterClassNames=function(r){var a=t.props,o=a.day,l=a.startDate,u=a.endDate,f=a.selected,h=a.minDate,g=a.maxDate,v=a.excludeDates,x=a.includeDates,w=a.filterDate,T=a.preSelection,A=a.disabledKeyboardNavigation,D=(h||g||v||x||w)&&xh(Zl(o,r),t.props);return Zn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":f?t.isSelectedQuarter(o,r,f):void 0,"react-datepicker__quarter-text--keyboard-selected":!A&&T&&t.isSelectedQuarter(o,r,T)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":l&&u?wh(l,u,r,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,r)})},t.getMonthContent=function(r){var a=t.props,o=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,f=a.day,h=YR(r,u),g=sx(r,u);return l?l(r,h,g,f):o?g:h},t.getQuarterContent=function(r){var a,o=t.props,l=o.renderQuarterContent,u=o.locale,f=VB(r,u);return(a=l==null?void 0:l(r,f))!==null&&a!==void 0?a:f},t.renderMonths=function(){var r,a=t.props,o=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,f=a.selected,h=(r=Jy[a2(l,o)])===null||r===void 0?void 0:r.grid;return h==null?void 0:h.map(function(g,v){return X.createElement("div",{className:"react-datepicker__month-wrapper",key:v},g.map(function(x,w){return X.createElement("div",{ref:t.MONTH_REFS[x],key:w,onClick:function(T){t.onMonthClick(T,x)},onKeyDown:function(T){QR(T)&&(T.preventDefault(),T.key=Re.Enter),t.onMonthKeyDown(T,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(u,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(u,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var r=t.props,a=r.day,o=r.selected,l=[1,2,3,4];return X.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,f){return X.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(h){t.onQuarterClick(h,u)},onKeyDown:function(h){t.onQuarterKeyDown(h,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(a,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var r=t.props,a=r.selectingDate,o=r.selectsStart,l=r.selectsEnd,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,h=r.showWeekPicker;return Zn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":h})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,f=u?u.trim()+" ":"";return X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(f).concat(Wt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(k.Component),eF=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,a){return X.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?X.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return X.createElement(yp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),tF=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(a,o){return X.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(r){return X.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,a){return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(r){return X.createElement(eF,_t({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,r)];return a&&o.unshift(t.renderDropdown(r)),o},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return YR(o,t.props.locale)}:function(o){return sx(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(r);break;case"select":a=this.renderSelectMode(r);break}return X.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(k.Component);function nF(n,e){for(var t=[],r=$i(n),a=$i(e);!Ks(r,a);)t.push(Mt(r)),r=Ma(r,1);return t}var rF=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(a){var o=ev(a),l=Xa(r.props.date,a)&&_r(r.props.date,a);return X.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:r.onChange.bind(r,o),"aria-selected":l?"true":void 0},l?X.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Wt(a,r.props.dateFormat,r.props.locale))})},r.onChange=function(a){return r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:nF(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var t=Zn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return X.createElement(yp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),aF=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=$i(t.props.minDate),a=$i(t.props.maxDate),o=[];!Ks(r,a);){var l=ev(r);o.push(X.createElement("option",{key:l,value:l},Wt(r,t.props.dateFormat,t.props.locale))),r=Ma(r,1)}return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:ev($i(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var a=Wt(t.props.date,t.props.dateFormat,t.props.locale);return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return X.createElement(rF,_t({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown();var a=Mt(r);Xa(t.props.date,a)&&_r(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),iF=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(r){var a,o;(t.props.minTime||t.props.maxTime)&&QS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&GS(r,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,r)},t.isSelectedTime=function(r){return t.props.selected&&GB(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&QS(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&GS(r,t.props)},t.liClasses=function(r){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Yi(r)*3600+qi(r)*60+Ls(r))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(r,a){var o,l;r.key===Re.Space&&(r.preventDefault(),r.key=Re.Enter),(r.key===Re.ArrowUp||r.key===Re.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Re.ArrowDown||r.key===Re.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Re.Enter&&t.handleClick(a),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,r)},t.renderTimes=function(){for(var r,a=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Mt(),f=Bh(u),h=t.props.injectTimes&&t.props.injectTimes.sort(function(D,O){return D.getTime()-O.getTime()}),g=60*$B(u),v=g/l,x=0;x<v;x++){var w=X0(f,x*l);if(a.push(w),h){var T=qB(f,w,x,l,h);a=a.concat(T)}}var A=a.reduce(function(D,O){return O.getTime()<=u.getTime()?O:D},a[0]);return a.map(function(D){return X.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(O){D===A&&(t.centerLi=O)},onKeyDown:function(O){t.handleOnKeyDown(O,D)},tabIndex:D===A?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},Wt(D,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?X.createElement(X.Fragment,null):X.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},X.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,r,a=this.state.height;return X.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),X.createElement("div",{className:"react-datepicker__time"},X.createElement("div",{className:"react-datepicker__time-box"},X.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e}(k.Component),i2=3,sF=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=ei([],Array(r.props.yearItemNumber),!0).map(function(){return k.createRef()}),r.isDisabled=function(a){return ma(a,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(a){return ox(a,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection},r.updateFocusOnPaginate=function(a){var o=function(){var l,u;(u=(l=r.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},r.handleYearClick=function(a,o){r.props.onDayClick&&r.props.onDayClick(a,o)},r.handleYearNavigation=function(a,o){var l,u,f,h,g=r.props,v=g.date,x=g.yearItemNumber;if(!(v===void 0||x===void 0)){var w=ks(v,x).startPeriod;r.isDisabled(o)||r.isExcluded(o)||((u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,o),a-w<0?r.updateFocusOnPaginate(x-(w-a)):a-w>=x?r.updateFocusOnPaginate(Math.abs(x-(a-w))):(h=(f=r.YEAR_REFS[a-w])===null||f===void 0?void 0:f.current)===null||h===void 0||h.focus())}},r.isSameDay=function(a,o){return xt(a,o)},r.isCurrentYear=function(a){return a===lt(Mt())},r.isRangeStart=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.startDate)},r.isRangeEnd=function(a){return r.props.startDate&&r.props.endDate&&Xa(Wa(Mt(),a),r.props.endDate)},r.isInRange=function(a){return _h(a,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(a){var o=r.props,l=o.selectsStart,u=o.selectsEnd,f=o.selectsRange,h=o.startDate,g=o.endDate;return!(l||u||f)||!r.selectingDate()?!1:l&&g?_h(a,r.selectingDate(),g):u&&h||f&&h&&!g?_h(a,h,r.selectingDate()):!1},r.isSelectingRangeStart=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.startDate,f=l.selectsStart,h=Wa(Mt(),a);return f?Xa(h,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(h,u??null)},r.isSelectingRangeEnd=function(a){var o;if(!r.isInSelectingRange(a))return!1;var l=r.props,u=l.endDate,f=l.selectsEnd,h=l.selectsRange,g=Wa(Mt(),a);return f||h?Xa(g,(o=r.selectingDate())!==null&&o!==void 0?o:null):Xa(g,u??null)},r.isKeyboardSelected=function(a){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var o=r.props,l=o.minDate,u=o.maxDate,f=o.excludeDates,h=o.includeDates,g=o.filterDate,v=Wu(Wa(r.props.date,a)),x=(l||u||f||h||g)&&Fh(a,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!xt(v,Wu(r.props.selected))&&xt(v,Wu(r.props.preSelection))&&!x}},r.onYearClick=function(a,o){var l=r.props.date;l!==void 0&&r.handleYearClick(Wu(Wa(l,o)),a)},r.onYearKeyDown=function(a,o){var l,u,f=a.key,h=r.props,g=h.date,v=h.yearItemNumber,x=h.handleOnKeyDown;if(f!==Re.Tab&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case Re.Enter:if(r.props.selected==null)break;r.onYearClick(a,o),(u=(l=r.props).setPreSelection)===null||u===void 0||u.call(l,r.props.selected);break;case Re.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(o+1,zi(r.props.preSelection,1));break;case Re.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(o-1,wc(r.props.preSelection,1));break;case Re.ArrowUp:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var w=ks(g,v).startPeriod,T=i2,A=o-T;if(A<w){var D=v%T;o>=w&&o<w+D?T=D:T+=D,A=o-T}r.handleYearNavigation(A,wc(r.props.preSelection,T));break}case Re.ArrowDown:{if(g===void 0||v===void 0||r.props.preSelection==null)break;var O=ks(g,v).endPeriod,T=i2,A=o+T;if(A>O){var D=v%T;o<=O&&o>O-D?T=D:T+=D,A=o+T}r.handleYearNavigation(A,zi(r.props.preSelection,T));break}}x&&x(a)},r.getYearClassNames=function(a){var o=r.props,l=o.date,u=o.minDate,f=o.maxDate,h=o.selected,g=o.excludeDates,v=o.includeDates,x=o.filterDate,w=o.yearClassName;return Zn("react-datepicker__year-text","react-datepicker__year-".concat(a),l?w==null?void 0:w(Wa(l,a)):void 0,{"react-datepicker__year-text--selected":h?a===lt(h):void 0,"react-datepicker__year-text--disabled":(u||f||g||v||x)&&Fh(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})},r.getYearTabIndex=function(a){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var o=lt(r.props.preSelection),l=Fh(a,r.props);return a===o&&!l?"0":"-1"},r.getYearContent=function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a},r}return e.prototype.render=function(){var t=this,r=[],a=this.props,o=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,f=a.onYearMouseLeave;if(o===void 0)return null;for(var h=ks(o,l),g=h.startPeriod,v=h.endPeriod,x=function(A){r.push(X.createElement("div",{ref:w.YEAR_REFS[A-g],onClick:function(D){t.onYearClick(D,A)},onKeyDown:function(D){QR(D)&&(D.preventDefault(),D.key=Re.Enter),t.onYearKeyDown(D,A)},tabIndex:Number(w.getYearTabIndex(A)),className:w.getYearClassNames(A),onMouseEnter:w.props.usePointerEvent?void 0:function(D){return u(D,A)},onPointerEnter:w.props.usePointerEvent?function(D){return u(D,A)}:void 0,onMouseLeave:w.props.usePointerEvent?void 0:function(D){return f(D,A)},onPointerLeave:w.props.usePointerEvent?function(D){return f(D,A)}:void 0,key:A,"aria-current":w.isCurrentYear(A)?"date":void 0},w.getYearContent(A)))},w=this,T=g;T<=v;T++)x(T);return X.createElement("div",{className:"react-datepicker__year"},X.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(k.Component);function oF(n,e,t,r){for(var a=[],o=0;o<2*e+1;o++){var l=n+e-o,u=!0;t&&(u=lt(t)<=l),r&&u&&(u=lt(r)>=l),u&&a.push(l)}return a}var lF=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;r.renderOptions=function(){var u=r.props.year,f=r.state.yearsList.map(function(v){return X.createElement("div",{className:u===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:r.onChange.bind(r,v),"aria-selected":u===v?"true":void 0},u===v?X.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",v)}),h=r.props.minDate?lt(r.props.minDate):null,g=r.props.maxDate?lt(r.props.maxDate):null;return(!g||!r.state.yearsList.find(function(v){return v===g}))&&f.unshift(X.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!h||!r.state.yearsList.find(function(v){return v===h}))&&f.push(X.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},r.onChange=function(u){r.props.onChange(u)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(u){var f=r.state.yearsList.map(function(h){return h+u});r.setState({yearsList:f})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=a||(o?10:5);return r.state={yearsList:oF(r.props.year,l,r.props.minDate,r.props.maxDate)},r.dropdownRef=k.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,a=r?r.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Zn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return X.createElement(yp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(k.Component),cF=function(n){Hn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?lt(t.props.minDate):1900,a=t.props.maxDate?lt(t.props.maxDate):2100,o=[],l=r;l<=a;l++)o.push(X.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return X.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return X.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},X.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return X.createElement(lF,_t({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,a=[t.renderReadView(!r)];return r&&a.unshift(t.renderDropdown()),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,r,a),t.setOpen()},t.onSelect=function(r,a){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,r,a)},t.setOpen=function(){var r,a;(a=(r=t.props).setOpen)===null||a===void 0||a.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(k.Component),uF=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],dF=function(n){var e=(n.className||"").split(/\s+/);return uF.some(function(t){return e.indexOf(t)>=0})},fF=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(a){r.props.onClickOutside(a)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(a){var o,l;dF(a.target)&&((l=(o=r.props).onDropdownFocus)===null||l===void 0||l.call(o,a))},r.getDateInView=function(){var a=r.props,o=a.preSelection,l=a.selected,u=a.openToDate,f=$R(r.props),h=GR(r.props),g=Mt(),v=u||l||o;return v||(f&&Zo(g,f)?f:h&&Ks(g,h)?h:g)},r.increaseMonth=function(){r.setState(function(a){var o=a.date;return{date:Ma(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(a){var o=a.date;return{date:$o(o,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(a,o,l){r.props.onSelect(a,o,l),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleDayMouseEnter=function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(a,o){r.setState({selectingDate:Wa(Mt(),o)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,o)},r.handleYearMouseLeave=function(a,o){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,o)},r.handleYearChange=function(a){var o,l,u,f;(l=(o=r.props).onYearChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(a),(f=(u=r.props).setOpen)===null||f===void 0||f.call(u,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.getEnabledPreSelectionDateForMonth=function(a){if(!ma(a,r.props))return a;for(var o=$i(a),l=PB(a),u=l8(l,o),f=null,h=0;h<=u;h++){var g=Ca(o,h);if(!ma(g,r.props)){f=g;break}}return f},r.handleMonthChange=function(a){var o,l,u,f=(o=r.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;r.handleCustomMonthChange(f),r.props.adjustDateOnChange&&(r.props.onSelect(f),(u=(l=r.props).setOpen)===null||u===void 0||u.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(f)},r.handleCustomMonthChange=function(a){var o,l;(l=(o=r.props).onMonthChange)===null||l===void 0||l.call(o,a),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(a){r.handleYearChange(a),r.handleMonthChange(a)},r.changeYear=function(a){r.setState(function(o){var l=o.date;return{date:Wa(l,Number(a))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(a){r.setState(function(o){var l=o.date;return{date:ha(l,Number(a))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(a){r.setState(function(o){var l=o.date;return{date:Wa(ha(l,Tr(a)),lt(a))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(a){a===void 0&&(a=r.state.date);var o=Us(a,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(X.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var f=Ca(o,u),h=r.formatWeekday(f,r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;return X.createElement("div",{key:u,"aria-label":Wt(f,"EEEE",r.props.locale),className:Zn("react-datepicker__day-name",g)},h)}))},r.formatWeekday=function(a,o){return r.props.formatWeekDay?OB(a,r.props.formatWeekDay,o):r.props.useWeekdaysShort?jB(a,o):IB(a,o)},r.decreaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:wc(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var a,o,l;if(!r.props.renderCustomHeader){var u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,g=$o(r.state.date,h),v;switch(!0){case r.props.showMonthYearPicker:v=XS(r.state.date,r.props);break;case r.props.showYearPicker:v=FB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:v=UB(r.state.date,r.props);break;default:v=KS(g,r.props);break}if(!(!((l=r.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&v||r.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],w=["react-datepicker__navigation","react-datepicker__navigation--previous"],T=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(T=r.decreaseYear),v&&r.props.showDisabledMonthNavigation&&(w.push("react-datepicker__navigation--previous--disabled"),T=void 0);var A=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,D=r.props,O=D.previousMonthButtonLabel,U=O===void 0?e.defaultProps.previousMonthButtonLabel:O,B=D.previousYearButtonLabel,Y=B===void 0?e.defaultProps.previousYearButtonLabel:B,M=r.props,$=M.previousMonthAriaLabel,j=$===void 0?typeof U=="string"?U:"Previous Month":$,C=M.previousYearAriaLabel,R=C===void 0?typeof Y=="string"?Y:"Previous Year":C;return X.createElement("button",{type:"button",className:w.join(" "),onClick:T,onKeyDown:r.props.handleOnKeyDown,"aria-label":A?R:j},X.createElement("span",{className:x.join(" ")},A?Y:U))}}},r.increaseYear=function(){r.setState(function(a){var o,l=a.date;return{date:zi(l,r.props.showYearPicker?(o=r.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var a;if(!r.props.renderCustomHeader){var o;switch(!0){case r.props.showMonthYearPicker:o=ZS(r.state.date,r.props);break;case r.props.showYearPicker:o=zB(r.state.date,r.props);break;case r.props.showQuarterYearPicker:o=BB(r.state.date,r.props);break;default:o=WS(r.state.date,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&o||r.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(f=r.increaseYear),o&&r.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,g=r.props,v=g.nextMonthButtonLabel,x=v===void 0?e.defaultProps.nextMonthButtonLabel:v,w=g.nextYearButtonLabel,T=w===void 0?e.defaultProps.nextYearButtonLabel:w,A=r.props,D=A.nextMonthAriaLabel,O=D===void 0?typeof x=="string"?x:"Next Month":D,U=A.nextYearAriaLabel,B=U===void 0?typeof T=="string"?T:"Next Year":U;return X.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:r.props.handleOnKeyDown,"aria-label":h?B:O},X.createElement("span",{className:u.join(" ")},h?T:x))}}},r.renderCurrentMonth=function(a){a===void 0&&(a=r.state.date);var o=["react-datepicker__current-month"];return r.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),X.createElement("h2",{className:o.join(" ")},Wt(a,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showYearDropdown||a))return X.createElement(cF,_t({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:lt(r.state.date)}))},r.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthDropdown||a))return X.createElement(tF,_t({},e.defaultProps,r.props,{month:Tr(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!r.props.showMonthYearDropdown||a))return X.createElement(aF,_t({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(a){r.props.onSelect(YS(),a),r.props.setPreSelection&&r.props.setPreSelection(YS())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return X.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(a){var o=a.monthDate,l=a.i;return X.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(o),X.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(l!==0),r.renderMonthYearDropdown(l!==0),r.renderYearDropdown(l!==0)),X.createElement("div",{className:"react-datepicker__day-names"},r.header(o)))},r.renderCustomHeader=function(a){var o,l,u=a.monthDate,f=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var h=KS(r.state.date,r.props),g=WS(r.state.date,r.props),v=XS(r.state.date,r.props),x=ZS(r.state.date,r.props),w=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return X.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(l=(o=r.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,_t(_t({},r.state),{customHeaderCount:f,monthDate:u,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:g,prevYearButtonDisabled:v,nextYearButtonDisabled:x})),w&&X.createElement("div",{className:"react-datepicker__day-names"},r.header(u)))},r.renderYearHeader=function(a){var o=a.monthDate,l=r.props,u=l.showYearPicker,f=l.yearItemNumber,h=f===void 0?e.defaultProps.yearItemNumber:f,g=ks(o,h),v=g.startPeriod,x=g.endPeriod;return X.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(v," - ").concat(x):lt(o))},r.renderHeader=function(a){var o=a.monthDate,l=a.i,u=l===void 0?0:l,f={monthDate:o,i:u};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(f);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(f);default:return r.renderDefaultHeader(f)}},r.renderMonths=function(){var a,o;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var l=[],u=(a=r.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,f=r.props.showPreviousMonths?u-1:0,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(r.state.date,f):$o(r.state.date,f),g=(o=r.props.monthSelectedIn)!==null&&o!==void 0?o:f,v=0;v<u;++v){var x=v-g+f,w=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?zi(h,x):Ma(h,x),T="month-".concat(v),A=v<u-1,D=v>0;l.push(X.createElement("div",{key:T,ref:function(O){r.monthContainer=O??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:w,i:v}),X.createElement(JB,_t({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:w,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:v,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:A,monthShowsDuplicateDaysStart:D}))))}return l}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return X.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),X.createElement(sF,_t({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return X.createElement(iF,_t({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var a=r.props.selected?new Date(r.props.selected):void 0,o=a&&vp(a)&&!!r.props.selected,l=o?"".concat(e2(a.getHours()),":").concat(e2(a.getMinutes())):"";if(r.props.showTimeInput)return X.createElement(QB,_t({},e.defaultProps,r.props,{date:a,timeString:l,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var a,o=ks(r.state.date,(a=r.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,f;return r.props.showYearPicker?f="".concat(l," - ").concat(u):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?f=lt(r.state.date):f="".concat(sx(Tr(r.state.date),r.props.locale)," ").concat(lt(r.state.date)),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&f)},r.renderChildren=function(){if(r.props.children)return X.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=k.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Hd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!xt(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!_r(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!xt(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||DB;return X.createElement(yp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},X.createElement("div",{style:{display:"contents"},ref:this.containerRef},X.createElement(t,{className:Zn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(k.Component),hF=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,a=n.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return X.createElement("i",{className:"".concat(o," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:a});if(X.isValidElement(e)){var l=e;return X.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(r),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return X.createElement("svg",{className:"".concat(o," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},X.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},KR=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Ik.createPortal(this.props.children,this.el)},e}(k.Component),mF="[tabindex], a, button, input, select, textarea",pF=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},WR=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var a;return Array.prototype.slice.call((a=r.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(mF),1,-1).filter(pF)},r.handleFocusStart=function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},r.handleFocusEnd=function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()},r.tabLoopRef=k.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?X.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},X.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,X.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(k.Component);function gF(n){var e=function(t){var r,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=k.useRef(null),l=SB(_t({open:!a,whileElementsMounted:rB,placement:t.popperPlacement,middleware:ei([uB({padding:15}),cB(10),dB({element:o})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),u=_t(_t({},t),{hidePopper:a,popperProps:_t(_t({},l),{arrowRef:o})});return X.createElement(n,_t({},u))};return e}var yF=function(n){Hn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,r=t.className,a=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,f=t.targetComponent,h=t.enableTabLoop,g=t.popperOnKeyDown,v=t.portalId,x=t.portalHost,w=t.popperProps,T=t.showArrow,A=void 0;if(!l){var D=Zn("react-datepicker-popper",r);A=X.createElement(WR,{enableTabLoop:h},X.createElement("div",{ref:w.refs.setFloating,style:w.floatingStyles,className:D,"data-placement":w.placement,onKeyDown:g},u,T&&X.createElement(vB,{ref:w.arrowRef,context:w.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(A=k.createElement(this.props.popperContainer,{},A)),v&&!l&&(A=X.createElement(KR,{portalId:v,portalHost:x},A));var O=Zn("react-datepicker-wrapper",a);return X.createElement(X.Fragment,null,X.createElement("div",{ref:w.refs.setReference,className:O},f),A)},e}(k.Component),vF=gF(yF),s2="react-datepicker-ignore-onclickoutside";function bF(n,e){return n&&e?Tr(n)!==Tr(e)||lt(n)!==lt(e):n!==e}var e0="Date input not valid.",xF=function(n){Hn(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Mt()},r.modifyHolidays=function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,l){var u=new Date(l.date);return vp(u)?ei(ei([],o,!0),[_t(_t({},l),{date:u})],!1):o},[])},r.calcInitialState=function(){var a,o=r.getPreSelection(),l=$R(r.props),u=GR(r.props),f=l&&Zo(o,Bh(l))?l:u&&Ks(o,qS(u))?u:o;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:f,highlightDates:JS(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(_t(_t({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(_t(_t({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},r.setBlur=function(){var a,o;(o=(a=r.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(a,o){o===void 0&&(o=!1),r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:t0},function(){a||r.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Hi(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(a){var o,l,u=r.state.wasHidden,f=u?r.state.open:!0;u&&r.resetHiddenStatus(),r.state.preventFocus||((l=(o=r.props).onFocus)===null||l===void 0||l.call(o,a),f&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(a){var o,l;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((l=(o=r.props).onBlur)===null||l===void 0||l.call(o,a)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(a){var o,l;r.props.inline||r.setOpen(!1),(l=(o=r.props).onClickOutside)===null||l===void 0||l.call(o,a),r.props.withPortal&&a.preventDefault()},r.handleChange=function(){for(var a,o,l,u,f,h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];var v=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),!v||typeof v.isDefaultPrevented!="function"||v.isDefaultPrevented()))){r.setState({inputValue:(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:null,lastPreSelectChange:_F});var x=r.props,w=x.selectsRange,T=x.startDate,A=x.endDate,D=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,O=(o=r.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,U=(v==null?void 0:v.target)instanceof HTMLInputElement?v.target.value:"";if(w){var B=U.split("-",2).map(function(L){return L.trim()}),Y=B[0],M=B[1],$=Xy(Y??"",D,r.props.locale,O),j=Xy(M??"",D,r.props.locale,O),C=(T==null?void 0:T.getTime())!==($==null?void 0:$.getTime()),R=(A==null?void 0:A.getTime())!==(j==null?void 0:j.getTime());if(!C&&!R||$&&ma($,r.props)||j&&ma(j,r.props))return;(u=(l=r.props).onChange)===null||u===void 0||u.call(l,[$,j],v)}else{var N=Xy(U,D,r.props.locale,O,(f=r.props.selected)!==null&&f!==void 0?f:void 0);(N||!U)&&r.setSelected(N,v,!0)}}},r.handleSelect=function(a,o,l){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(o),r.setSelected(a,o,!1,l),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var u=r.props,f=u.startDate,h=u.endDate;f&&!h&&(r.props.swapRange||!r2(a,f))&&r.setOpen(!1)}},r.setSelected=function(a,o,l,u){var f,h,g=a;if(r.props.showYearPicker){if(g!==null&&Fh(lt(g),r.props))return}else if(r.props.showMonthYearPicker){if(g!==null&&qR(g,r.props))return}else if(g!==null&&ma(g,r.props))return;var v=r.props,x=v.onChange,w=v.selectsRange,T=v.startDate,A=v.endDate,D=v.selectsMultiple,O=v.selectedDates,U=v.minTime,B=v.swapRange;if(!zo(r.props.selected,g)||r.props.allowSameDay||w||D)if(g!==null&&(r.props.selected&&(!l||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(g=Zy(g,{hour:Yi(r.props.selected),minute:qi(r.props.selected),second:Ls(r.props.selected)})),!l&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&U&&(g=Zy(g,{hour:U.getHours(),minute:U.getMinutes(),second:U.getSeconds()})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:u})),w){var Y=!T&&!A,M=T&&!A,$=T&&A;Y?x==null||x([g,null],o):M&&(g===null?x==null||x([null,null],o):r2(g,T)?B?x==null||x([g,T],o):x==null||x([g,null],o):x==null||x([T,g],o)),$&&(x==null||x([g,null],o))}else if(D){if(g!==null)if(!(O!=null&&O.length))x==null||x([g],o);else{var j=O.some(function(R){return xt(R,g)});if(j){var C=O.filter(function(R){return!xt(R,g)});x==null||x(C,o)}else x==null||x(ei(ei([],O,!0),[g],!1),o)}}else x==null||x(g,o);l||((h=(f=r.props).onSelect)===null||h===void 0||h.call(f,g,o),r.setState({inputValue:null}))},r.setPreSelection=function(a){var o=Hi(r.props.minDate),l=Hi(r.props.maxDate),u=!0;if(a){var f=Bh(a);if(o&&l)u=Xu(a,r.props.minDate,r.props.maxDate);else if(o){var h=Bh(r.props.minDate);u=Ks(a,h)||zo(f,h)}else if(l){var g=qS(r.props.maxDate);u=Zo(a,g)||zo(f,g)}}u&&r.setState({preSelection:a})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(a){var o,l;if(!(r.props.selectsRange||r.props.selectsMultiple)){var u=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?a:Zy(u,{hour:Yi(a),minute:qi(a)});r.setState({preSelection:f}),(l=(o=r.props).onChange)===null||l===void 0||l.call(o,f),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var a,o;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(o=(a=r.props).onInputClick)===null||o===void 0||o.call(a)},r.onInputKeyDown=function(a){var o,l,u,f,h,g;(l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a);var v=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(v===Re.ArrowDown||v===Re.ArrowUp||v===Re.Enter)&&((u=r.onInputClick)===null||u===void 0||u.call(r));return}if(r.state.open){if(v===Re.ArrowDown||v===Re.ArrowUp){a.preventDefault();var x=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',w=((f=r.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(x);w instanceof HTMLElement&&w.focus({preventScroll:!0});return}var T=Mt(r.state.preSelection);v===Re.Enter?(a.preventDefault(),a.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===t0?(r.handleSelect(T,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(T)):r.setOpen(!1)):v===Re.Escape?(a.preventDefault(),a.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):v===Re.Tab&&r.setOpen(!1),r.inputOk()||(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:e0})}},r.onPortalKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(a){var o,l,u,f,h,g,v=r.props,x=v.minDate,w=v.maxDate,T=v.disabledKeyboardNavigation,A=v.showWeekPicker,D=v.shouldCloseOnSelect,O=v.locale,U=v.calendarStartDay,B=v.adjustDateOnChange,Y=v.inline;if((l=(o=r.props).onKeyDown)===null||l===void 0||l.call(o,a),!T){var M=a.key,$=a.shiftKey,j=Mt(r.state.preSelection),C=function(xe,K){var ne=K;switch(xe){case Re.ArrowRight:ne=A?vm(K,1):Ca(K,1);break;case Re.ArrowLeft:ne=A?OS(K):lU(K);break;case Re.ArrowUp:ne=OS(K);break;case Re.ArrowDown:ne=vm(K,1);break;case Re.PageUp:ne=$?wc(K,1):$o(K,1);break;case Re.PageDown:ne=$?zi(K,1):Ma(K,1);break;case Re.Home:ne=Us(K,O,U);break;case Re.End:ne=kB(K);break}return ne},R=function(xe,K){for(var ne=40,oe=xe,be=!1,P=0,ee=C(xe,K);!be;){if(P>=ne){ee=K;break}x&&ee<x&&(oe=Re.ArrowRight,ee=ma(x,r.props)?C(oe,ee):x),w&&ee>w&&(oe=Re.ArrowLeft,ee=ma(w,r.props)?C(oe,ee):w),ma(ee,r.props)?((oe===Re.PageUp||oe===Re.Home)&&(oe=Re.ArrowRight),(oe===Re.PageDown||oe===Re.End)&&(oe=Re.ArrowLeft),ee=C(oe,ee)):be=!0,P++}return ee};if(M===Re.Enter){a.preventDefault(),r.handleSelect(j,a),!D&&r.setPreSelection(j);return}else if(M===Re.Escape){a.preventDefault(),r.setOpen(!1),r.inputOk()||(f=(u=r.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:e0});return}var N=null;switch(M){case Re.ArrowLeft:case Re.ArrowRight:case Re.ArrowUp:case Re.ArrowDown:case Re.PageUp:case Re.PageDown:case Re.Home:case Re.End:N=R(M,j);break}if(!N){(g=(h=r.props).onInputError)===null||g===void 0||g.call(h,{code:1,msg:e0});return}if(a.preventDefault(),r.setState({lastPreSelectChange:t0}),B&&r.setSelected(N),r.setPreSelection(N),Y){var L=Tr(j),H=Tr(N),F=lt(j),Se=lt(N);L!==H||F!==Se?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(a){var o=a.key;o===Re.Escape&&(a.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput();var o=r.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],a):u==null||u(null,a),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)},r.renderCalendar=function(){var a,o;return!r.props.inline&&!r.isCalendarOpen()?null:X.createElement(fF,_t({showMonthYearDropdown:void 0,ref:function(l){r.calendar=l}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(a=r.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:YB(r.modifyHolidays()),outsideClickIgnoreClass:s2,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(o=r.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var a=r.props,o=a.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=a.locale,f=r.props.showTimeInput||r.props.showTimeSelect,h=f?"PPPPp":"PPPP",g;return r.props.selectsRange?g="Selected start date: ".concat(fa(r.props.startDate,{dateFormat:h,locale:u}),". ").concat(r.props.endDate?"End date: "+fa(r.props.endDate,{dateFormat:h,locale:u}):""):r.props.showTimeSelectOnly?g="Selected time: ".concat(fa(r.props.selected,{dateFormat:l,locale:u})):r.props.showYearPicker?g="Selected year: ".concat(fa(r.props.selected,{dateFormat:"yyyy",locale:u})):r.props.showMonthYearPicker?g="Selected month: ".concat(fa(r.props.selected,{dateFormat:"MMMM yyyy",locale:u})):r.props.showQuarterYearPicker?g="Selected quarter: ".concat(fa(r.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):g="Selected date: ".concat(fa(r.props.selected,{dateFormat:h,locale:u})),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},g)},r.renderDateInput=function(){var a,o,l,u=Zn(r.props.className,(a={},a[s2]=r.state.open,a)),f=r.props.customInput||X.createElement("input",{type:"text"}),h=r.props.customInputRef||"ref",g=r.props,v=g.dateFormat,x=v===void 0?e.defaultProps.dateFormat:v,w=g.locale,T=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?CB(r.props.startDate,r.props.endDate,{dateFormat:x,locale:w}):r.props.selectsMultiple?RB((l=r.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:x,locale:w}):fa(r.props.selected,{dateFormat:x,locale:w});return k.cloneElement(f,(o={},o[h]=function(A){r.input=A},o.value=T,o.onBlur=r.handleBlur,o.onChange=r.handleChange,o.onClick=r.onInputClick,o.onFocus=r.handleFocus,o.onKeyDown=r.onInputKeyDown,o.id=r.props.id,o.name=r.props.name,o.form=r.props.form,o.autoFocus=r.props.autoFocus,o.placeholder=r.props.placeholderText,o.disabled=r.props.disabled,o.autoComplete=r.props.autoComplete,o.className=Zn(f.props.className,u),o.title=r.props.title,o.readOnly=r.props.readOnly,o.required=r.props.required,o.tabIndex=r.props.tabIndex,o["aria-describedby"]=r.props.ariaDescribedBy,o["aria-invalid"]=r.props.ariaInvalid,o["aria-labelledby"]=r.props.ariaLabelledBy,o["aria-required"]=r.props.ariaRequired,o))},r.renderClearButton=function(){var a=r.props,o=a.isClearable,l=a.disabled,u=a.selected,f=a.startDate,h=a.endDate,g=a.clearButtonTitle,v=a.clearButtonClassName,x=v===void 0?"":v,w=a.ariaLabelClose,T=w===void 0?"Close":w,A=a.selectedDates;return o&&(u!=null||f!=null||h!=null||A!=null&&A.length)?X.createElement("button",{type:"button",className:Zn("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":T,onClick:r.onClearClick,title:g,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Hd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var a,o,l,u;t.inline&&bF(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:JS(this.props.highlightDates)}),!r.focused&&!zo(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),r.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,a=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,f=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),X.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&X.createElement(hF,_t({icon:a,className:Zn(l,!l&&o,f&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?X.createElement(WR,{enableTabLoop:this.props.enableTabLoop},X.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=X.createElement(KR,_t({portalId:this.props.portalId},this.props),r)),X.createElement("div",null,this.renderInputContainer(),r)}return X.createElement(vF,_t({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(k.Component),_F="input",t0="navigate";function av(n){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},av(n)}function wF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TF(n,e,t){return e&&EF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function SF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iv(n,e)}function iv(n,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},iv(n,e)}function DF(n){var e=RF();return function(){var r=Nm(n),a;if(e){var o=Nm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return AF(this,a)}}function AF(n,e){if(e&&(av(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CF(n)}function CF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function RF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nm(n){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nm(n)}function NF(n,e){if(!document.head.querySelector("#"+n)){var t=document.createElement("style");t.textContent=e,t.type="text/css",t.id=n,document.head.appendChild(t)}}var MF=function(n){SF(t,n);var e=DF(t);function t(){return wF(this,t),e.apply(this,arguments)}return TF(t,[{key:"componentDidMount",value:function(){NF(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),t}(k.Component),kF=function(e){var t=e.imageBackgroundColor;return`
  body {
    overflow: hidden;
  }

  .__react_modal_image__modal_container {
    position: fixed;
    z-index: 5000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    touch-action: none;
    overflow: hidden;
  }

  .__react_modal_image__modal_content {
    position: relative;
    height: 100%;
    width: 100%;
  }

  .__react_modal_image__modal_content img, 
  .__react_modal_image__modal_content svg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    -webkit-transform: translate3d(-50%, -50%, 0);
    -ms-transform: translate3d(-50%, -50%, 0);
    overflow: hidden;
  }

  .__react_modal_image__medium_img {
    max-width: 98%;
    max-height: 98%;
    background-color: `.concat(t,`;
  }

  .__react_modal_image__large_img {
    cursor: move;
    background-color: `).concat(t,`
  }

  .__react_modal_image__icon_menu a {
    display: inline-block;
    font-size: 40px;
    cursor: pointer;
    line-height: 40px;
    box-sizing: border-box;
    border: none;
    padding: 0px 5px 0px 5px;
    margin-left: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0);
  }

  .__react_modal_image__icon_menu {
    display: inline-block;
    float: right;
  }

  .__react_modal_image__caption {
    display: inline-block;
    color: white;
    font-size: 120%;
    padding: 10px;
    margin: 0;
  }

  .__react_modal_image__header {
    position: absolute;
    top: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    overflow: hidden;
  }
`)},PF=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),X.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},OF=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),X.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},IF=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},jF=function(){return X.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),X.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},VF=function(){return X.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),X.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},LF=function(){return X.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},X.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),X.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))};function UF(n){return document.location.hostname!==new URL(n,document.location).hostname}var BF=function(e){return function(t){UF(e)&&(t.preventDefault(),fetch(e).then(function(r){return r.ok||console.error("Failed to download image, HTTP status "+r.status+" from "+e),r.blob().then(function(a){var o=document.createElement("a");o.setAttribute("download",e.split("/").pop()),o.href=URL.createObjectURL(a),o.click()})}).catch(function(r){console.error(r),console.error("Failed to download image from "+e)}))}},FF=function(e){var t=e.image,r=e.alt,a=e.zoomed,o=e.toggleZoom,l=e.toggleRotate,u=e.onClose,f=e.enableDownload,h=e.enableZoom,g=e.enableRotate;return X.createElement("div",{className:"__react_modal_image__header"},X.createElement("span",{className:"__react_modal_image__icon_menu"},f&&X.createElement("a",{href:t,download:!0,onClick:BF(t)},X.createElement(IF,null)),h&&X.createElement("a",{onClick:o},a?X.createElement(OF,null):X.createElement(PF,null)),g&&X.createElement("a",{onClick:l},X.createElement(LF,null)),X.createElement("a",{onClick:u},X.createElement(jF,null))),r&&X.createElement("span",{className:"__react_modal_image__caption"},r))};function sv(n){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(n)}function zF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function YF(n,e,t){return e&&HF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function qF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ov(n,e)}function ov(n,e){return ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ov(n,e)}function $F(n){var e=QF();return function(){var r=Mm(n),a;if(e){var o=Mm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return GF(this,a)}}function GF(n,e){if(e&&(sv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zh(n)}function zh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mm(n){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mm(n)}function n0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var o2=function(n){qF(t,n);var e=$F(t);function t(){var r;zF(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),n0(zh(r),"state",{loading:!0}),n0(zh(r),"handleOnLoad",function(){r.setState({loading:!1})}),n0(zh(r),"handleOnContextMenu",function(u){!r.props.contextMenu&&u.preventDefault()}),r}return YF(t,[{key:"render",value:function(){var a=this.props,o=a.id,l=a.className,u=a.src,f=a.style,h=a.handleDoubleClick;return X.createElement("div",null,this.state.loading&&X.createElement(VF,null),X.createElement("img",{id:o,className:l,src:u,style:f,onLoad:this.handleOnLoad,onDoubleClick:h,onContextMenu:this.handleOnContextMenu}))}}]),t}(k.Component);function lv(n){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(n)}function KF(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function WF(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function XF(n,e,t){return e&&WF(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ZF(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cv(n,e)}function cv(n,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cv(n,e)}function JF(n){var e=tz();return function(){var r=km(n),a;if(e){var o=km(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return ez(this,a)}}function ez(n,e){if(e&&(lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(n)}function Li(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function km(n){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},km(n)}function As(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var nz=function(n){ZF(t,n);var e=JF(t);function t(){var r;KF(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),As(Li(r),"state",{move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0}),As(Li(r),"handleKeyDown",function(u){(u.keyCode===27||u.keyCode===13)&&r.props.onClose()}),As(Li(r),"getCoordinatesIfOverImg",function(u){var f=u.changedTouches?u.changedTouches[0]:u;if(f.target.id==="react-modal-image-img"){var h=r.contentEl.getBoundingClientRect(),g=f.clientX-h.left,v=f.clientY-h.top;return{x:g,y:v}}}),As(Li(r),"handleMouseDownOrTouchStart",function(u){if(u.preventDefault(),!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f||r.props.onClose(),r.state.zoomed&&r.setState(function(h){return{moveStart:{x:f.x-h.move.x,y:f.y-h.move.y}}})}}),As(Li(r),"handleMouseMoveOrTouchMove",function(u){if(u.preventDefault(),!(!r.state.zoomed||!r.state.moveStart)&&!(u.touches&&u.touches.length>1)){var f=r.getCoordinatesIfOverImg(u);f&&r.setState(function(h){return{move:{x:f.x-h.moveStart.x,y:f.y-h.moveStart.y}}})}}),As(Li(r),"handleMouseUpOrTouchEnd",function(u){r.setState({moveStart:void 0})}),As(Li(r),"toggleZoom",function(u){u.preventDefault(),r.setState(function(f){return{zoomed:!f.zoomed,move:f.zoomed?{x:0,y:0}:f.move}})}),As(Li(r),"toggleRotate",function(u){u.preventDefault();var f=r.state.rotationDeg;if(f===360){r.setState({rotationDeg:90});return}r.setState(function(h){return{rotationDeg:h.rotationDeg+=90}})}),r}return XF(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,o=this.props,l=o.medium,u=o.large,f=o.alt,h=o.onClose,g=o.hideDownload,v=o.hideZoom,x=o.showRotate,w=o.imageBackgroundColor,T=w===void 0?"black":w,A=this.state,D=A.move,O=A.zoomed,U=A.rotationDeg;return X.createElement("div",null,X.createElement(MF,{name:"__react_modal_image__lightbox",css:kF({imageBackgroundColor:T})}),X.createElement("div",{className:"__react_modal_image__modal_container"},X.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(Y){a.contentEl=Y}},O&&X.createElement(o2,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:u||l,style:{transform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) rotate(").concat(U,"deg)")},handleDoubleClick:this.toggleZoom}),!O&&X.createElement(o2,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:l||u,handleDoubleClick:this.toggleZoom,contextMenu:!l,style:{transform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),WebkitTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)"),MsTransform:"translate3d(-50%, -50%, 0) rotate(".concat(U,"deg)")}})),X.createElement(FF,{image:u||l,alt:f,zoomed:O,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:h,enableDownload:!g,enableZoom:!v,enableRotate:!!x})))}}]),t}(k.Component);function uv(n){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(n)}function rz(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function az(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function iz(n,e,t){return e&&az(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function sz(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&dv(n,e)}function dv(n,e){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},dv(n,e)}function oz(n){var e=cz();return function(){var r=Pm(n),a;if(e){var o=Pm(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return lz(this,a)}}function lz(n,e){if(e&&(uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fv(n)}function fv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pm(n){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pm(n)}function l2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var uz=function(n){sz(t,n);var e=oz(t);function t(){var r;rz(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),l2(fv(r),"state",{modalOpen:!1}),l2(fv(r),"toggleModal",function(){r.setState(function(u){return{modalOpen:!u.modalOpen}})}),r}return iz(t,[{key:"render",value:function(){var a=this.props,o=a.className,l=a.small,u=a.smallSrcSet,f=a.medium,h=a.large,g=a.alt,v=a.hideDownload,x=a.hideZoom,w=a.showRotate,T=a.imageBackgroundColor,A=this.state.modalOpen;return X.createElement("div",null,X.createElement("img",{className:o,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:l,srcSet:u,alt:g}),A&&X.createElement(nz,{medium:f,large:h,alt:g,onClose:this.toggleModal,hideDownload:v,hideZoom:x,showRotate:w,imageBackgroundColor:T}))}}]),t}(k.Component);const dz=()=>{const{providerId:n}=Im(),e=ka(),t=tr(),[r,a]=k.useState(null),[o,l]=k.useState([]),[u,f]=k.useState([]),[h,g]=k.useState(null),[v,x]=k.useState(!0),[w,T]=k.useState(null),[A,D]=k.useState(""),[O,U]=k.useState(0),[B,Y]=k.useState(0),[M,$]=k.useState(""),[j,C]=k.useState(!1),[R,N]=k.useState([]),[L,H]=k.useState(""),[F,Se]=k.useState(""),[xe,K]=k.useState(""),[ne,oe]=k.useState("works"),[be,P]=k.useState(!1),[ee,de]=k.useState(null),[pe,_e]=k.useState(!1),[ue,ie]=k.useState(!1),[Ne,Ce]=k.useState(!1);k.useEffect(()=>{(async()=>{try{x(!0);let et;if(e.state&&e.state.provider&&e.state.bool)et=e.state.provider,console.log(e.state.bool),Ce(e.state.bool);else{const Pn=await bc(Rn(tt,"serviceProviders",n));if(Pn.exists())et={id:Pn.id,...Pn.data()};else throw new Error("مقدم الخدمة غير موجود")}a(et);const Rt=wr(Kt(tt,"providerWorks"),dr("providerEmail","==",et.email)),jt=K0(Rt,Pn=>{const rn=Pn.docs.map(Tn=>({id:Tn.id,...Tn.data()}));l(rn)}),nr=wr(Kt(tt,"reviews"),dr("providerEmail","==",et.email)),rr=K0(nr,Pn=>{const rn=Pn.docs.map(Tn=>({id:Tn.id,...Tn.data()}));f(rn)}),Pr=localStorage.getItem("currentUser");if(Pr&&Pr!=='""'){const Pn=JSON.parse(Pr);g(Pn)}return x(!1),()=>{jt(),rr()}}catch(et){console.error("Error fetching provider data:",et),K("حدث خطأ أثناء تحميل البيانات"),x(!1)}})()},[n,e]);const Ee=()=>!u||u.length===0?0:(u.reduce((et,Rt)=>et+Rt.rating,0)/u.length).toFixed(1),ze=async(Te,et)=>{try{const Rt=wr(Kt(tt,"bookings"),dr("providerEmail","==",r.email),dr("bookingDate","==",Te),dr("bookingTime","==",et),dr("status","in",["pending","confirmed"]));return(await fr(Rt)).empty}catch(Rt){return console.error("Error checking appointment availability:",Rt),!1}},ut=async()=>{if(!h){K("يرجى تسجيل الدخول أولاً للحجز");return}if(!w||!L){K("يرجى اختيار التاريخ والوقت للحجز");return}try{const Te=w.toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),et=w.toISOString().split("T")[0];P(!0);const Rt=await ze(et,L);if(P(!1),!Rt){de({success:!1,message:"هذا الموعد محجوز بالفعل، يرجى اختيار وقت آخر"}),_e(!0);return}const jt={providerEmail:r.email,providerName:r.name,clientEmail:h.email,clientName:h.name,bookingDate:et,bookingTime:L,note:M,status:"pending",createdAt:Wo()},nr=await Sd(Kt(tt,"bookings"),jt);await Yo(Rn(tt,"serviceProviders",n),{bookings:qy(nr.id)}),await Yo(Rn(tt,"users",h.uid),{bookings:qy(nr.id)}),de({success:!0,message:`تم الحجز بنجاح مع ${r.name} في ${Te} الساعة ${L}`}),_e(!0),C(!1),$(""),T(null),H("")}catch(Te){console.error("Error booking appointment:",Te),de({success:!1,message:"حدث خطأ أثناء إجراء الحجز، يرجى المحاولة مرة أخرى"}),_e(!0),P(!1)}},nt=async()=>{if(!h){K("يرجى تسجيل الدخول أولاً لإضافة تقييم");return}if(O===0){K("يرجى تحديد التقييم النجمي");return}try{ie(!0);const Te={providerEmail:r.email,providerName:r.name,providerCategory:r.category,clientEmail:h.email,clientName:h.name,rating:O,review:A,createdAt:Wo()},et=await Sd(Kt(tt,"reviews"),Te);await Yo(Rn(tt,"serviceProviders",n),{reviews:qy(et.id),ratingsCount:(r.ratingsCount||0)+1,ratingsTotal:(r.ratingsTotal||0)+O},{merge:!0}),f([...u,{id:et.id,...Te}]),U(0),D(""),Se("تم إضافة تقييمك بنجاح!"),setTimeout(()=>{Se("")},3e3)}catch(Te){console.error("Error submitting review:",Te),K("حدث خطأ أثناء إرسال التقييم"),setTimeout(()=>{K("")},3e3)}finally{ie(!1)}},Xe=()=>{if(!h){K("يرجى تسجيل الدخول أولاً للحجز");return}N(["9:00 صباحاً","10:00 صباحاً","11:00 صباحاً","12:00 ظهراً","1:00 مساءً","2:00 مساءً","3:00 مساءً","4:00 مساءً","5:00 مساءً","6:00 مساءً","7:00 مساءً"]),C(!0)},Ut=()=>{if(!h||!r)return;const Te=h.uid||h.id,et=r.id||r.uid;t(`/nafany/chat/${et}`,{state:{provider:{id:et,email:r.email,name:r.name,profileImage:r.profileImage||"/default-profile.png"},user:{id:Te,email:h.email,name:h.name,profileImage:h.profileImage||"/default-profile.png"}}})},Xt=(Te,et=null,Rt=null)=>[1,2,3,4,5].map(jt=>y.jsx("span",{onClick:et?()=>et(jt):void 0,onMouseEnter:Rt?()=>Rt(jt):void 0,onMouseLeave:Rt?()=>Rt(0):void 0,className:"cursor-pointer text-xl",style:{color:jt<=Te?"#FFD700":"#C0C0C0"},children:jt<=Te?y.jsx(W0,{}):y.jsx(fR,{})},jt));return v?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل البيانات..."})}):r?y.jsxs(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(-1),className:"flex items-center ml-10 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsxs("div",{className:"container mx-auto px-4",children:[F&&y.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:F}),xe&&y.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:xe}),y.jsx(ve.div,{className:"bg-white rounded-xl shadow-lg p-6 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start",children:[y.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden mb-4 md:mb-0 md:mr-6",children:y.jsx("img",{src:r.profileImage||"../../public/IMG-20250322-WA0070.jpg",alt:r.name,className:"w-full h-full object-cover",onError:Te=>{Te.target.onerror=null,Te.target.src="../../public/IMG-20250322-WA0070.jpg"}})}),y.jsxs("div",{className:"flex-1 text-center md:text-right",children:[y.jsx("h1",{className:"text-3xl font-bold text-cyan-800 mb-2",children:r.name}),y.jsxs("div",{className:"flex items-center justify-center md:justify-end mb-2",children:[y.jsx("div",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm mr-2",children:r.profession||r.category}),y.jsx("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:r.governorate||"غير محدد المنطقة"})]}),y.jsx("div",{className:"flex items-center justify-center md:justify-end mb-4",children:y.jsxs("div",{className:"flex items-center",children:[Xt(Math.round(Ee())),y.jsx("span",{className:"mx-2 text-yellow-500 font-bold",children:Ee()}),y.jsxs("span",{className:"text-gray-500",children:["(",u.length," تقييم)"]})]})}),y.jsx("p",{className:"text-gray-600 mb-4 max-w-2xl",children:r.bio||"لا يوجد وصف لمقدم الخدمة"}),y.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start space-x-4 mt-4",children:[Ne&&y.jsxs("button",{onClick:Xe,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx(z9,{className:"mr-2"}),"احجز موعد"]}),y.jsxs("button",{onClick:Ut,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center",children:[y.jsx(Y9,{className:"mr-2"}),"محادثة"]})]})]})]})}),y.jsxs("div",{className:"mb-6 flex border-b border-gray-200",children:[y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="works"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>oe("works"),children:"الأعمال السابقة"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="reviews"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>oe("reviews"),children:"التقييمات"}),y.jsx("button",{className:`px-6 py-3 font-medium ${ne==="about"?"text-cyan-600 border-b-2 border-cyan-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>oe("about"),children:"عن مقدم الخدمة"})]}),ne==="works"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"الأعمال السابقة"}),o.length>0?y.jsx("div",{className:"space-y-8",children:o.map((Te,et)=>y.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:et*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("h3",{className:"text-xl font-bold text-cyan-800 mb-4",children:Te.title}),Te.images&&Te.images.length>0&&y.jsx("div",{className:"mb-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Te.images.map((Rt,jt)=>y.jsx(uz,{small:Rt,large:Rt,alt:`${Te.title} - صورة ${jt+1}`,className:"rounded-lg object-cover h-48 w-full cursor-pointer",imageBackgroundColor:"#fff"},jt))})}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"وصف العمل:"}),y.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:Te.description})]}),y.jsxs("div",{className:"flex flex-wrap justify-between items-center pt-4 border-t border-gray-200",children:[y.jsxs("div",{className:"flex items-center mb-2 md:mb-0",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"تاريخ الإنجاز:"}),y.jsx("span",{className:"text-sm font-medium",children:Te.createdAt&&Te.createdAt.toDate?Te.createdAt.toDate().toLocaleDateString():"غير محدد"})]}),Te.ratings&&Te.ratings.length>0&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"text-sm text-gray-500 mr-2",children:"التقييم:"}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(W0,{className:"text-yellow-500 mr-1"}),y.jsx("span",{className:"font-medium",children:(Te.ratings.reduce((Rt,jt)=>Rt+jt,0)/Te.ratings.length).toFixed(1)})]})]})]})]})},Te.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد أعمال سابقة لعرضها"})]}),ne==="reviews"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"أضف تقييمك"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تقييمك:"}),y.jsx("div",{className:"flex space-x-2 mb-4",children:Xt(B||O,Te=>U(Te),Te=>Y(Te))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"تعليقك:"}),y.jsx("textarea",{value:A,onChange:Te=>D(Te.target.value),placeholder:"أخبرنا عن تجربتك مع مقدم الخدمة...",className:"w-full border border-gray-300 rounded-lg p-3 h-32"})]}),y.jsx("button",{onClick:nt,disabled:!h||O===0||ue,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:ue?"جاري الإرسال...":"إرسال التقييم"}),!h&&y.jsx("p",{className:"text-red-500 mt-2",children:"يرجى تسجيل الدخول لإضافة تقييم"})]}),y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["التقييمات (",u.length,")"]}),u.length>0?y.jsx("div",{className:"space-y-4",children:u.map((Te,et)=>y.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:et*.1},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsx("h3",{className:"font-bold text-cyan-800",children:Te.clientName}),y.jsx("div",{className:"flex",children:Xt(Te.rating)})]}),y.jsx("p",{className:"text-gray-600 mb-2",children:Te.review}),y.jsx("div",{className:"text-sm text-gray-500",children:Te.createdAt&&Te.createdAt.toDate?Te.createdAt.toDate().toLocaleDateString():"تاريخ غير محدد"})]},Te.id))}):y.jsx("div",{className:"text-center text-gray-500 py-8 bg-white rounded-xl shadow-lg",children:"لا توجد تقييمات لمقدم الخدمة"})]}),ne==="about"&&y.jsxs(ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white rounded-xl shadow-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:"معلومات مقدم الخدمة"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المهنة:"}),y.jsx("p",{children:r.profession||r.category||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"المنطقة:"}),y.jsx("p",{children:r.governorate||"غير محدد"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"عدد الأعمال المنجزة:"}),y.jsx("p",{children:r.worksCount||o.length||0})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"نبذة:"}),y.jsx("p",{children:r.bio||"لا توجد نبذة تعريفية"})]}),r.services&&r.services.length>0&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخدمات المقدمة:"}),y.jsx("ul",{className:"list-disc list-inside",children:r.services.map((Te,et)=>y.jsx("li",{children:Te},et))})]}),r.experience&&y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-cyan-700 mb-1",children:"الخبرة:"}),y.jsx("p",{children:r.experience})]})]})]})]}),j&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:[y.jsxs("h2",{className:"text-2xl font-bold text-cyan-800 mb-4",children:["حجز موعد مع ",r.name]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر التاريخ:"}),y.jsx(xF,{selected:w,onChange:Te=>T(Te),className:"w-full border border-gray-300 rounded-lg p-3",dateFormat:"dd/MM/yyyy",minDate:new Date,placeholderText:"اختر تاريخ الحجز"})]}),w&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"اختر الوقت:"}),y.jsxs("select",{value:L,onChange:Te=>H(Te.target.value),className:"w-full border border-gray-300 rounded-lg p-3",children:[y.jsx("option",{value:"",children:"-- اختر الوقت --"}),R.map((Te,et)=>y.jsx("option",{value:Te,children:Te},et))]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 mb-2",children:"ملاحظات (اختياري):"}),y.jsx("textarea",{value:M,onChange:Te=>$(Te.target.value),placeholder:"أضف أي ملاحظات أو تفاصيل إضافية حول الحجز...",className:"w-full border border-gray-300 rounded-lg p-3 h-24"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("button",{onClick:()=>C(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg",children:"إلغاء"}),y.jsx("button",{onClick:ut,disabled:!w||!L||be,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-2 rounded-lg disabled:bg-gray-400",children:be?"جاري التحقق...":"تأكيد الحجز"})]})]})}),pe&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsx(ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full",children:y.jsxs("div",{className:"text-center",children:[ee.success?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(H9,{className:"text-green-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"تم الحجز بنجاح!"})]}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx(G9,{className:"text-red-500 text-5xl"})}),y.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"لم يتم الحجز"})]}),y.jsx("p",{className:"mb-6 text-gray-700",children:ee.message}),y.jsx("button",{onClick:()=>_e(!1),className:`px-6 py-2 rounded-lg ${ee.success?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"حسناً"})]})})})]}):y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"لم يتم العثور على مقدم الخدمة، يرجى التحقق من الرابط والمحاولة مرة أخرى."})})};function fz(n){return kn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(n)}const hz=()=>{const{providerId:n}=Im(),e=ka(),t=tr(),[r,a]=k.useState([]),[o,l]=k.useState(""),[u,f]=k.useState(!0),[h,g]=k.useState(null),[v,x]=k.useState(null),w=k.useRef(null),[T,A]=k.useState(!1),[D,O]=k.useState(""),U=($,j)=>[$,j].sort().join("_"),B=()=>{try{const $=localStorage.getItem("currentUser");if(!$)return null;const j=JSON.parse($);if(!j)return null;if(j.uid&&!j.id)j.id=j.uid;else if(j.id&&!j.uid)j.uid=j.id;else if(!j.uid&&!j.id)return null;return j}catch($){return console.error("Error parsing user data:",$),null}};k.useEffect(()=>{(async()=>{var j;try{f(!0);const C=B();if(!C){t("/nafany/login");return}g(C);let R,N;if((j=e.state)!=null&&j.provider)R=e.state.provider,e.state.user?N=e.state.user:N={id:C.uid||C.id,name:C.name,email:C.email};else{R={id:C.uid||C.id,name:C.name,email:C.email};try{const Se=await bc(Rn(tt,"users",n));if(Se.exists())N={id:Se.id,...Se.data()};else{const xe=await bc(Rn(tt,"serviceProviders",n));if(!xe.exists())throw new Error("User not found");N={id:xe.id,...xe.data()}}}catch(Se){throw console.error("Error fetching client data:",Se),Se}}R.id=R.id||R.uid,N.id=N.id||N.uid,x(R);const L=U(R.id,N.id);console.log("Chat participants:",{provider:R,client:N}),console.log("Generated chatId:",L),O(L);const H=wr(Kt(tt,"chats",L,"messages"),fm("timestamp","asc")),F=K0(H,Se=>{const xe=Se.docs.map(K=>{var ne;return{id:K.id,...K.data(),timestamp:((ne=K.data().timestamp)==null?void 0:ne.toDate())||new Date}});console.log("Real-time messages update:",xe),a(xe)});return f(!1),F}catch(C){console.error("Chat init error:",C),f(!1)}})()},[n,e.state,t]);const Y=()=>{var $;($=w.current)==null||$.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{Y()},[r]);const M=async $=>{if($.preventDefault(),!(!o.trim()||!h||!v||!D))try{console.log("Sending message with chatId:",D),console.log("From:",h.id||h.uid,"To:",v.id||v.uid);const j=await Sd(Kt(tt,"chats",D,"messages"),{text:o,senderId:h.id||h.uid,senderName:h.name,receiverId:v.id||v.uid,timestamp:Wo(),isRead:!1});await $b(Rn(tt,"chats",D),{lastMessage:o,lastMessageTime:Wo(),providerData:{id:v.id||v.uid,name:v.name,email:v.email},userData:{id:h.id||h.uid,name:h.name,email:h.email},participants:[h.id||h.uid,v.id||v.uid],participantsNames:[h.name,v.name]},{merge:!0}),l(""),console.log("Message sent successfully:",j.id)}catch(j){console.error("Message send error:",j)}};return k.useEffect(()=>{if(r.length>0&&r[r.length-1].senderId===(h==null?void 0:h.uid)){const $=setTimeout(()=>{A(!0);const j=setTimeout(()=>{A(!1)},3e3);return()=>clearTimeout(j)},2e3);return()=>clearTimeout($)}},[r,h]),u?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-cyan-800 text-xl font-semibold",children:"جاري تحميل المحادثة..."})}):!v||!h?y.jsx("div",{className:"min-h-screen flex justify-center items-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-center text-red-600 text-xl font-semibold",children:"حدث خطأ في تحميل بيانات المحادثة"})}):y.jsxs(ve.div,{className:"flex flex-col min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center",children:[y.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full hover:bg-gray-100",children:y.jsx(B9,{className:"text-gray-600 text-xl"})}),y.jsxs("div",{className:"flex items-center mx-4",children:[v.profileImage?y.jsx("img",{src:v.profileImage,alt:v.name,className:"w-10 h-10 rounded-full object-cover"}):y.jsx(Gb,{className:"text-gray-400 text-3xl"}),y.jsxs("div",{className:"mr-3",children:[y.jsx("h2",{className:"font-semibold text-gray-800",children:v.name}),y.jsx("p",{className:"text-xs text-gray-500",children:v.profession||v.category})]})]})]}),y.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:y.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?y.jsxs("div",{className:"text-center text-gray-500 py-8",children:["لا توجد رسائل بعد. ابدأ المحادثة مع ",v.name]}):r.map($=>{var j,C;return y.jsx(ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${$.senderId===h.uid?"justify-end":"justify-start"}`,children:y.jsxs("div",{className:`max-w-xs md:max-w-md rounded-lg p-3 ${$.senderId===h.uid?"bg-cyan-600 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none shadow"}`,children:[y.jsx("p",{className:"text-sm",children:$.text}),y.jsx("p",{className:`text-xs mt-1 ${$.senderId===h.uid?"text-cyan-100":"text-gray-500"}`,children:((C=(j=$.timestamp)==null?void 0:j.toDate)==null?void 0:C.call(j).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))||"الآن"})]})},$.id)}),T&&y.jsx("div",{className:"flex justify-start",children:y.jsx("div",{className:"bg-white text-gray-800 rounded-lg rounded-bl-none shadow p-3",children:y.jsxs("div",{className:"flex space-x-1",children:[y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),y.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),y.jsx("div",{ref:w})]})}),y.jsx("div",{className:"bg-white p-4 border-t border-gray-200",children:y.jsxs("form",{onSubmit:M,className:"flex items-center max-w-3xl mx-auto",children:[y.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-1 border border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),y.jsx("button",{type:"submit",disabled:!o.trim(),className:"ml-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full p-2 disabled:bg-gray-400",children:y.jsx(fz,{className:"text-xl"})})]})})]})},mz=()=>{var Se,xe;const n=tr(),t=((Se=ka().state)==null?void 0:Se.fromProvider)||!1,[r,a]=k.useState({name:"",email:"",password:"",governorate:"",phoneNumber:"",role:""}),[o,l]=k.useState({nationalId:"",category:"",profession:"",subscriptionFee:"",idFrontImage:"",idBackImage:"",profileImage:"",bio:"",allowContact:!1,address:"",workingAreas:[]}),[u,f]=k.useState(!0),[h,g]=k.useState(!1),[v,x]=k.useState({}),[w,T]=k.useState(!1),[A,D]=k.useState(""),[O,U]=k.useState(""),[B,Y]=k.useState(""),M=["وسط البلد","الزمالك"],$={"خدمات فنية":["سباك","نجار","كهربائي","ميكانيكي","حداد"],"خدمات صحية":["طبيب","ممرض","صيدلي","فني مختبر"],"خدمات عامة":["توصيل طلبات","نقل","تنظيف"]},j=["100 جنيه","200 جنيه","300 جنيه"];k.useEffect(()=>{(async()=>{try{const ne=localStorage.getItem("currentUser");if(!ne){n("/nafany/login");return}const oe=JSON.parse(ne);let be;const P=oe.role==="provider"?"serviceProviders":"users";P==="serviceProviders"?be=oe.email:be=oe.email.split("@")[0];const ee=Rn(tt,P,be),de=await bc(ee);if(de.exists()){const pe=de.data();a({name:pe.name||"",email:pe.email||"",password:"",governorate:pe.governorate||"",phone:pe.phone||pe.phoneNumber||"",role:oe.role}),oe.role==="provider"&&(l({nationalId:pe.nationalId||"",category:pe.category||"",profession:pe.profession||"",subscriptionFee:pe.subscriptionFee||"",idFrontImage:pe.idFrontImage||"",idBackImage:pe.idBackImage||"",profileImage:pe.profileImage||"",bio:pe.bio||"",allowContact:pe.allowContact||!1,address:pe.address||"",workingAreas:pe.workingAreas||[]}),pe.idFrontImage&&D(pe.idFrontImage),pe.idBackImage&&U(pe.idBackImage),pe.profileImage&&Y(pe.profileImage))}else alert("لم يتم العثور على بيانات المستخدم"),n("/nafany")}catch(ne){console.error("Error fetching user data:",ne),alert("حدث خطأ أثناء تحميل البيانات")}finally{f(!1)}})()},[n]);const C=()=>{let K={};return r.name.trim()||(K.name="الاسم مطلوب"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(K.email="البريد الإلكتروني غير صالح"):K.email="البريد الإلكتروني مطلوب",r.password&&r.password.length<6&&(K.password="يجب أن تكون كلمة المرور 6 أحرف على الأقل"),r.governorate||(K.governorate="يجب اختيار المحافظة"),r.phone||(K.phone="رقم الهاتف مطلوب"),r.role==="provider"&&(o.nationalId||(K.nationalId="الرقم القومي مطلوب"),o.profession||(K.profession="المهنة مطلوبة"),o.address||(K.address="العنوان مطلوب")),x(K),Object.keys(K).length===0},R=K=>{const{name:ne,value:oe,type:be,checked:P}=K.target;a(ee=>({...ee,[ne]:be==="checkbox"?P:oe})),x({...v,[ne]:""})},N=K=>{const{name:ne,value:oe,type:be,checked:P}=K.target;l(ee=>({...ee,[ne]:be==="checkbox"?P:oe})),x({...v,[ne]:""})},L=K=>{const ne=K.target.value;l(oe=>{var be;return{...oe,category:ne,profession:((be=$[ne])==null?void 0:be[0])||""}})},H=(K,ne)=>{const oe=K.target.files[0];if(!oe)return;const be=new FileReader;be.onload=()=>{const P=be.result;l(ee=>({...ee,[ne]:P})),ne==="idFrontImage"?D(P):ne==="idBackImage"?U(P):ne==="profileImage"&&Y(P)},be.readAsDataURL(oe)},F=async K=>{if(K.preventDefault(),!!C())try{f(!0);let ne;r.role==="provider"?ne=r.email:ne=r.email.split("@")[0];const oe=r.role==="provider"?"serviceProviders":"users",be=Rn(tt,oe,ne);console.log("Document Reference:",be.path);const P={...r,...r.role==="provider"?o:{}};P.password||delete P.password,await Yo(be,P),console.log("Collection Name:",1);const ee={...r,...r.role==="provider"?o:{}};localStorage.setItem("currentUser",JSON.stringify(ee)),T(!0),g(!1)}catch(ne){console.error("Error updating user data:",ne),alert("حدث خطأ أثناء تحديث البيانات")}finally{f(!1)}};return u?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-cyan-100 to-blue-200",children:y.jsx("div",{className:"text-2xl text-cyan-800",children:"جاري التحميل..."})}):y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n(t?"/nafany/servicer_page":"/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-3xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800",children:r.role==="provider"?"إعدادات مقدم الخدمة":"إعدادات الحساب"}),!h&&y.jsx(ve.button,{onClick:()=>g(!0),className:"bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-cyan-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تعديل البيانات"})]}),w&&y.jsx(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:"تم تحديث البيانات بنجاح"}),y.jsxs("form",{onSubmit:F,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الاسم"}),y.jsx("input",{type:"text",name:"name",placeholder:"أدخل الاسم",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.name,onChange:R,disabled:!h}),v.name&&y.jsx("p",{className:"text-red-500 text-sm",children:v.name})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"البريد الإلكتروني"}),y.jsx("input",{type:"email",name:"email",placeholder:"أدخل البريد الإلكتروني",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.email,onChange:R,disabled:!0}),v.email&&y.jsx("p",{className:"text-red-500 text-sm",children:v.email})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"كلمة المرور (اتركها فارغة إذا لم ترغب في تغييرها)"}),y.jsx("input",{type:"password",name:"password",placeholder:"أدخل كلمة المرور الجديدة",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.password,onChange:R,disabled:!h}),v.password&&y.jsx("p",{className:"text-red-500 text-sm",children:v.password})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رقم الهاتف"}),y.jsx("input",{type:"tel",name:"phone",placeholder:"أدخل رقم الهاتف",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.phone,onChange:R,disabled:!h}),v.phone&&y.jsx("p",{className:"text-red-500 text-sm",children:v.phone})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المحافظة"}),y.jsxs("select",{name:"governorate",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:r.governorate,onChange:R,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المحافظة"}),M.map((K,ne)=>y.jsx("option",{value:K,children:K},ne))]}),v.governorate&&y.jsx("p",{className:"text-red-500 text-sm",children:v.governorate})]}),r.role==="provider"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الرقم القومي"}),y.jsx("input",{type:"text",name:"nationalId",placeholder:"أدخل الرقم القومي",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.nationalId,onChange:N,disabled:!h}),v.nationalId&&y.jsx("p",{className:"text-red-500 text-sm",children:v.nationalId})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"التصنيف"}),y.jsxs("select",{name:"category",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.category,onChange:L,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر التصنيف"}),Object.keys($).map((K,ne)=>y.jsx("option",{value:K,children:K},ne))]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"المهنة"}),y.jsxs("select",{name:"profession",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.profession,onChange:N,disabled:!h,children:[y.jsx("option",{value:"",disabled:!0,children:"اختر المهنة"}),o.category&&((xe=$[o.category])==null?void 0:xe.map((K,ne)=>y.jsx("option",{value:K,children:K},ne)))]}),v.profession&&y.jsx("p",{className:"text-red-500 text-sm",children:v.profession})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"رسوم الاشتراك"}),y.jsx("select",{name:"subscriptionFee",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.subscriptionFee,onChange:N,disabled:!h,children:j.map((K,ne)=>y.jsx("option",{value:K,children:K},ne))})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"العنوان"}),y.jsx("input",{type:"text",name:"address",placeholder:"أدخل العنوان بالتفصيل",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500",value:o.address,onChange:N,disabled:!h}),v.address&&y.jsx("p",{className:"text-red-500 text-sm",children:v.address})]}),y.jsx("div",{className:"space-y-1",children:y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",name:"allowContact",checked:o.allowContact,onChange:N,disabled:!h,className:"rounded text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{className:"text-gray-700",children:"السماح بالتواصل المباشر مع العملاء"})]})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"صور البطاقة"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الأمام"}),A?y.jsx("img",{src:A,alt:"Front ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"idFrontImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block",children:"صورة البطاقة من الخلف"}),O?y.jsx("img",{src:O,alt:"Back ID",className:"h-40 w-full object-contain border rounded-lg"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"idBackImage"),className:"w-full",accept:"image/*"})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"الصورة الشخصية"}),B?y.jsx("img",{src:B,alt:"Profile",className:"h-40 w-40 object-cover rounded-full mx-auto border"}):y.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-full h-40 w-40 mx-auto flex items-center justify-center",children:y.jsx("span",{className:"text-gray-500",children:"لا توجد صورة"})}),h&&y.jsx("input",{type:"file",onChange:K=>H(K,"profileImage"),className:"w-full",accept:"image/*"})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-gray-700 font-medium text-sm",children:"نبذة عنك"}),y.jsx("textarea",{name:"bio",placeholder:"أدخل نبذة عنك وخبراتك",className:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-24",value:o.bio,onChange:N,disabled:!h})]})]}),h&&y.jsxs(ve.div,{className:"pt-4 grid grid-cols-2 gap-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[y.jsx(ve.button,{type:"button",onClick:()=>g(!1),className:"py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"إلغاء"}),y.jsx(ve.button,{type:"submit",className:"py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md",whileHover:{scale:1.03},whileTap:{scale:.97},children:"حفظ التغييرات"})]})]})]})]})})},pz=()=>{const n=tr();return y.jsx(ve.div,{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:y.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[y.jsx("div",{className:"bg-cyan-700 py-6 px-8 text-center",children:y.jsx("h1",{className:"text-3xl font-bold text-white",children:"تواصل معنا"})}),y.jsxs("div",{className:"p-8 border-b",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"نبذة عن المشروع"}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"موقعنا هو منصة متكاملة تتيح للمستخدمين العثور على مختلف الخدمات المتوفرة في منطقتهم بسهولة وسرعة. سواء كنت تبحث عن خدمات صيانة منزلية، أو خدمات طبية، أو أي نوع آخر من الخدمات، فإن منصتنا تساعدك في العثور على أفضل مقدمي الخدمات القريبين من موقعك."}),y.jsx("p",{className:"text-gray-600 text-lg mb-6",children:"نهدف إلى ربط المستخدمين بمقدمي الخدمات المؤهلين والموثوقين، مما يوفر الوقت والجهد ويضمن الحصول على خدمة ذات جودة عالية. نحن نعمل باستمرار على توسيع قاعدة بياناتنا وتحسين تجربة المستخدم لجعل عملية البحث عن الخدمات أكثر سهولة ومتعة."})]}),y.jsxs("div",{className:"p-8",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"وسائل التواصل"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"تابعنا على مواقع التواصل الاجتماعي"}),y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs("a",{href:"https://facebook.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(j9,{})," فيسبوك"]}),y.jsxs("a",{href:"https://instagram.com/projectname",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",children:[y.jsx(V9,{})," انستجرام"]}),y.jsxs("a",{href:"https://wa.me/+201234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:[y.jsx(U9,{})," واتساب"]}),y.jsxs("a",{href:"https://linkedin.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx(L9,{})," لينكدين"]}),y.jsxs("a",{href:"https://mail.google.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors",children:[y.jsx($9,{})," البريد الإلكتروني"]})]})]}),y.jsxs(ve.div,{className:"bg-gray-50 p-6 rounded-lg shadow-sm",whileHover:{scale:1.02},children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"معلومات الاتصال"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"البريد الإلكتروني:"})," info@projectname.com"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"رقم الهاتف:"})," +20 123 456 7890"]}),y.jsxs("p",{className:"text-gray-600",children:[y.jsx("span",{className:"font-medium",children:"العنوان:"})," المنطقة الرئيسية، المدينة، البلد"]})]})]})]})]}),y.jsx("div",{className:"p-8 text-center",children:y.jsx(ve.button,{onClick:()=>n("/nafany"),className:"bg-cyan-700 text-white px-6 py-2 rounded-lg hover:bg-cyan-800 inline-flex items-center gap-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:"العودة للصفحة الرئيسية"})})]})})},gz=()=>{const n=tr(),[e,t]=k.useState({type:"complaint",title:"",description:""}),[r,a]=k.useState(!1),[o,l]=k.useState(!1),[u,f]=k.useState(""),[h,g]=k.useState({}),v=()=>{let T=!0,A={};return e.title.trim()||(A.title="عنوان الشكوى/الاقتراح مطلوب",T=!1),e.description.trim()?e.description.trim().length<10&&(A.description="يجب أن تحتوي التفاصيل على 10 أحرف على الأقل",T=!1):(A.description="تفاصيل الشكوى/الاقتراح مطلوبة",T=!1),g(A),T},x=T=>{const{name:A,value:D}=T.target;t(O=>({...O,[A]:D})),h[A]&&g(O=>({...O,[A]:""}))},w=async T=>{if(T.preventDefault(),!!v())try{a(!0),f("");const A=localStorage.getItem("currentUser"),D=A?JSON.parse(A):null;await Sd(Kt(tt,"feedbacks"),{type:e.type,title:e.title,description:e.description,status:"new",timestamp:Wo(),userId:(D==null?void 0:D.email)||"anonymous",userName:(D==null?void 0:D.name)||"زائر",userRole:(D==null?void 0:D.role)||"guest"}),l(!0),t({type:"complaint",title:"",description:""}),setTimeout(()=>{l(!1)},3e3)}catch(A){console.error("خطأ في إرسال الشكوى/الاقتراح:",A),f("حدث خطأ أثناء إرسال الشكوى/الاقتراح. يرجى المحاولة مرة أخرى.")}finally{a(!1)}};return y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{onClick:()=>n("/nafany"),className:"mb-8 flex items-center text-cyan-800 font-medium",whileHover:{scale:1.05},whileTap:{scale:.95},children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للرئيسية"]}),y.jsxs(ve.div,{className:"bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto border border-cyan-100",dir:"rtl",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[y.jsx("h1",{className:"text-2xl font-bold text-cyan-800 mb-8 text-center",children:"الشكاوى والاقتراحات"}),o&&y.jsxs(ve.div,{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:["تم إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"," بنجاح. شكراً لك!"]}),u&&y.jsx(ve.div,{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),y.jsxs("form",{onSubmit:w,className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"block text-gray-700 font-medium",children:"نوع الرسالة"}),y.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"complaint",checked:e.type==="complaint",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"شكوى"})]}),y.jsxs("label",{className:"flex items-center cursor-pointer",children:[y.jsx("input",{type:"radio",name:"type",value:"suggestion",checked:e.type==="suggestion",onChange:x,className:"ml-2 text-cyan-600 focus:ring-cyan-500"}),y.jsx("span",{children:"اقتراح"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["العنوان",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("input",{type:"text",name:"title",placeholder:"أدخل عنوان الشكوى/الاقتراح",className:`w-full border ${h.title?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500`,value:e.title,onChange:x}),h.title&&y.jsx("p",{className:"text-red-500 text-sm",children:h.title})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"block text-gray-700 font-medium",children:["التفاصيل",y.jsx("span",{className:"text-red-500",children:"*"})]}),y.jsx("textarea",{name:"description",placeholder:"أدخل تفاصيل الشكوى/الاقتراح",className:`w-full border ${h.description?"border-red-500":"border-gray-300"} rounded-lg p-3 focus:ring-2 focus:ring-cyan-500 h-40`,value:e.description,onChange:x}),h.description&&y.jsx("p",{className:"text-red-500 text-sm",children:h.description})]}),y.jsx(ve.button,{type:"submit",className:"w-full py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium shadow-md disabled:bg-gray-400 disabled:cursor-not-allowed",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:r,children:r?y.jsx("span",{children:"جاري الإرسال..."}):y.jsxs("span",{children:["إرسال ",e.type==="complaint"?"الشكوى":"الاقتراح"]})})]})]})]})})},yz=()=>{const n=tr(),[e,t]=k.useState("users"),[r,a]=k.useState([]),[o,l]=k.useState([]),[u,f]=k.useState([]),[h,g]=k.useState([]),[v,x]=k.useState(null),[w,T]=k.useState(!1),[A,D]=k.useState({}),[O,U]=k.useState(!0),[B,Y]=k.useState(!1),[M,$]=k.useState(null);k.useEffect(()=>{(async()=>{U(!0);try{const de=(await fr(Kt(tt,"users"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));a(de);const _e=(await fr(Kt(tt,"serviceProviders"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));l(_e);const ie=(await fr(Kt(tt,"feedbacks"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));f(ie);const Ce=(await fr(Kt(tt,"reviews"))).docs.map(Ee=>{var ze;return{id:Ee.id,...Ee.data(),createdAt:(ze=Ee.data().createdAt)==null?void 0:ze.toDate()}});g(Ce)}catch(ee){console.error("خطأ في جلب البيانات:",ee),alert("حدث خطأ أثناء تحميل البيانات")}U(!1)})()},[]),console.log(h),console.log(r);const j=async(P,ee)=>{if(window.confirm("هل أنت متأكد من رغبتك في الحذف؟"))try{await tR(Rn(tt,ee,P)),ee==="users"?a(r.filter(de=>de.id!==P)):ee==="serviceProviders"?l(o.filter(de=>de.id!==P)):ee==="feedbacks"?f(u.filter(de=>de.id!==P)):ee==="reviews"&&g(h.filter(de=>de.id!==P)),alert("تم الحذف بنجاح")}catch(de){console.error("خطأ في الحذف:",de),alert("حدث خطأ أثناء الحذف")}},C=(P,ee)=>{x({item:P,collectionName:ee}),D(P),T(!0)},R=async()=>{try{const{item:P,collectionName:ee}=v;await Yo(Rn(tt,ee,P.id),A),ee==="users"?a(r.map(de=>de.id===P.id?{...de,...A}:de)):ee==="serviceProviders"?l(o.map(de=>de.id===P.id?{...de,...A}:de)):ee==="feedbacks"?f(u.map(de=>de.id===P.id?{...de,...A}:de)):ee==="reviews"&&g(h.map(de=>de.id===P.id?{...de,...A}:de)),T(!1),alert("تم التحديث بنجاح")}catch(P){console.error("خطأ في التحديث:",P),alert("حدث خطأ أثناء التحديث")}},N=async(P,ee)=>{try{const de=Rn(tt,ee,P),pe=await bc(de);if(pe.exists()){const _e={id:pe.id,...pe.data()};if(ee==="serviceProviders"){const ue=h.filter(ie=>ie.providerEmail===_e.email);_e.reviewsDetails=ue}$(_e),Y(!0)}else alert("لم يتم العثور على البيانات")}catch(de){console.error("خطأ في جلب التفاصيل:",de),alert("حدث خطأ أثناء جلب التفاصيل")}},L=P=>P?P instanceof Date?P.toLocaleDateString("ar-EG"):P.toDate?P.toDate().toLocaleDateString("ar-EG"):"غير محدد":"غير محدد",H=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العميل"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"مقدم الخدمة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التقييم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التعليق"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.clientName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.clientEmail})]}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.providerName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.providerCategory})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((ee,de)=>y.jsx("svg",{className:`h-5 w-5 ${de<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},de)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[P.rating,"/5"]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("div",{className:"text-sm text-gray-900 truncate max-w-xs",children:P.review})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:L(P.createdAt)})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"reviews"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"reviews"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>j(P.id,"reviews"),children:"حذف"})]})]},P.id))})]})}),F=()=>y.jsx("div",{className:"flex flex-wrap border-b text-sm font-medium text-center text-gray-500 mb-4",children:[{id:"users",label:"المستخدمين"},{id:"providers",label:"مقدمي الخدمة"},{id:"complaints",label:"الشكاوى والاقتراحات"},{id:"reviews",label:"التقييمات"}].map(P=>y.jsx("button",{className:`inline-block p-4 rounded-t-lg ${e===P.id?"text-cyan-600 border-b-2 border-cyan-600":"hover:text-gray-600 hover:border-gray-300"}`,onClick:()=>t(P.id),children:P.label},P.id))}),Se=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"البريد الإلكتروني"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المحافظة"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:P.email})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:P.governorate})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"users"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"users"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>j(P.id,"users"),children:"حذف"})]})]},P.id))})]})}),xe=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الاسم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المهنة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التصنيف"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsxs("div",{className:"flex items-center",children:[P.profileImage&&y.jsx("div",{className:"flex-shrink-0 h-10 w-10 ml-2",children:y.jsx("img",{className:"h-10 w-10 rounded-full",src:P.profileImage,alt:""})}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),y.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-900",children:P.profession})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:P.category})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"serviceProviders"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"serviceProviders"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>j(P.id,"serviceProviders"),children:"حذف"})]})]},P.id))})]})}),K=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",dir:"rtl",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النوع"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المستخدم"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العنوان"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(P=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${P.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:P.type==="complaint"?"شكوى":"اقتراح"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.userName}),y.jsx("div",{className:"text-sm text-gray-500",children:P.userId})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("div",{className:"text-sm text-gray-500",children:L(P.timestamp)})}),y.jsxs("td",{className:"px-6 py-4",children:[y.jsx("div",{className:"text-sm text-gray-900",children:P.title}),y.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:P.description})]}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P.status==="new"?"bg-gray-100 text-gray-800":P.status==="in_progress"?"bg-yellow-100 text-yellow-800":P.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P.status==="new"?"جديد":P.status==="in_progress"?"قيد المعالجة":P.status==="resolved"?"تم الحل":"مرفوض"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:[y.jsx("button",{className:"text-cyan-600 hover:text-cyan-900 ml-2",onClick:()=>N(P.id,"feedbacks"),children:"عرض"}),y.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 ml-2",onClick:()=>C(P,"feedbacks"),children:"تعديل"}),y.jsx("button",{className:"text-red-600 hover:text-red-900",onClick:()=>j(P.id,"feedbacks"),children:"حذف"})]})]},P.id))})]})}),ne=()=>w&&v&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xl max-h-[80vh] overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"تعديل البيانات"}),y.jsxs("div",{className:"space-y-4",children:[v.collectionName==="feedbacks"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النوع"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.type||"complaint",onChange:P=>D({...A,type:P.target.value}),children:[y.jsx("option",{value:"complaint",children:"شكوى"}),y.jsx("option",{value:"suggestion",children:"اقتراح"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الحالة"}),y.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.status||"new",onChange:P=>D({...A,status:P.target.value}),children:[y.jsx("option",{value:"new",children:"جديد"}),y.jsx("option",{value:"in_progress",children:"قيد المعالجة"}),y.jsx("option",{value:"resolved",children:"تم الحل"}),y.jsx("option",{value:"rejected",children:"مرفوض"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"العنوان"}),y.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:A.title||"",onChange:P=>D({...A,title:P.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الرد"}),y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:A.response||"",onChange:P=>D({...A,response:P.target.value}),placeholder:"أدخل ردك هنا..."})]})]}),v.collectionName!=="feedbacks"&&Object.keys(A).filter(P=>typeof A[P]!="object"&&typeof A[P]!="function"&&!P.includes("Image")&&P!=="id").map(P=>y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:P}),P==="bio"||P==="message"||P==="comment"?y.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md",value:A[P]||"",onChange:ee=>D({...A,[P]:ee.target.value})}):y.jsx("input",{type:P==="email"?"email":"text",className:"w-full p-2 border border-gray-300 rounded-md",value:A[P]||"",onChange:ee=>D({...A,[P]:ee.target.value})})]},P))]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>T(!1),children:"إلغاء"}),y.jsx("button",{className:"px-4 py-2 bg-cyan-600 text-white rounded-md",onClick:R,children:"حفظ"})]})]})}),oe=()=>B&&M&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto",dir:"rtl",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"التفاصيل"}),M.category&&y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[M.profileImage&&y.jsx("img",{src:M.profileImage,alt:"",className:"h-16 w-16 rounded-full object-cover ml-4"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold",children:M.name}),y.jsxs("p",{className:"text-gray-600",children:[M.profession," - ",M.category]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",M.email]}),y.jsxs("p",{className:"text-gray-600",children:[" الباسورد: ",M.password]}),y.jsxs("p",{className:"text-gray-600",children:["رقم الهاتف: ",M.phone]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",M.address]}),y.jsxs("p",{className:"text-gray-600",children:["المحافظة: ",M.governorate]})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"text-gray-600",children:["رسوم الاشتراك: ",M.subscriptionFee]}),y.jsxs("p",{className:"text-gray-600",children:["متوسط التقييم: ",M.averageRating?M.averageRating.toFixed(1):"لا يوجد"," (",M.totalRatings||0," تقييم)"]}),y.jsxs("p",{className:"text-gray-600",children:["عدد الأعمال: ",M.worksCount||0]})]})]}),M.bio&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"نبذة:"}),y.jsx("p",{className:"text-gray-600",children:M.bio})]}),M.ratingsDetails&&M.ratingsDetails.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsxs("h4",{className:"text-lg font-semibold mb-2",children:["التقييمات (",M.ratingsDetails.length,")"]}),y.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:M.ratingsDetails.map((P,ee)=>y.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[y.jsxs("div",{className:"flex justify-between mb-1",children:[y.jsx("div",{className:"font-medium",children:P.userName}),y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((de,pe)=>y.jsxs("svg",{className:`h-4 w-4 ${pe<P.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:["  ",y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]},pe)),y.jsxs("span",{className:"text-xs text-gray-600 mr-1",children:[P.rating,"/5"]})]})]}),y.jsx("p",{className:"text-sm text-gray-600",children:P.comment}),y.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L(P.createdAt)})]},ee))})]})]}),!M.category&&!M.providerId&&!M.title&&y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(M).filter(([P])=>P!=="id"&&typeof M[P]!="object"&&typeof M[P]!="function").map(([P,ee])=>y.jsxs("div",{className:"mb-3",children:[y.jsxs("h4",{className:"font-semibold",children:[P,":"]}),y.jsx("p",{className:"text-gray-600",children:(ee==null?void 0:ee.toString())||"غير محدد"})]},P))}),M.title&&y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات المستخدم"}),y.jsxs("p",{className:"text-gray-600",children:["الاسم: ",M.userName]}),y.jsxs("p",{className:"text-gray-600",children:["البريد الإلكتروني: ",M.userId]}),y.jsxs("p",{className:"text-gray-600",children:["الدور: ",M.userRole]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["تفاصيل ",M.type==="complaint"?"الشكوى":"الاقتراح"]}),y.jsxs("p",{className:"text-gray-600",children:["النوع:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${M.type==="complaint"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:M.type==="complaint"?"شكوى":"اقتراح"})]}),y.jsxs("p",{className:"text-gray-600",children:["العنوان: ",M.title]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ الإنشاء: ",L(M.timestamp)]}),y.jsxs("p",{className:"text-gray-600",children:["الحالة:",y.jsx("span",{className:`mr-2 px-2 py-1 text-xs font-semibold rounded-full ${M.status==="new"?"bg-gray-100 text-gray-800":M.status==="in_progress"?"bg-yellow-100 text-yellow-800":M.status==="resolved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.status==="new"?"جديد":M.status==="in_progress"?"قيد المعالجة":M.status==="resolved"?"تم الحل":"مرفوض"})]}),y.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التفاصيل:"}),y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:M.description})]})]}),M.response&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"الرد"}),y.jsx("div",{className:"p-3 bg-blue-50 rounded",children:y.jsx("p",{className:"text-gray-800 whitespace-pre-line",children:M.response})}),y.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["تاريخ الرد: ",L(M.respondedAt)]})]})]}),M.providerId&&!M.title&&y.jsx("div",{children:y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"معلومات التقييم"}),y.jsxs("p",{className:"text-gray-600",children:["المستخدم: ",M.userName]}),y.jsxs("p",{className:"text-gray-600",children:["مقدم الخدمة: ",M.providerName]}),y.jsxs("p",{className:"text-gray-600",children:["تاريخ التقييم: ",L(M.createdAt)]}),y.jsxs("div",{className:"flex items-center my-2",children:[y.jsx("span",{className:"ml-2",children:"التقييم:"}),[...Array(5)].map((P,ee)=>y.jsx("svg",{className:`h-5 w-5 ${ee<M.rating?"text-yellow-400":"text-gray-300"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},ee)),y.jsxs("span",{className:"text-sm text-gray-600 mr-1",children:[M.rating,"/5"]})]}),y.jsxs("div",{className:"mt-2",children:[y.jsx("h4",{className:"font-semibold mb-1",children:"التعليق:"}),y.jsx("div",{className:"p-3 bg-gray-50 rounded",children:y.jsx("p",{className:"text-gray-800",children:M.comment})})]})]})}),y.jsx("div",{className:"flex justify-end mt-6",children:y.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md",onClick:()=>Y(!1),children:"إغلاق"})})]})}),be=()=>y.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-600"})});return y.jsxs(ve.div,{className:"container mx-auto px-4 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-right",children:"لوحة تحكم المشرف"}),y.jsx(ve.button,{onClick:()=>{n("/nafany/login")},className:"bg-red-500 text-white px-5 py-2 rounded-lg hover:bg-red-600 text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:"تسجيل الخروج"}),F(),O?be():y.jsx(y.Fragment,{children:y.jsxs("div",{className:"bg-white shadow-md rounded-lg p-4",children:[e==="users"&&Se(),e==="providers"&&xe(),e==="complaints"&&K(),e==="reviews"&&H()]})}),ne(),oe()]})},vz=()=>{const{serviceType:n}=Im(),e=tr(),r={"خدمات فنية":[{name:"سباك",icon:"🔧",color:"bg-blue-500"},{name:"نجار",icon:"🪓",color:"bg-yellow-700"},{name:"كهربائي",icon:"⚡",color:"bg-yellow-500"},{name:"ميكانيكي",icon:"🔩",color:"bg-gray-700"},{name:"حداد",icon:"⚒️",color:"bg-red-700"},{name:"فني تكييفات",icon:"❄️",color:"bg-blue-300"},{name:"نقاش",icon:"🖌️",color:"bg-purple-500"},{name:"ترزي",icon:"🧵",color:"bg-pink-500"}],"خدمات صحية":[{name:"طبيب عام",icon:"👨‍⚕️",color:"bg-green-500"},{name:"صيدلي",icon:"💊",color:"bg-red-500"},{name:"ممرض",icon:"🩺",color:"bg-blue-400"},{name:"أخصائي تغذية",icon:"🥗",color:"bg-green-300"},{name:"أخصائي علاج طبيعي",icon:"🤸",color:"bg-indigo-500"},{name:"طبيب أسنان",icon:"🦷",color:"bg-cyan-500"}],"خدمات عامة":[{name:"سوبر ماركت",icon:"🛒",color:"bg-orange-500"},{name:"مطعم",icon:"🍽️",color:"bg-red-600"},{name:"كافيه",icon:"☕",color:"bg-yellow-900"},{name:"مولات",icon:"🏬",color:"bg-purple-700"}],"خدمات أخرى":[{name:"عطار",icon:"🌿",color:"bg-green-700"},{name:"جزار",icon:"🥩",color:"bg-red-800"},{name:"فكهاني",icon:"🍎",color:"bg-red-500"},{name:"خضري",icon:"🥬",color:"bg-green-500"},{name:"محل ألبان",icon:"🥛",color:"bg-white text-gray-800"}]}[n]||[],a={"خدمات فنية":"الخدمات الفنية والحرفية","خدمات صحية":"الخدمات الصحية والطبية","خدمات عامة":"الخدمات العامة والتجارية","خدمات أخرى":"خدمات متنوعة أخرى"},o=l=>{e(`/nafany/services_jobs/${n}/${l.name}`)};return y.jsx(ve.div,{className:"min-h-screen bg-gradient-to-b from-cyan-100 to-blue-200 py-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs(ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"flex items-center mb-6 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-1",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"رجوع"]}),y.jsx(ve.h1,{className:"text-3xl font-bold text-center text-cyan-800 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:a[n]||n}),y.jsx(ve.p,{className:"text-lg text-center text-gray-600 mb-12",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"اختر الخدمة التي تحتاجها من القائمة أدناه"}),y.jsx(ve.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.1}}},children:r.map((l,u)=>y.jsx(ve.div,{whileHover:{scale:1.05,transition:{duration:.2}},whileTap:{scale:.95},variants:{hidden:{y:20,opacity:0},visible:{y:0,opacity:1}},className:`${l.color} rounded-xl shadow-lg p-6 cursor-pointer text-center transition-all`,onClick:()=>o(l),children:y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("span",{className:"text-4xl mb-3",children:l.icon}),y.jsx("h3",{className:"text-xl font-bold text-white",children:l.name})]})},u))}),r.length===0&&y.jsx("div",{className:"text-center text-gray-600 text-xl mt-10",children:"لا توجد خدمات متاحة في هذه الفئة حالياً"})]})})},bz=()=>{const n=Ek(ek(y.jsxs(y.Fragment,{children:[y.jsx(Rr,{path:"/nafany/login",element:y.jsx(D9,{})}),y.jsx(Rr,{path:"/nafany/register",element:y.jsx(A9,{})}),y.jsx(Rr,{path:"/nafany/register_user",element:y.jsx(C9,{})}),y.jsx(Rr,{path:"/nafany/services_jobs/:serviceType/:professionType",element:y.jsx(J9,{})}),y.jsx(Rr,{path:"/nafany/servicer_page",element:y.jsx(e8,{})}),y.jsx(Rr,{path:"/nafany/book_page/:providerId",element:y.jsx(dz,{})}),y.jsx(Rr,{path:"/nafany/",element:y.jsx(Z9,{})}),y.jsx(Rr,{path:"/nafany/chat/:providerId",element:y.jsx(hz,{})}),y.jsx(Rr,{path:"/nafany/settings",element:y.jsx(mz,{})}),y.jsx(Rr,{path:"/nafany/contact",element:y.jsx(pz,{})}),y.jsx(Rr,{path:"/nafany/complaints",element:y.jsx(gz,{})}),y.jsx(Rr,{path:"/nafany/admin",element:y.jsx(yz,{})}),y.jsx(Rr,{path:"/nafany/service_categories/:serviceType",element:y.jsx(vz,{})})]})));return y.jsx(y.Fragment,{children:y.jsx(jk,{router:n})})};PM.createRoot(document.getElementById("root")).render(y.jsx(k.StrictMode,{children:y.jsx(bz,{})}));
